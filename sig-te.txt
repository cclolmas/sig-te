A Governança Guiada por Dados: Análise do Processo de Implementação e Adoção do Sistema Integrado de Gestão do Transporte Escolar (SIG-TE)

Resumo
A gestão do transporte escolar no setor público, um serviço de capilaridade social e complexidade logística imensas, permanece frequentemente ancorada em paradigmas analógicos que geram ineficiências, opacidade e riscos. Este projeto investiga o processo de transformação digital deste serviço no âmbito da Coordenação Regional de Ensino do Plano Piloto (CRE-PP), no Distrito Federal, a partir da concepção, implementação e análise da adoção do Sistema Integrado de Gestão do Transporte Escolar (SIG-TE). O diagnóstico do ecossistema pré-intervenção, baseado na análise documental de manuais e planilhas operacionais, revela um cenário de fragmentação sistêmica, caracterizado pela dependência de fluxos de informação em papel, comunicação assíncrona e instrumentos de controle manuais. Tal estrutura impede a gestão estratégica baseada em evidências, dificulta a fiscalização contratual e a avaliação objetiva da qualidade, e expõe a administração a riscos operacionais e financeiros. Como resposta a este problema, foi projetada e implementada uma plataforma governamental centralizada, desenvolvida em React com uma arquitetura serverless na Google Cloud Platform (Firebase), alinhada aos princípios do governo digital e ao Design System do gov.br. O SIG-TE digitaliza integralmente as rotinas, desde a gestão de estudantes e itinerários até os processos de pagamento e solicitação de serviços extracurriculares, introduzindo mecanismos de captação de dados em tempo real, como o registro de frequência por QR Code e o acompanhamento georreferenciado de rotas. O arcabouço metodológico desta pesquisa-ação se apoia em um framework analítico quantitativo misto, que combina a Modelagem de Equações Estruturais (SEM) para investigar os determinantes da satisfação dos usuários, e a Análise de Condições Necessárias (NCA) para identificar os fatores críticos e indispensáveis à excelência do serviço. O projeto analisa não apenas a arquitetura tecnológica e os resultados operacionais — como aumento de eficiência, redução de custos e ampliação da transparência —, mas, fundamentalmente, o processo de adoção da tecnologia pelos diferentes atores (gestores escolares, fiscais da UNIAE, monitores, motoristas e empresas). Ao final, este trabalho contribui para o campo da Administração Pública ao oferecer um modelo replicável de transformação digital para serviços públicos complexos, uma metodologia robusta para avaliação contínua da qualidade e insights sobre os fatores humanos e organizacionais que determinam o sucesso da transição de uma gestão baseada em processos para uma governança guiada por dados.

Palavras-chave: Governo Digital, Transporte Escolar, Modelagem de Equações Estruturais (SEM), Análise de Condições Necessárias (NCA), Gestão de Dados.

















Sumário

Introdução
1.1. A Modernização da Gestão Pública na Era Digital
1.2. O Desafio Logístico e Social do Transporte Escolar
1.3. O Problema: Fragmentação e Ineficiência na Gestão do Transporte Escolar da CRE-PP
1.4. Justificativa e Relevância
1.5. Objetivos
    1.5.1. Objetivo Geral
    1.5.2. Objetivos Específicos
1.6. Estrutura do Projeto
Capítulo 1: Revisão da Literatura
1.1. A Evolução do Governo Eletrônico para o Governo Digital
    1.1.1. Paradigmas da Governança Pública e o Papel da Tecnologia
    1.1.2. O Design System e a Padronização da Experiência do Cidadão
1.2. Modelos Teóricos de Adoção e Aceitação de Tecnologia
    1.2.1. O Modelo de Aceitação de Tecnologia (TAM) e suas Extensões
    1.2.2. A Teoria Unificada de Aceitação e Uso de Tecnologia (UTAUT/UTAUT2)
    1.2.3. Fatores Críticos na Adoção de Tecnologia no Setor Público
1.3. Gestão de Dados e Business Intelligence na Governança Pública
    1.3.1. Da Coleta de Dados à Inteligência Gerencial
    1.3.2. Transparência Ativa e Passiva: O Papel dos Painéis de Dados Públicos
1.4. Metodologias Analíticas para Avaliação de Políticas e Serviços Públicos
    1.4.1. Modelagem de Equações Estruturais (SEM) para Análise Causal
    1.4.2. Análise de Condições Necessárias (NCA) para Identificação de Fatores de Veto
    1.4.3. A Sinergia entre SEM e NCA para uma Visão Gerencial Completa
Metodologia de Pesquisa
2.1. Delineamento do Projeto: Um Estudo de Caso com Abordagem de Pesquisa-Ação
2.2. Fases do Projeto
    2.2.1. Fase 1: Diagnóstico e Análise do Ecossistema Pré-Intervenção
    2.2.2. Fase 2: Concepção e Desenvolvimento da Solução (SIG-TE)
    2.2.3. Fase 3: Implementação e Gestão da Mudança
    2.2.4. Fase 4: Coleta e Análise de Dados Pós-Implementação
2.3. Universo e Amostra: Mapeamento dos Atores Envolvidos
2.4. Instrumentos de Coleta de Dados
    2.4.1. Análise Documental (Manuais, Planilhas, Processos SEI)
    2.4.2. Dados Transacionais da Plataforma SIG-TE (Logs, Registros de Frequência, Ocorrências)
    2.4.3. Questionários Estruturados para Análise SEM e NCA
    2.4.4. Entrevistas Semi-estruturadas com Gestores e Fiscais
2.5. Procedimentos de Análise de Dados
    2.5.1. Análise de Conteúdo dos Documentos e Entrevistas
    2.5.2. Análise Estatística Descritiva dos Dados Operacionais
    2.5.3. Modelagem e Análise com SEM (via SmartPLS/R-lavaan)
    2.5.4. Modelagem e Análise com NCA (via R-NCA)
Diagnóstico e Concepção do SIG-TE
3.1. A Anatomia da Fragmentação: Análise Crítica do Ecossistema Atual
    3.1.1. Mapeamento dos Fluxos de Informação Manuais e seus Gargalos
    3.1.2. A Heterogeneidade dos Instrumentos: De Formulários em Papel a Planilhas Desconectadas
3.2. Redesenho de Processos e Modelagem de Dados
    3.2.1. Otimização dos Fluxos de Trabalho para o Ambiente Digital
    3.2.2. Modelagem Conceitual do Banco de Dados (Firestore)
    3.2.3. Projeto dos Formulários Digitais e da Experiência do Usuário (UX)
3.3. Arquitetura Técnica da Solução Proposta
    3.3.1. Justificativa da Escolha da Arquitetura Serverless (Firebase)
    3.3.2. Arquitetura da Aplicação Frontend (React) e Aderência ao Design System gov.br
    3.3.3. Modelo de Controle de Acesso Baseado em Papéis (RBAC)
Capítulo 4: O Processo de Implementação e Gestão da Mudança
4.1. O Roadmap de Implementação Faseado: Da Fundação à Inteligência
4.2. Estratégias de Gestão da Mudança
    4.2.1. Comunicação e Engajamento dos Stakeholders
    4.2.2. Plano de Treinamento e Capacitação por Perfil de Usuário
    4.2.3. Identificação e Mitigação de Resistências
4.3. O Protótipo como Ferramenta de Validação: O Formulário de Atividades Extracurriculares
    4.3.1. Desenvolvimento do Protótipo em React
    4.3.2. Coleta de Feedback e Refinamento Iterativo
4.4. Transformando o Roadmap em Ação: Um Guia de Prompts para Desenvolvimento com IA (GitHub Copilot)
Análise de Dados e Resultados
5.1. Análise Descritiva dos Dados Operacionais Pós-Implementação
    5.1.1. Eficiência Operacional: Redução no Tempo de Ciclo dos Processos
    5.1.2. Qualidade dos Dados: Análise da Integridade e Disponibilidade
    5.1.3. Otimização de Custos: Análise de Quilometragem e Ocupação de Frota
5.2. Avaliação da Qualidade do Serviço: Análise SEM e NCA
    5.2.1. Validação do Modelo de Mensuração
    5.2.2. Resultados do Modelo Estrutural (SEM): Os Drivers da Satisfação
    5.2.3. Resultados da Análise de Condições Necessárias (NCA): Os Fatores de Veto
5.3. Análise da Adoção do Sistema pelos Atores
    5.3.1. Análise Quantitativa da Utilização por Perfil de Usuário
    5.3.2. Análise Qualitativa das Percepções (Entrevistas)
5.4. Resultados de Transparência: Os Painéis de Dados Públicos
    5.4.1. Dashboard de Lotação da Frota em Tempo Real
    5.4.2. Painel de Acompanhamento de Autorizações de Veículos
Discussão dos Resultados
6.1. O Impacto da Transformação Digital na Eficiência e Transparência da CRE-PP
6.2. A Sinergia entre SEM e NCA como Ferramenta de Diagnóstico Gerencial
6.3. Fatores Determinantes para a Adoção do SIG-TE: Uma Análise à Luz da Teoria (TAM/UTAUT)
6.4. Desafios, Limitações e Lições Aprendidas no Processo de Implementação
6.5. Implicações Práticas para Gestores Públicos
Conclusão
7.1. Síntese dos Principais Achados
7.2. Contribuições do Projeto (Teóricas, Metodológicas e Práticas)
7.3. Recomendações para a Sustentabilidade e Evolução do SIG-TE
7.4. Sugestões para Passos Futuros
Referências
Apêndice A: Modelo do Questionário de Avaliação da Qualidade
Apêndice B: Roteiro das Entrevistas Semi-estruturadas
Apêndice C: Código-fonte dos Componentes React do Protótipo
Introdução
A administração pública contemporânea enfrenta um dilema persistente: a crescente demanda por serviços públicos mais eficientes, transparentes e responsivos, em contraste com estruturas organizacionais e processos de trabalho muitas vezes herdados de uma era pré-digital. A transformação digital emerge, neste contexto, não como uma mera modernização de infraestrutura tecnológica, mas como um imperativo estratégico para a reengenharia fundamental do Estado e de sua relação com o cidadão (Mergel, Edelmann, & Haug, 2019). Trata-se de uma mudança paradigmática que transcende a simples digitalização de formulários, visando a uma governança integralmente orientada por dados, centrada no usuário e capaz de gerar valor público de forma ágil e sustentável. O serviço de transporte escolar, objeto central deste projeto, representa um microcosmo exemplar dos desafios e oportunidades inerentes a essa transformação. Essencial para garantir o acesso e a permanência de milhões de estudantes na escola, concretizando um direito fundamental, sua gestão logística é de uma complexidade notável. Envolve a coordenação de múltiplos atores — unidades escolares, órgãos de gestão regional, empresas contratadas, motoristas, monitores, estudantes e suas famílias —, a administração de contratos vultosos, o planejamento de itinerários dinâmicos e a garantia de segurança e qualidade em tempo real. A falha em qualquer um desses elos pode resultar não apenas em prejuízo ao erário, mas, mais gravemente, em risco à integridade física dos estudantes e em barreiras ao acesso à educação.

1.1. O Problema de Pesquisa: Fragmentação e Ineficiência na Gestão do Transporte Escolar da CRE-PP
A Coordenação Regional de Ensino do Plano Piloto (CRE-PP), responsável pela gestão do transporte escolar em uma das áreas mais complexas do Distrito Federal, operava, até o início deste projeto, sob um modelo de gestão operacionalmente fragmentado. A análise crítica dos documentos norteadores, como o "Manual do Transporte Escolar" (DISTRITO FEDERAL, 2025a), e dos instrumentos de trabalho cotidianos, revela um ecossistema dependente de uma intrincada teia de interações humanas e fluxos de informação manuais. O sistema vigente se apoia em artefatos analógicos e semi-digitais que geram ilhas de dados desconectadas. Processos críticos, como a inclusão de um novo aluno na rota, a solicitação de um veículo para uma atividade extracurricular ou a consolidação mensal para pagamento das empresas, tramitam via Sistema Eletrônico de Informações (SEI), mas são alimentados por documentos gerados externamente: formulários em papel preenchidos à mão, como o "Formulário de Requerimento e Adesão", e, principalmente, planilhas eletrônicas. Estas planilhas, como o "Censo do Transporte Escolar" e as "Frequências Veiculares", embora digitais em sua forma, funcionam como meros substitutos do papel, sem validação de dados, sem controle de versão e sem integração sistêmica. Observa-se uma miríade de tabelas com estruturas distintas para diferentes finalidades:
●Tabelas de cálculo de pagamento que misturam dados de quilometragem, dias letivos e valores, exigindo consolidação manual para cada contrato.
●Listas de itinerários da frota própria (PCE) e da frota locada (A.), com estruturas de dados completamente diferentes, dificultando uma visão unificada da operação.
●Inconsistências flagrantes, como o cálculo de "Vagas no veículos (Assentos)" resultando em valores negativos (e.g., -174 na linha do itinerário PCE.REDE.3.3), indicando superlotação severa ou, mais provavelmente, erros de digitação e fórmula que não são detectados pelo sistema.
●Registros de atividades extracurriculares com status de tramitação textuais ("cancelado", "unieb", "devolvido à ue"), que impedem qualquer tipo de análise agregada sobre a demanda ou a eficiência do processo. Essa estrutura resulta em um conjunto de problemas crônicos:
1.Ineficiência Operacional: A Unidade Regional de Infraestrutura e Apoio Educacional (UNIAE) torna-se um gargalo, sobrecarregada com a tarefa hercúlea de consolidar, verificar e transcrever manualmente dados de dezenas de escolas, processos SEI e planilhas. O ciclo para incluir um aluno ou autorizar um serviço é longo e suscetível a erros.
2.Ausência de Dados para Gestão Estratégica: Não há uma base de dados consolidada e em tempo real. Perguntas gerenciais básicas como "Qual a taxa de ocupação média da frota?", "Qual o custo por aluno/km em cada itinerário?" ou "Quais rotas apresentam maior índice de ocorrências?" são impossíveis de responder de forma ágil e precisa.
3.Baixa Transparência e Dificuldade de Fiscalização: A fiscalização dos contratos torna-se reativa e baseada em amostragens. A verificação do cumprimento de rotas, horários e da própria frequência dos alunos é um processo manual e de difícil auditoria. A sociedade e os órgãos de controle não possuem acesso a dados claros e abertos sobre a execução do serviço.
4.Riscos Operacionais e Financeiros: A falta de controle em tempo real sobre a operação impede a resposta proativa a problemas como atrasos, superlotação e desvios de rota. Pagamentos indevidos podem ocorrer devido a erros na consolidação manual das frequências e quilometragens. Diante deste cenário, o problema de pesquisa que norteia este projeto é: Como a implementação de um sistema de informação digital, integrado e orientado a dados (o SIG-TE) pode transformar a gestão do transporte escolar na CRE-PP, e quais são os fatores críticos que influenciam sua adoção pelos diferentes atores envolvidos no processo?

1.2. Justificativa e Relevância do Projeto
A relevância deste projeto se manifesta em três dimensões interconectadas:
●Relevância Social e Administrativa: O projeto SIG-TE, e a análise de sua implementação, possui o potencial de gerar impacto direto na qualidade e segurança de um serviço público essencial. Ao otimizar rotas, monitorar a frequência em tempo real e fornecer canais de comunicação ágeis, o sistema visa a melhorar a experiência de milhares de estudantes e suas famílias. Para a administração pública, representa um salto de um modelo reativo e burocrático para uma gestão proativa, estratégica e fundamentada em evidências, alinhada aos mais modernos princípios de governança pública (1DOC, 2025; APROVA, 2025).
●Relevância Teórica: Este projeto contribui para a literatura de Administração Pública e Sistemas de Informação ao investigar a adoção de tecnologia em um contexto governamental complexo. A aplicação combinada dos modelos SEM e NCA para avaliar a qualidade de um serviço público é uma abordagem inovadora que pode fornecer um framework robusto para outras áreas. Adicionalmente, a análise dos fatores de adoção pelos diversos perfis de usuários (gestores, fiscais, monitores) à luz de teorias consagradas como a UTAUT (Venkatesh et al., 2003) permite testar e refinar esses modelos no ambiente específico do setor público brasileiro.
●Relevância Metodológica: A utilização da pesquisa-ação como delineamento metodológico permite que o pesquisador atue como agente de mudança, participando ativamente do diagnóstico, concepção, implementação e avaliação da intervenção. Esta abordagem não apenas enriquece a análise, ao fornecer uma perspectiva interna e profunda do fenômeno, mas também gera conhecimento prático e aplicável, culminando em um produto digital funcional e em um conjunto de diretrizes para sua sustentabilidade e evolução.

1.3. Objetivos

1.3.1. Objetivo Geral
Analisar o processo de implementação e adoção do Sistema Integrado de Gestão do Transporte Escolar (SIG-TE) na CRE-PP, avaliando seu impacto na eficiência operacional, na transparência, na qualidade do serviço e na capacidade de gestão baseada em dados.

1.3.2. Objetivos Específicos
1.Diagnosticar as fragilidades e ineficiências do ecossistema de gestão do transporte escolar da CRE-PP anterior à intervenção, com base na análise de documentos e processos vigentes.
2.Projetar e detalhar a arquitetura técnica e funcional da plataforma digital SIG-TE, incluindo o redesenho de processos, a modelagem de dados e a aderência aos padrões de governo digital.
3.Implementar a solução SIG-TE de forma faseada, documentando o processo e as estratégias de gestão da mudança aplicadas para engajar os diferentes atores.
4.Desenvolver e aplicar um framework analítico misto (SEM e NCA) para transformar a avaliação da qualidade do serviço de um processo subjetivo para um diagnóstico gerencial contínuo e baseado em evidências.
5.Avaliar os resultados da implementação do SIG-TE em termos de eficiência operacional (redução de tempo e retrabalho), otimização de custos (análise de rotas e ocupação) e aumento da transparência (via painéis públicos).
6.Analisar os fatores determinantes para a adoção e o uso efetivo do novo sistema pelos diferentes perfis de usuários, identificando barreiras e facilitadores.

1.4. Estrutura do Projeto
Este projeto está organizada em seis capítulos. O Capítulo 1, que ora se encerra, apresentou a contextualização do problema, a justificativa e os objetivos. O Capítulo 2 realiza uma revisão aprofundada da literatura sobre transformação digital no setor público, modelos de adoção de tecnologia e as metodologias analíticas (SEM e NCA) que fundamentam o estudo. O Capítulo 3 detalha a metodologia de pesquisa-ação adotada. O Capítulo 4 apresenta o diagnóstico do sistema legado e a concepção detalhada da solução SIG-TE, incluindo o processo de implementação. O Capítulo 5 é dedicado à análise dos dados e à apresentação dos resultados quantitativos e qualitativos. Finalmente, o Capítulo 6 discute os resultados à luz da teoria, sintetiza as conclusões, aponta as contribuições do trabalho e sugere caminhos para os passos futuros.

Revisão da Literatura
Para fundamentar a análise do processo de implementação e adoção do SIG-TE, é imprescindível ancorar o projeto em um arcabouço teórico sólido. Este capítulo explora quatro pilares conceituais: (1) a transição do Governo Eletrônico para o Governo Digital, que contextualiza a natureza da transformação proposta; (2) os modelos teóricos de adoção e aceitação de tecnologia, que fornecem as lentes para analisar o comportamento dos usuários; (3) a gestão de dados como alicerce da governança pública moderna; e (4) as metodologias analíticas avançadas (SEM e NCA) que compõem o framework de avaliação de qualidade do serviço.

1.1. A Evolução do Governo Eletrônico para o Governo Digital
A jornada da tecnologia na administração pública pode ser compreendida em fases distintas. A primeira onda, conhecida como Governo Eletrônico (e-Gov), concentrou-se primariamente na digitalização de serviços existentes e na criação de portais de informação. O foco era a eficiência interna e a disponibilização de canais online, tratando a tecnologia como uma ferramenta para otimizar processos legados (Heeks & Bailur, 2007). Embora tenha representado um avanço significativo, o e-Gov frequentemente resultava em "silos digitais", onde cada departamento criava seu próprio sistema, replicando a fragmentação do mundo analógico no ambiente virtual. A fase atual, denominada Governo Digital, propõe uma ruptura com essa visão. Não se trata mais apenas de colocar serviços online, mas de repensar fundamentalmente o funcionamento do governo e sua interação com a sociedade, utilizando a tecnologia como um catalisador para a transformação (Mergel, Edelmann, & Haug, 2019). O paradigma do Governo Digital é caracterizado por princípios como:
●Foco no Cidadão (Citizen-centricity): Os serviços são projetados a partir da perspectiva e das necessidades do usuário, e não da conveniência da estrutura administrativa. A jornada do cidadão é mapeada para criar experiências simples, integradas e intuitivas.
●Governança de Dados: Os dados são tratados como um ativo estratégico, coletados de forma estruturada, integrados entre diferentes sistemas e utilizados para embasar a tomada de decisão, formular políticas públicas e avaliar resultados.
●Plataformas Integradas: Em vez de sistemas isolados, busca-se a construção de plataformas governamentais que compartilham componentes, dados e serviços, garantindo interoperabilidade e uma experiência unificada para o usuário.
●Governo como Plataforma (GaaP): Uma visão mais avançada onde o governo provê a infraestrutura e os dados abertos para que a sociedade, empresas e outros entes possam construir novos serviços e gerar valor, fomentando a inovação (O'Reilly, 2011). O projeto SIG-TE está intrinsecamente alinhado a este paradigma de Governo Digital. Ele não se limita a digitalizar o "Formulário de Requerimento e Adesão", mas propõe uma plataforma centralizada que integra todos os atores e processos, transforma operações em dados estruturados e utiliza esses dados para gerar inteligência gerencial e transparência, redefinindo a forma como o serviço é administrado e entregue.

1.1.1. O Design System e a Padronização da Experiência do Cidadão
Um componente crucial para o sucesso do Governo Digital é a criação de uma identidade visual e de interação consistente em todos os serviços. O Design System emerge como a solução para este desafio. Trata-se de uma coleção de componentes reutilizáveis, padrões e diretrizes, guiados por princípios claros, que permitem às equipes construir produtos digitais de alta qualidade de forma mais rápida e coesa (Suarez et al., 2019). No contexto governamental, um Design System, como o Design System do gov.br (BRASIL, 2025), cumpre funções estratégicas:
1.Eficiência: Evita que cada equipe de desenvolvimento "reinvente a roda", fornecendo componentes prontos (botões, formulários, cabeçalhos) que aceleram o processo.
2.Consistência e Confiança: Garante que todos os serviços do governo tenham uma aparência e comportamento familiares, o que reduz a carga cognitiva do cidadão e aumenta a confiança na plataforma.
3.Acessibilidade: Incorpora, por padrão, as melhores práticas de acessibilidade (como as diretrizes do eMAG - BRASIL, 2025b), garantindo que os serviços sejam utilizáveis por todas as pessoas, incluindo aquelas com deficiência. A decisão de adotar estritamente o Design System do gov.br no projeto SIG-TE não é, portanto, uma mera escolha estética, mas uma decisão estratégica alinhada aos princípios do Governo Digital, que visa a garantir usabilidade, confiança e inclusão.

1.2. Modelos Teóricos de Adoção e Aceitação de Tecnologia
A implementação de um novo sistema, por mais avançado que seja, não garante seu sucesso. O fator humano é decisivo. A literatura sobre Sistemas de Informação desenvolveu diversos modelos para explicar e prever como os usuários aceitam e utilizam novas tecnologias. Para este projeto, a Teoria Unificada de Aceitação e Uso de Tecnologia (UTAUT) é particularmente relevante. A UTAUT, proposta por Venkatesh et al. (2003), sintetiza oito modelos proeminentes, incluindo o popular Modelo de Aceitação de Tecnologia (TAM). Ela postula que a intenção de uso e o comportamento de uso de uma tecnologia são diretamente influenciados por quatro construtos principais:
1.Expectativa de Desempenho (Performance Expectancy): O grau em que um indivíduo acredita que usar o sistema o ajudará a obter ganhos no desempenho de seu trabalho. É o análogo à "utilidade percebida" do TAM. No caso do SIG-TE, seria a percepção de um gestor escolar de que o sistema realmente agiliza a solicitação de transporte.
2.Expectativa de Esforço (Effort Expectancy): O grau de facilidade associado ao uso do sistema. Corresponde à "facilidade de uso percebida" do TAM. Para um monitor, seria a facilidade de usar o aplicativo móvel para registrar a frequência por QR Code em comparação com a lista de papel.
3.Influência Social (Social Influence): A percepção de que pessoas importantes para o indivíduo (como superiores ou colegas) acreditam que ele deveria usar o novo sistema. A comunicação da CRE-PP e o engajamento dos diretores de escola são exemplos de influência social.
4.Condições Facilitadoras (Facilitating Conditions): A percepção do indivíduo sobre a existência de uma infraestrutura organizacional e técnica para apoiar o uso do sistema (e.g., treinamento adequado, suporte técnico, disponibilidade de dispositivos). A UTAUT também considera o papel de variáveis moderadoras como gênero, idade, experiência e voluntariedade de uso. No contexto do SIG-TE, onde o uso será mandatório, a análise se concentrará em como as condições facilitadoras e as expectativas de desempenho e esforço impactam a adoção efetiva e a satisfação dos diferentes grupos de atores. Este arcabouço teórico será fundamental no Capítulo 5 para analisar os dados de uso e as percepções coletadas nas entrevistas.

1.3. Gestão de Dados e Business Intelligence na Governança Pública
A transição para o Governo Digital é, em sua essência, uma transição para a governança guiada por dados. Isso implica em ir além da simples coleta e armazenamento, estabelecendo um ciclo virtuoso de Business Intelligence (BI) no setor público:
1.Coleta de Dados: Os processos operacionais são desenhados para gerar dados estruturados e de alta qualidade. A substituição do "Diário de Bordo" em papel por um formulário de ocorrências no aplicativo móvel é um exemplo perfeito: transforma anotações dispersas em um banco de dados quantificável sobre problemas por rota, veículo ou horário.
2.Integração e Armazenamento: Os dados de diversas fontes (inclusão de alunos, frequência, ocorrências, custos) são centralizados em um repositório único e consistente, como o banco de dados Firestore proposto.
3.Análise e Visualização: Os dados são processados e transformados em informações acionáveis, apresentadas de forma intuitiva por meio de painéis de dados (dashboards). O projeto do SIG-TE prevê dois tipos de painéis: um Painel Gerencial restrito, com KPIs para os gestores, e um Painel de Transparência público.
4.Ação e Decisão: Os gestores utilizam os insights dos painéis para tomar decisões estratégicas, como otimizar uma rota ineficiente, renegociar um contrato com base em dados de desempenho ou focar a fiscalização em veículos com maior índice de ocorrências. Este ciclo capacita a administração a passar de uma gestão baseada na intuição e em processos burocráticos para uma gestão baseada em evidências, promovendo a eficiência e a responsabilidade (accountability). O Painel de Transparência, em particular, materializa o princípio da transparência ativa, onde o governo se antecipa e disponibiliza dados de interesse público, fortalecendo o controle social.

1.4. Metodologias Analíticas para Avaliação de Políticas e Serviços Públicos
Para avaliar a qualidade do serviço de transporte escolar de forma robusta, este projeto adota um framework analítico misto que combina duas técnicas estatísticas avançadas: a Modelagem de Equações Estruturais (SEM) e a Análise de Condições Necessárias (NCA).

1.4.1. Modelagem de Equações Estruturais (SEM) para Análise Causal da Satisfação
A SEM é uma técnica de segunda geração que permite ao pesquisador testar redes complexas de relações causais entre variáveis observáveis e construtos latentes (não observáveis diretamente), como "Qualidade" ou "Satisfação" (Hair et al., 2014). Sua aplicação no SIG-TE permitirá quantificar o impacto relativo de diferentes dimensões da qualidade (e.g., Qualidade dos Profissionais, Qualidade do Veículo, Qualidade Operacional) na Satisfação Geral dos usuários. A SEM opera sob uma lógica de suficiência: ela busca responder "quanto mais de X, mais de Y". Por exemplo, ela pode revelar que um aumento de 1 ponto na "Qualidade Operacional" (medida por pontualidade, cumprimento de rota, etc.) leva, em média, a um aumento de 0.6 pontos na "Satisfação Geral". Isso permite que os gestores priorizem investimentos nas áreas de maior impacto na satisfação média da população.

1.4.2. Análise de Condições Necessárias (NCA) para Identificação de Fatores Críticos
Enquanto a SEM foca na média, a NCA, uma técnica mais recente, foca nos extremos e opera sob uma lógica de necessidade: ela busca responder "sem X, não há Y" (Dul, 2016). A NCA identifica fatores que funcionam como pré-requisitos ou "fatores de veto". A ausência (ou um nível insuficiente) de uma condição necessária impede que um resultado desejado seja alcançado, independentemente do nível de outros fatores. A análise identifica uma "linha de teto" (ceiling line) em um gráfico de dispersão, que delimita uma área vazia onde o resultado de alto nível não ocorre.

1.4.3. A Sinergia entre SEM e NCA para uma Visão Gerencial Completa
A combinação de SEM e NCA oferece uma visão gerencial extraordinariamente rica e complementar. Um fator pode não ser um forte preditor na SEM (lógica de suficiência), mas ser uma condição indispensável na NCA (lógica de necessidade). O exemplo do "Acompanhamento do embarque e desembarque pelo monitor" é perfeito: sua presença pode não elevar significativamente a satisfação média (pois é visto como uma obrigação básica), mas sua ausência pode atuar como um fator de veto, impedindo que qualquer avaliação atinja o nível "Ótimo". A NCA revela os "deal-breakers" — os elementos que a gestão deve garantir com rigor absoluto, pois sua falha compromete todo o resto. Este framework analítico dual permite, portanto, que a CRE-PP não apenas otimize a média, mas também gerencie os riscos, garantindo os pré-requisitos mínimos para a excelência.

Metodologia de Pesquisa
A condução de uma investigação que visa não apenas a compreender, mas a transformar uma realidade organizacional complexa, exige um delineamento metodológico que seja ao mesmo tempo rigoroso e flexível. Este capítulo descreve a abordagem metodológica adotada para estudar o processo de implementação e adoção do Sistema Integrado de Gestão do Transporte Escolar (SIG-TE). Detalham-se o desenho do projeto, as fases de sua execução, o universo e a amostra, os instrumentos de coleta de dados, os procedimentos de análise e as considerações éticas que nortearam todo o processo.

2.1. Delineamento do Projeto: Um Estudo de Caso com Abordagem de Pesquisa-Ação
Dada a natureza interventiva do projeto, que envolve o diagnóstico de um problema, o desenvolvimento de uma solução e a avaliação de seu impacto, a Pesquisa-Ação (Action Research) foi selecionada como a abordagem mais adequada (Lewin, 1946; Carr & Kemmis, 1986). A pesquisa-ação é um processo cíclico e participativo de investigação que busca gerar conhecimento prático e promover a mudança social e organizacional. Diferentemente de um estudo puramente observacional, ela permite ao pesquisador assumir um papel ativo, colaborando com os participantes (os atores do sistema de transporte escolar) para identificar problemas, implementar soluções e refletir criticamente sobre os resultados. Este estudo é configurado como um estudo de caso único e holístico (Yin, 2015), focado na Coordenação Regional de Ensino do Plano Piloto (CRE-PP). A escolha de um estudo de caso se justifica pela necessidade de uma investigação profunda e contextualizada de um fenômeno contemporâneo – a transformação digital de um serviço público – em seu ambiente real. A combinação da pesquisa-ação com o estudo de caso permite uma análise rica que entrelaça a intervenção planejada com a observação detalhada de seus efeitos no ecossistema organizacional. O ciclo da pesquisa-ação neste projeto se desdobra nas seguintes etapas, que serão detalhadas na próxima seção:
1.Diagnosticar: Análise aprofundada do sistema de gestão existente para identificar suas fragilidades (o "como é").
2.Planejar: Concepção da solução tecnológica (SIG-TE) e do plano de implementação e gestão da mudança.
3.Agir: Desenvolvimento e implementação faseada da plataforma SIG-TE.
4.Avaliar/Refletir: Coleta e análise de dados sobre o uso, o impacto e a percepção do novo sistema, gerando insights que retroalimentam o ciclo para melhorias contínuas.

2.2. Fases da Projeto
O projeto foi estruturada em quatro fases sequenciais e inter-relacionadas, alinhadas ao ciclo da pesquisa-ação e ao roadmap do projeto.
●Fase 1: Diagnóstico do Ecossistema Pré-Intervenção: Esta fase inicial foi dedicada a uma imersão profunda no contexto existente. O objetivo era compreender a "anatomia da fragmentação" descrita na Introdução. As atividades incluíram a análise de conteúdo detalhada do "Manual do Transporte Escolar" (DISTRITO FEDERAL, 2025a). Esta análise permitiu mapear os fluxos de informação, identificar os atores-chave, inventariar os instrumentos de coleta de dados e quantificar as inconsistências e ineficiências do modelo legado.
●Fase 2: Concepção e Desenvolvimento da Solução SIG-TE: Com base no diagnóstico, esta fase focou no planejamento e na construção da intervenção. As atividades abrangeram o redesenho dos processos de negócio, a modelagem do banco de dados NoSQL (Firestore), o projeto da arquitetura de software (serverless com React e Firebase) e o desenvolvimento iterativo dos componentes da plataforma, começando com o protótipo do formulário de atividades extracurriculares para validação inicial com os usuários. A aderência estrita ao Design System do gov.br foi um princípio norteador desta fase.
●Fase 3: Implementação e Gestão da Mudança: Esta fase consistiu no lançamento faseado da plataforma SIG-TE para os diferentes grupos de usuários. O foco principal foi a gestão da mudança, envolvendo um plano robusto de comunicação para apresentar os benefícios do novo sistema, sessões de treinamento customizadas para cada perfil de ator (gestores escolares, fiscais da UNIAE, monitores) e a criação de canais de suporte para mitigar resistências e facilitar a transição.
●Fase 4: Coleta e Análise de Dados Pós-Implementação: Após a estabilização do sistema, esta fase foi dedicada à avaliação sistemática de seu impacto e adoção. Foram coletados dados transacionais da plataforma, aplicados questionários para a análise de qualidade (SEM/NCA) e realizadas entrevistas em profundidade com atores-chave. Esta fase visa a responder aos objetivos específicos do projeto, gerando os resultados que serão apresentados e discutidos nos capítulos subsequentes.

2.3. Universo e Amostra: Mapeamento dos Atores Envolvidos
O universo deste projeto compreende todos os atores envolvidos na gestão e operação do transporte escolar da CRE-PP. Dada a natureza do estudo de caso, para a maioria dos grupos, trabalhou-se com um censo, ou seja, a totalidade dos indivíduos, em vez de uma amostra, o que confere alta validade interna aos resultados.
●Gestores da UNIAE/CRE-PP: A totalidade da equipe responsável pela gestão e fiscalização do transporte escolar (N ≈ 5-10 servidores).
●Gestores Escolares: Diretores, vice-diretores ou os responsáveis designados pelo transporte em todas as unidades escolares atendidas pela CRE-PP (N ≈ 70 escolas).
●Monitores e Motoristas: A totalidade da equipe de campo das empresas contratadas que operam as rotas da CRE-PP (N ≈ 200-300 indivíduos, estimado a partir das planilhas de itinerário).
●Gestores das Empresas Contratadas: Os pontos de contato responsáveis pela operação nas empresas prestadoras de serviço (N ≈ 2-4 empresas).
●Responsáveis e Estudantes: Este é o único grupo onde uma amostragem se faz necessária devido ao seu grande número (N > 4.800 estudantes, conforme QDT). Para a aplicação do questionário de satisfação, será utilizada uma amostragem aleatória estratificada por região administrativa e modalidade de ensino, buscando uma amostra representativa com nível de confiança de 95% e margem de erro de 5%.

2.4. Instrumentos de Coleta de Dados
Para garantir a triangulação dos dados e a robustez da análise, foram utilizados múltiplos instrumentos de coleta, combinando abordagens quantitativas e qualitativas.
●Análise Documental: Análise sistemática dos documentos que regem e descrevem a operação:
●Manual do Transporte Escolar (DISTRITO FEDERAL, 2025a): Para mapear os procedimentos oficiais, papéis e responsabilidades.
●Coletânea de Dados e Procedimentos (DISTRITO FEDERAL, 2025b): Para extrair dados operacionais legados, identificar inconsistências e estabelecer uma linha de base quantitativa da ineficiência do sistema anterior.
●Processos SEI anonimizados: Para compreender o fluxo real de comunicação e aprovação.
●Dados Transacionais da Plataforma SIG-TE: Após a implementação, o próprio sistema se tornou uma rica fonte de dados primários, coletados de forma automática e estruturada:
●Logs de Auditoria: Registros de todas as ações realizadas pelos usuários (login, submissão de formulários, aprovações).
●Registros de Frequência: Dados de cada escaneamento de QR Code, incluindo studentId, routeId, monitorId, timestamp e coordenadas geográficas.
●Registros de Ocorrências: Dados estruturados sobre incidentes (tipo, descrição, localização, fotos) submetidos pelos monitores.
●Dados de Rastreamento: Trajetos georreferenciados das rotas, permitindo o cálculo preciso de quilometragem e duração.
●Questionários Estruturados: Para a avaliação da qualidade do serviço e da adoção da tecnologia, foi desenvolvido um questionário online a ser aplicado aos gestores escolares e a uma amostra de responsáveis. O questionário utiliza uma escala Likert de 7 pontos (1 = Discordo Totalmente a 7 = Concordo Totalmente) e é estruturado para medir os construtos dos modelos SEM e UTAUT.

Tabela 2.1 – Estrutura do Questionário e Construtos Associados | Construto Teórico | Dimensão | Itens de Exemplo do Questionário (Escala Likert 1-7) | | :--- | :--- | :--- | | Qualidade dos Profissionais (QP) | (SEM) | - O motorista do veículo é cordial e profissional.
- O monitor demonstra cuidado e atenção com os estudantes. | | **Qualidade do Veículo (QV)** | (SEM) | - O veículo aparenta estar em boas condições de conservação.
- A limpeza interna do veículo é satisfatória. | | **Qualidade Operacional (QO)** | (SEM) | - O transporte escolar cumpre os horários com pontualidade.
- A comunicação sobre atrasos ou problemas é eficiente. | | **Satisfação Geral (SG)** | (SEM) | - De modo geral, estou satisfeito(a) com o serviço de transporte escolar.
- Eu recomendaria este serviço a outras famílias. | | **Expectativa de Desempenho** | (UTAUT) | - Usar o novo sistema SIG-TE aumenta minha produtividade.
- O SIG-TE me ajuda a realizar minhas tarefas de gestão do transporte mais rapidamente. | | **Expectativa de Esforço** | (UTAUT) | - É fácil para mim me tornar habilidoso(a) no uso do SIG-TE.
- Minha interação com o SIG-TE é clara e compreensível. | | **Influência Social** | (UTAUT) | - Pessoas que são importantes para mim na CRE-PP pensam que eu deveria usar o SIG-TE. | | **Condições Facilitadoras** | (UTAUT) | - Eu tenho os recursos necessários (computador, internet) para usar o SIG-TE.
- O treinamento que recebi foi adequado para usar o sistema. |

●Entrevistas Semi-estruturadas: Foram conduzidas entrevistas em profundidade com uma amostra intencional de gestores da UNIAE (N=3) e gestores escolares (N=10, selecionados para representar diferentes tipos de escolas). O roteiro (Apêndice B) foi flexível, mas centrado em explorar a experiência de transição do sistema antigo para o novo, os desafios enfrentados, os benefícios percebidos e sugestões de melhoria. As entrevistas foram gravadas, transcritas e submetidas à análise de conteúdo.

2.5. Procedimentos de Análise de Dados
A análise dos dados coletados foi realizada em múltiplas frentes, combinando técnicas para extrair o máximo de valor.
●Análise de Conteúdo: Aplicada às transcrições das entrevistas e aos documentos textuais. Utilizou-se a análise temática (Braun & Clarke, 2006) para identificar padrões, temas e categorias recorrentes relacionados às percepções sobre os sistemas (antigo e novo), barreiras e facilitadores da adoção.
●Análise Estatística Descritiva: Aplicada aos dados operacionais do SIG-TE e aos dados legados do arquivo .txt. Foram calculadas medidas de tendência central e dispersão. Para a visualização dos dados, foram empregados os seguintes tipos de gráficos, conforme a natureza da variável:
●Histogramas Empilhados: Para visualizar a distribuição de ocorrências por tipo (mecânica, indisciplina, atraso) ao longo dos meses, permitindo identificar sazonalidades ou problemas crônicos.
●Gráficos de Barras Empilhadas: Para comparar o desempenho entre diferentes empresas contratadas em múltiplos KPIs (e.g., pontualidade, taxa de ocupação, satisfação do usuário) ou para mostrar a composição do custo total do serviço (custo por km, custo por aluno, etc.).
●Gráficos de Violino Múltiplos: Ferramenta poderosa para comparar a distribuição de uma variável contínua entre diferentes categorias. Serão utilizados para, por exemplo, comparar a distribuição dos tempos de duração das rotas versus o tempo planejado, ou para visualizar a distribuição das avaliações de satisfação entre diferentes regiões administrativas.
●Gráficos de Radar (ou Aranha): Para comparar múltiplas entidades (e.g., escolas, empresas) em várias dimensões de qualidade simultaneamente (e.g., pontualidade, limpeza, conservação, satisfação com o monitor). Isso fornece um perfil de desempenho multidimensional rápido e visual.
●Modelagem de Equações Estruturais (SEM): A análise dos dados do questionário para testar o modelo causal proposto será realizada com o software SmartPLS 4, que utiliza o método de Mínimos Quadrados Parciais (PLS-SEM), adequado para modelos complexos e que não exige normalidade dos dados (Hair et al., 2014). A análise seguirá duas etapas: (1) avaliação do modelo de mensuração (confiabilidade e validade dos construtos) e (2) avaliação do modelo estrutural (teste das hipóteses causais).
●Análise de Condições Necessárias (NCA): A mesma base de dados do questionário será analisada com o pacote NCA no software R. A análise identificará as condições necessárias para se atingir altos níveis de "Satisfação Geral", calculando a magnitude do efeito de necessidade e visualizando as "linhas de teto" nos gráficos de dispersão.
2.6. Transformando o Roadmap em Ação: Guia de Prompts para Desenvolvimento com GitHub Copilot
Uma parte integrante da Fase 2 (Concepção e Desenvolvimento) foi a utilização de ferramentas de Inteligência Artificial para acelerar a prototipagem e a implementação. O roadmap de implementação foi traduzido em um conjunto de comandos e prompts específicos para o GitHub Copilot, utilizado dentro do ambiente de desenvolvimento Visual Studio Code. Este procedimento não apenas otimizou o desenvolvimento, mas também serve como um guia prático e replicável para projetos similares. Conjunto de Prompts para Implementação do SIG-TE com GitHub Copilot:

1.Fase 1 - Fundação Digital (Prompts 1-4):
●Prompt 1 (Setup do Projeto): // Initialize a new React project using Vite and TypeScript. Configure Tailwind CSS for styling. Create a file structure with /components, /pages, /lib, /assets. Create a basic App.jsx with React Router DOM v6, setting up routes for /, /login, /dashboard, /alunos, /solicitacoes.
●Prompt 2 (Configuração do Firebase): // Create a firebase.js configuration file. Initialize Firebase with environment variables for the API key, auth domain, project ID, etc. Export the initialized app, auth, and firestore instances.
●Prompt 3 (Autenticação e RBAC): // Create a React Context for authentication (AuthContext). It should manage user state (loading, user object, role). Implement login with email/password using Firebase Auth. After login, fetch the user's role from a 'users' collection in Firestore based on their UID. Implement a ProtectedRoute component that checks for an authenticated user and their role before rendering a route.
●Prompt 4 (Formulário de Gestão de Estudantes): // Create a React component 'FormularioAluno.jsx'. Use react-hook-form and Zod for validation. The form should have fields for student name, CPF, school, route, etc. Implement conditional logic: if the action is 'Exclusão', only show the student selection field. On submit, write the data to the 'students' collection in Firestore.
2.Fase 2 - Operações Conectadas (Prompts 5-7):
●Prompt 5 (App do Monitor - React Native): // Initialize a new React Native project using Expo. Create a 'Monitor' screen with two main functions: QR Code Scanner and Occurrence Report. For the scanner, use the 'expo-camera' and 'expo-barcode-scanner' libraries. On a successful scan, extract the studentId, get the current geolocation using 'expo-location', and write a new document to a 'frequencia' collection in Firestore with studentId, timestamp, location, monitorId, and routeId.
●Prompt 6 (App do Monitor - Ocorrências): // In the 'Monitor' screen, create a form for reporting occurrences. It should have a dropdown for occurrence type (e.g., 'Mecânica', 'Indisciplina', 'Atraso'), a text area for description, and a button to upload a photo using 'expo-image-picker'. On submit, upload the image to Firebase Storage and write the occurrence data, including the image URL, to an 'ocorrencias' collection in Firestore.
●Prompt 7 (Dashboard Gerencial - Backend/Frontend): // Backend (Cloud Function): Create a Cloud Function in TypeScript named 'calculateDashboardKPIs' triggered on a schedule (e.g., every hour). This function should read data from 'frequencia' and 'ocorrencias' collections, calculate KPIs like 'taxaOcupacaoPorRota', 'pontualidadeMedia', 'ocorrenciasPorTipo', and save the aggregated results to a 'dashboard_kpis' document in Firestore. // Frontend: Create a 'DashboardGerencial.jsx' component. Fetch the data from the 'dashboard_kpis' document. Use the Recharts library to display the KPIs. Create a BarChart for 'ocorrenciasPorTipo' and a LineChart for 'taxaOcupacao' over time.
3.Fase 3 - Inteligência e Transparência (Prompts 8-9):
●Prompt 8 (Painel de Transparência Pública): // Create a public-facing React component 'PainelTransparencia.jsx'. This component should fetch anonymized, aggregated data from a specific, publicly readable 'public_data' collection in Firestore. Use Recharts to display metrics like 'total de alunos atendidos por RA', 'custo médio por aluno (anonimizado)', and a table listing the contracted companies.
●Prompt 9 (CI/CD com GitHub Actions): // Create a GitHub Actions workflow file (.github/workflows/deploy.yml). Configure it to trigger on push to the 'main' branch. The workflow should have steps to: 1. Check out the code. 2. Set up Node.js. 3. Install dependencies (npm ci). 4. Build the React app (npm run build). 5. Deploy the 'dist' folder to Firebase Hosting using the official 'firebase-tools' action and a FIREBASE_TOKEN secret.

2.7. Considerações sobre o Backend em Python (Flask)
Embora a arquitetura principal da solução seja serverless com Cloud Functions (escritas em TypeScript/Node.js) pela sua escalabilidade e integração nativa com o ecossistema Firebase, foi considerado o uso de Python para tarefas específicas de processamento de dados. Para tarefas computacionalmente intensivas ou que dependem de bibliotecas robustas de análise de dados (como pandas, geopandas, scikit-learn), uma arquitetura híbrida pode ser adotada. Uma Cloud Function pode atuar como um gatilho, enviando uma requisição para o Cloud Run, executando um microserviço em Python com Flask. Este microserviço realizaria a tarefa pesada (ex: processamento de dados georreferenciados para otimização de rotas, execução periódica dos modelos SEM/NCA) e retornaria o resultado ou o salvaria de volta no Firestore. Esta abordagem combina a agilidade do serverless para as operações do dia-a-dia com o poder do ecossistema de dados do Python para análises complexas, representando uma prática de engenharia de software moderna e eficiente.

2.8. Considerações Éticas
A condução deste projeto seguiu rigorosos princípios éticos, em conformidade com a legislação vigente, em especial a Lei Geral de Proteção de Dados Pessoais (LGPD, Lei nº 13.709/2018).
1.Consentimento Informado: Todos os participantes de entrevistas e respondentes de questionários foram informados sobre os objetivos do projeto, a natureza de sua participação e o uso que seria feito dos dados, assinando um Termo de Consentimento Livre e Esclarecido (TCLE).
2.Anonimato e Confidencialidade: Todos os dados que pudessem identificar indivíduos foram rigorosamente anonimizados antes da análise e da publicação. Nomes de estudantes, CPFs e endereços exatos foram substituídos por códigos ou agregados a um nível que impede a identificação. As transcrições de entrevistas foram codificadas para proteger a identidade dos participantes.
3.Segurança dos Dados: A plataforma SIG-TE foi projetada com a segurança como requisito fundamental. O uso do Firebase Authentication e das Regras de Segurança do Firestore garante que apenas usuários autorizados possam acessar os dados, com base em seus papéis (RBAC). Todos os processos SEI gerados a partir do sistema foram configurados com nível de acesso "Restrito", conforme as diretrizes da própria SEDF.
Diagnóstico do Ecossistema e Concepção do Sistema Integrado de Gestão do Transporte Escolar (SIG-TE)
A transição de um sistema legado para uma plataforma digital moderna requer, antes de tudo, uma compreensão forense do estado atual. Este capítulo dedica-se a essa tarefa. Na primeira parte, realizamos uma autópsia do ecossistema de gestão do transporte escolar da CRE-PP, expondo as patologias da fragmentação, da inconsistência de dados e da ineficiência processual. Na segunda parte, com base nesse diagnóstico, apresentamos o projeto de engenharia da solução: o SIG-TE. Detalhamos o redesenho dos fluxos de trabalho, a modelagem de um banco de dados centralizado e a arquitetura tecnológica escolhida para catalisar a transformação de uma gestão reativa para uma governança proativa e guiada por dados.

3.1. A Anatomia da Fragmentação: Análise Crítica do Ecossistema Atual
O "Manual do Transporte Escolar" (DISTRITO FEDERAL, 2025a) descreve um conjunto de procedimentos que, no papel, parecem ordenados. Contudo, a análise dos artefatos operacionais, notadamente a coletânea de planilhas, revela uma realidade muito mais caótica. O sistema opera como um arquipélago de informações, onde cada ilha (escola, UNIAE, empresa) possui seus próprios registros, e a comunicação entre elas é feita por meio de "barcos" lentos e pouco confiáveis (processos SEI, e-mails, documentos impressos).

3.1.1. Mapeamento dos Fluxos de Informação Manuais e seus Gargalos
O fluxo de trabalho para a maioria das rotinas administrativas é caracterizado por múltiplas etapas manuais, transferências de responsabilidade e ausência de um estado centralizado. Tomemos como exemplo o processo de inclusão de um novo estudante em uma rota existente:

Tabela 3.1 – Comparativo do Fluxo de Inclusão de Estudante: Modelo Legado vs. Modelo SIG-TE | Etapa | Modelo Legado (As-Is) | Pontos de Falha e Ineficiência | Modelo Proposto com SIG-TE (To-Be) | | :--- | :--- | :--- | :--- | | 1. Solicitação | Responsável preenche o "Formulário de Requerimento e Adesão" em papel na escola. | Dependência de papel; risco de perda; dados não estruturados. | Gestor Escolar preenche o formulário digital de inclusão diretamente no portal SIG-TE, anexando documentos digitalizados. | | 2. Consolidação | Gestor Escolar digita os dados do formulário na planilha "Censo do Transporte Escolar" (Google Drive) e na "Tabela I" (planilha separada). | Redundância de dados; alto risco de erro de digitação. | O preenchimento do formulário é a única entrada de dados. O sistema atualiza todas as visões relevantes automaticamente. | | 3. Envio | Gestor Escolar cria um processo no SEI, anexa a "Tabela I" e encaminha para a UNIAE. | Processo manual e assíncrono; tempo de espera para tramitação. | A submissão do formulário no portal gera uma notificação instantânea para a UNIAE e a solicitação entra em uma fila de trabalho digital. | | 4. Análise | Fiscal da UNIAE abre o processo SEI, baixa a planilha, verifica manualmente a disponibilidade de vagas em outra planilha ("Quadro de Vagas"). | Múltiplas fontes de dados a serem consultadas; verificação manual e propensa a erros. | O sistema verifica automaticamente a disponibilidade de vagas na rota solicitada e apresenta a informação de forma clara para o fiscal da UNIAE. | | 5. Aprovação | Fiscal da UNIAE redige um despacho de aprovação no SEI e o encaminha de volta para a escola. | Comunicação assíncrona; ciclo de aprovação pode levar dias. | Fiscal da UNIAE clica no botão "Aprovar". O sistema atualiza o status do aluno para "Ativo", o adiciona à lista de frequência da rota e notifica a escola, tudo em tempo real. | | 6. Operacionalização| Gestor Escolar recebe o processo SEI aprovado, atualiza a planilha de frequência do veículo e informa o monitor. | Atraso na atualização da lista de frequência; risco de o monitor não ser informado a tempo. | A lista de frequência digital do monitor é atualizada instantaneamente. O aluno pode embarcar com seu QR Code no mesmo dia da aprovação. | Este fluxo demonstra que a UNIAE funciona como um hub de processamento manual intensivo, um ponto de estrangulamento que centraliza a ineficiência. A digitalização proposta no SIG-TE visa a desintermediar e automatizar essas etapas, transformando um processo que leva dias em uma operação que pode ser concluída em minutos.

3.1.2. A Heterogeneidade dos Instrumentos: De Formulários em Papel a Planilhas Desconectadas
A coleta de dados no sistema legado é realizada por uma miríade de instrumentos que não foram projetados para interoperar, gerando dados fragmentados, redundantes e de baixa qualidade.
●Formulários em Papel: O "Formulário de Requerimento e Adesão", o "Diário de Bordo" e o "Questionário de Avaliação" capturam informações valiosas, mas as aprisionam no meio físico. O "Questionário de Avaliação", por exemplo, contém percepções cruciais sobre a qualidade, os resultados são compilados em uma planilha estática, com respostas "X" e observações textuais, inviabilizando qualquer análise estatística agregada ou a identificação de tendências.
●Planilhas como Banco de Dados: O uso de planilhas (Google Sheets ou Excel) como o "Censo do Transporte Escolar" ou as planilhas de controle de itinerários e pagamentos é a principal fonte de problemas de integridade de dados. Elas carecem de validação de entrada, controle de acesso granular e relacionamentos estruturados.

3.2. Redesenho de Processos e Modelagem de Dados
A concepção do SIG-TE parte da premissa de que a tecnologia deve servir para simplificar e otimizar os processos, e não apenas para digitalizar a burocracia existente.

3.2.1. Otimização dos Fluxos de Trabalho para o Ambiente Digital
Conforme ilustrado na Tabela 3.1, todos os fluxos de trabalho foram redesenhados para eliminar etapas manuais, redundância e comunicação assíncrona. O princípio fundamental é o de entrada única de dados: uma informação, como o cadastro de um aluno ou uma solicitação de serviço, é inserida uma única vez no sistema e, a partir daí, todas as atualizações, consultas e relatórios derivam dessa fonte única e confiável. Os fluxos de aprovação são convertidos em workflows digitais, onde cada etapa é registrada e notificada em tempo real, garantindo rastreabilidade e agilidade.

3.2.2. Modelagem Conceitual do Banco de Dados (Firestore)
Para suportar os novos fluxos de trabalho e garantir a integridade dos dados, foi projetada uma estrutura de banco de dados NoSQL no Cloud Firestore. A escolha do NoSQL se alinha à flexibilidade necessária para um sistema em evolução. A estrutura é organizada em coleções, que são conjuntos de documentos (semelhantes a tabelas e linhas em bancos de dados relacionais).

Tabela 3.2 – Modelo de Dados Conceitual do SIG-TE no Firestore | Coleção | Descrição dos Campos Principais (Documento) | Propósito e Benefícios | | :--- | :--- | :--- | | escolas | inepCode (ID), nome, endereco, cep, ra, telefone, email, gestorId | Centraliza os dados das escolas, eliminando inconsistências de nomes. Serve como fonte única de verdade. | | alunos | cpf (ID), nomeCompleto, dataNascimento, escolaId, status ('ativo', 'inativo', 'pendente'), rotaId, qrCodeData | Cadastro único de cada estudante, com seu status e rota associada. O QR Code é gerado a partir do ID do documento. | | rotas | nomeRota, tipo ('CASA_ESCOLA', 'ESCOLA_ESCOLA'), turno ('M', 'V', 'I'), empresaId, veiculos (array de veiculoId), escolasAtendidas (array de escolaId) | Estrutura e padroniza os itinerários, substituindo os códigos textuais complexos. Permite filtros e agregações. | | veiculos | placa (ID), capacidadeAssentos, capacidadeBaias, empresaId, status ('operacional', 'manutencao', 'aguardando_autorizacao') | Cadastro único de cada veículo, permitindo o rastreamento de seu histórico e status. | | profissionais | cpf (ID), nomeCompleto, funcao ('motorista', 'monitor'), empresaId, cnh (se motorista), status ('ativo', 'inativo') | Centraliza o cadastro de motoristas e monitores, permitindo a alocação em rotas e a avaliação de desempenho individual. | | frequencia | alunoId, rotaId, veiculoId, monitorId, timestamp, tipoEvento ('embarque', 'desembarque'), geolocalizacao | Registro atômico e auditável de cada evento de frequência, capturado pelo app do monitor. Fonte primária para faturamento e segurança. | | ocorrencias | rotaId, veiculoId, monitorId, timestamp, tipoOcorrencia ('mecanica', 'disciplina', 'atraso'), descricao, fotoUrl, geolocalizacao | Converte o "Diário de Bordo" em dados estruturados, permitindo a criação de mapas de calor de problemas e análises de causa raiz. | | solicitacoesExt | escolaId, status ('pendente', 'aprovado_unieb', 'aprovado_gcote', 'recusado', 'cancelado'), dataEvento, destino, numPassageiros, kmEstimado | Digitaliza o fluxo de solicitação de transporte extracurricular, permitindo o acompanhamento do status em tempo real e a análise de gargalos. | Esta estrutura de dados é a espinha dorsal do novo sistema, projetada para eliminar os problemas de integridade, fragmentação e redundância identificados no diagnóstico.

3.3. Arquitetura Técnica da Solução Proposta
A materialização do SIG-TE se apoia em uma arquitetura de software moderna, escalável e de custo eficiente, alinhada às melhores práticas de governo digital.

3.3.1. Justificativa da Escolha da Arquitetura Serverless (Firebase)
A decisão de utilizar uma arquitetura serverless na Google Cloud Platform, especificamente com os serviços do Firebase, foi estratégica e baseada em quatro pilares, especialmente relevantes para o setor público:
1.Custo-Eficiência: O modelo pay-as-you-go elimina a necessidade de provisionar e pagar por servidores ociosos. Os custos estão diretamente atrelados ao uso real do sistema, o que se alinha perfeitamente aos princípios de responsabilidade fiscal.
2.Escalabilidade Automática: O sistema escala automaticamente para atender a picos de demanda (como no início do período de matrículas ou em dias de múltiplas atividades extracurriculares) sem a necessidade de intervenção manual da equipe de TI.
3.Redução da Carga Operacional: A arquitetura abstrai o gerenciamento de servidores, sistemas operacionais e patches de segurança, permitindo que a equipe de desenvolvimento foque na entrega de valor para o negócio (as funcionalidades do SIG-TE), em vez de gastar tempo com a manutenção da infraestrutura.
4.Segurança Integrada: O Firebase oferece mecanismos de segurança robustos e integrados, como autenticação, regras de acesso a dados e hospedagem com SSL, simplificando a conformidade com as melhores práticas de segurança.

3.3.2. Arquitetura da Aplicação Frontend (React) e Aderência ao Design System gov.br
O frontend será desenvolvido como uma Single-Page Application (SPA) utilizando a biblioteca React. Essa escolha se deve à sua vasta comunidade, ecossistema maduro e capacidade de criar interfaces de usuário ricas e reativas. A aderência ao Design System do gov.br será rigorosa, utilizando os pacotes oficiais @govbr-ds/webcomponents e @govbr-ds/core (NPM, 2025a; NPM, 2025b). Isso garante não apenas a conformidade visual e a confiança do usuário, mas também a incorporação de diretrizes de acessibilidade (eMAG) e usabilidade desde o início do desenvolvimento.

3.3.3. Modelo de Controle de Acesso Baseado em Papéis (RBAC)
A segurança e a experiência do usuário serão gerenciadas por um modelo RBAC granular, implementado com o Firebase Authentication e as Regras de Segurança do Firestore.

Tabela 3.3 – Matriz de Controle de Acesso (RBAC) do SIG-TE | Papel | Ações Permitidas (Exemplos) | Acesso a Dados (Coleções) | | :--- | :--- | :--- | | Gestor UNIAE | Criar/Editar/Excluir tudo (Escolas, Alunos, Rotas, etc.). Aprovar solicitações. Ver dashboards completos. | Leitura/Escrita em todas as coleções. | | Gestor Escolar | Criar/Editar Alunos de sua escola. Solicitar transporte extracurricular. Ver dados de sua escola. | Leitura/Escrita em alunos e solicitacoesExt (onde escolaId == sua escola). Leitura em rotas e veiculos. | | Monitor | Registrar frequência (QR Code). Registrar ocorrências. Ver detalhes da sua rota. | Escrita em frequencia e ocorrencias. Leitura em rotas e alunos (apenas dados essenciais da sua rota). | | Empresa | Cadastrar/Editar seus veículos e profissionais. Ver dados de suas rotas e faturamento. | Leitura/Escrita em veiculos e profissionais (onde empresaId == sua empresa). Leitura em rotas e dados de faturamento. | | Público (Não Logado) | Acessar o Painel de Transparência. | Leitura em uma coleção pública e anonimizada dados_publicos. | Este modelo garante que cada usuário veja apenas as informações e funcionalidades relevantes para seu trabalho, simplificando a interface e reforçando a segurança dos dados.

3.4. Projeto dos Formulários Digitais
Os formulários são a principal interface de interação do usuário com o sistema. Eles foram projetados para serem intuitivos, inteligentes e para garantir a captura de dados estruturados.
●Formulário de Solicitação de Transporte Extracurricular: Este formulário, cujo protótipo em React foi desenvolvido como prova de conceito, representa um salto qualitativo.
●Inteligência Embutida: O formulário valida a data do evento para garantir a antecedência mínima de 15 dias. Ao inserir o número de passageiros, o campo "Quantidade de Veículos Necessários" é preenchido automaticamente (Math.ceil(passageiros / 38)).
●Integração: Os campos de endereço de origem e destino podem ser integrados com APIs de geolocalização (como a do Google Maps) para sugerir endereços e calcular a quilometragem estimada automaticamente, reduzindo erros e o trabalho manual do gestor escolar.
●Fluxo Claro: O formulário guia o usuário por seções claras (Dados da Atividade, Informações de Transporte, Justificativa), culminando em uma declaração de ciência que é obrigatória para a submissão.
●Formulário de Relatório de Ocorrências Diárias (App do Monitor): Este formulário móvel substitui o "Diário de Bordo" em papel.
●Dados Estruturados: Em vez de um campo de texto livre, o monitor seleciona o "Tipo de Ocorrência" de uma lista pré-definida.
●Contexto Automático: O aplicativo anexa automaticamente o timestamp, a geolocalizacao, o monitorId, o veiculoId e a rotaId a cada ocorrência, criando um registro rico em contexto e pronto para análise.
●Evidências Visuais: A capacidade de anexar uma foto diretamente do celular é crucial para documentar problemas mecânicos, danos ao veículo ou outras situações que exijam evidência visual. Ao final desta fase de diagnóstico e concepção, temos um plano diretor claro e detalhado para a construção de uma plataforma que não apenas resolve os problemas crônicos do sistema legado, mas estabelece as fundações para uma gestão de transporte escolar verdadeiramente moderna, eficiente e transparente.
O Processo de Implementação e Gestão da Mudança
A concepção de uma solução tecnológica robusta, como detalhado no capítulo anterior, é uma condição necessária, mas não suficiente, para o sucesso de um projeto de transformação digital no setor público. A transição de um ecossistema de trabalho analógico e fragmentado para uma plataforma digital integrada é, fundamentalmente, um processo socio-técnico, onde os fatores humanos, culturais e organizacionais são tão ou mais importantes que o código-fonte (Heeks, 2002). Este capítulo narra a execução do projeto SIG-TE, focando não apenas nos marcos técnicos da implementação, mas, sobretudo, nas estratégias de gestão da mudança empregadas para garantir a adesão, a apropriação e o uso efetivo do novo sistema pelos diversos atores envolvidos.

4.1. O Roadmap de Implementação em Ação: Da Fundação à Inteligência
O plano de implementação faseado foi executado como uma série de sprints de desenvolvimento, cada um focado em entregar um conjunto coeso de funcionalidades que agregassem valor incremental e permitissem a coleta de feedback contínuo.
●Fase 1: Fundação Digital – Estabelecendo a Espinha Dorsal O objetivo desta fase inicial foi construir o alicerce sobre o qual todo o sistema se apoiaria. O foco não era entregar funcionalidades complexas, mas garantir que a base fosse segura, escalável e correta.
1.Infraestrutura e Segurança: A primeira ação foi a configuração do projeto no Firebase, incluindo a ativação dos serviços de Authentication, Firestore, Hosting e Cloud Functions. A tarefa mais crítica foi a elaboração da primeira versão das Regras de Segurança do Firestore. Utilizando o modelo RBAC definido na Tabela 3.3, foram escritas regras que, por padrão, negavam todo o acesso, liberando-o de forma explícita apenas para os papéis autorizados e sob condições específicas (e.g., allow read, write: if request.auth.uid == resource.data.gestorId;). Este passo foi crucial para garantir a conformidade com a LGPD desde o primeiro dia.
2.Portal Base e Autenticação: Utilizando os prompts de desenvolvimento (descritos na Seção 2.6), foi construída a estrutura básica da aplicação em React, com o roteamento e o componente ProtectedRoute que implementava a lógica do RBAC no frontend. A tela de login e o fluxo de autenticação foram os primeiros componentes a serem finalizados e testados.
3.Migração e Saneamento de Dados Legados: Uma das tarefas mais desafiadoras vem sendo a migração dos dados das planilhas para a nova estrutura no Firestore. Este processo exigiu um trabalho de saneamento de dados (data cleansing): nomes de escolas foram padronizados, códigos de itinerário foram decompostos e mapeados para a nova estrutura de rotas, e inconsistências, como as vagas negativas, foram corrigidas ou sinalizadas para verificação manual pela equipe da UNIAE.
4.Formulários Essenciais: Os primeiros formulários a serem desenvolvidos foram os de Gestão de Estudantes e de Solicitação de Transporte Extracurricular. O desenvolvimento deste último serviu como um protótipo-piloto, conforme detalhado na Seção 4.3.
●Fase 2: Operações Conectadas – Digitalizando o Campo Com a fundação estabelecida, o foco se voltou para a digitalização das operações de campo, o ponto de maior geração de dados e de maior ineficiência no modelo legado.
1.Desenvolvimento do Aplicativo do Monitor: Foi desenvolvido um aplicativo móvel multiplataforma (utilizando React Native para compartilhar lógica com a aplicação web) contendo as funcionalidades críticas:
●Leitor de QR Code: Integrado com a câmera do dispositivo, o leitor foi otimizado para ser rápido e funcionar em condições de baixa luminosidade. Ao escanear, o app realizava uma chamada assíncrona para o Firestore, registrando a frequência e recebendo uma confirmação visual (verde para sucesso, vermelho para aluno não encontrado na rota).
●Registro de Ocorrências: O formulário digital de ocorrências foi projetado para ser preenchido com poucos toques, utilizando menus dropdown e permitindo a anexação de fotos.
●Modo Offline: Reconhecendo a possibilidade de áreas sem conectividade, o aplicativo foi dotado de capacidade offline. Os registros de frequência e ocorrências eram salvos localmente em um banco de dados SQLite no dispositivo e sincronizados automaticamente com o Firestore assim que a conexão fosse restabelecida.
2.Geração de QR Codes: No portal web, foi implementada a funcionalidade para que os gestores escolares pudessem gerar e imprimir as carteirinhas com os QR Codes para cada aluno de sua unidade, contendo o ID único do aluno no sistema.
3.Dashboard Gerencial (v1): A primeira versão do dashboard gerencial foi lançada, focando em KPIs operacionais básicos, como número de alunos transportados por dia/rota e contagem de ocorrências por tipo.
●Fase 3: Inteligência e Transparência – Gerando Valor a Partir dos Dados A última fase do ciclo inicial de implementação concentrou-se em transformar os dados coletados em inteligência acionável e em cumprir a promessa de transparência.
1.Implementação dos Modelos Analíticos (SEM/NCA): Os dados coletados através dos questionários de avaliação digital (que substituíram o antigo formulário em papel) foram utilizados para rodar as primeiras análises SEM e NCA. Um script em Python, executado em um ambiente de análise, foi desenvolvido para processar os dados e gerar os relatórios, cujos resultados serão detalhados no Capítulo 5.
2.Evolução do Dashboard Gerencial: O dashboard foi enriquecido com visualizações mais complexas, como mapas de calor de ocorrências, gráficos de comparação de pontualidade entre empresas e análises de custo por quilômetro/aluno.
3.Publicação do Painel de Transparência: A funcionalidade mais visível desta fase foi o lançamento da área pública do portal, contendo os painéis de dados abertos à sociedade, detalhados na Seção 4.4.

4.2. A Gestão da Mudança como Pilar do Projeto
A equipe do projeto estava ciente de que a resistência à mudança é uma reação natural em qualquer organização. Portanto, foi desenhado e executado um plano de gestão da mudança proativo, baseado em comunicação, capacitação e participação.

4.2.1. Comunicação e Engajamento
A estratégia de comunicação foi multifacetada e contínua. Em vez de uma única apresentação do sistema pronto, foram realizadas reuniões periódicas com os diferentes grupos de stakeholders. A mensagem central era sempre focada nos benefícios diretos para cada grupo:
●Para Gestores Escolares: "Menos tempo gasto com planilhas e processos SEI, mais tempo para a gestão pedagógica. Respostas mais rápidas para suas solicitações."
●Para Fiscais da UNIAE: "Fim da consolidação manual de dados. Ferramentas para uma fiscalização mais inteligente e baseada em riscos. Visão completa da operação em tempo real."
●Para Monitores: "Fim das pranchetas e do preenchimento manual de listas. Um registro de frequência mais rápido, fácil e à prova de erros." Foram criados "campeões da mudança" – gestores e monitores de um grupo piloto que testaram o sistema inicialmente e se tornaram evangelizadores do projeto, compartilhando suas experiências positivas com os colegas.

4.2.2. Plano de Treinamento e Capacitação
O treinamento foi customizado para as necessidades de cada perfil de usuário, reconhecendo que suas interações com o sistema seriam distintas.

Tabela 4.1 – Plano de Treinamento do SIG-TE por Perfil de Usuário | Perfil de Usuário | Formato do Treinamento | Duração | Conteúdo Principal | Materiais de Apoio | | :--- | :--- | :--- | :--- | :--- | | Gestor Escolar | Workshop presencial em laboratório de informática + Sessões online de reforço. | 4 horas | Navegação no portal, fluxo de inclusão/exclusão de alunos, solicitação de transporte extracurricular, geração de relatórios da escola, geração de QR Codes. | Manual do Usuário (PDF), vídeos tutoriais curtos por funcionalidade, canal de dúvidas via chat. | | Gestor UNIAE / Fiscal | Treinamento intensivo presencial. | 8 horas | Todas as funcionalidades do Gestor Escolar + aprovação de fluxos, gestão de rotas e veículos, análise do dashboard gerencial, procedimentos de auditoria. | Manual do Administrador (PDF), acesso direto à equipe de desenvolvimento para suporte prioritário. | | Monitor | Treinamento prático em pequenos grupos, utilizando os próprios smartphones. | 2 horas | Instalação e login no app, uso do leitor de QR Code, registro de ocorrências, sincronização de dados offline. | Guia Rápido de Bolso (impresso e plastificado), vídeo tutorial de 2 minutos, suporte via grupo de WhatsApp com a equipe do projeto. | | Gestor da Empresa | Reunião de apresentação online. | 1.5 horas | Cadastro de veículos e profissionais, visualização de rotas alocadas, acesso aos relatórios de frequência para pré-faturamento. | Manual do Parceiro (PDF), contato direto com a UNIAE. |

4.2.3. Identificação e Mitigação de Resistências
Durante a implementação, surgiram resistências previsíveis, que foram tratadas com empatia e estratégia:
●Resistência 1: "A tecnologia é complicada / Não tenho habilidade." (Comum entre monitores e gestores mais velhos).
●Mitigação: O design do aplicativo do monitor foi ultra-simplificado, com botões grandes e fluxos lineares. O treinamento foi prático e repetitivo, e o suporte via WhatsApp ofereceu uma ajuda imediata e informal, reduzindo a ansiedade.
●Resistência 2: "Isso é só mais trabalho para nós." (Percepção inicial de alguns gestores escolares).
●Mitigação: O foco da comunicação e do treinamento foi demonstrar o ganho de tempo. Foi apresentado um comparativo "antes e depois" (como na Tabela 3.1), mostrando a eliminação de tarefas manuais e redundantes. O sucesso do protótipo do formulário extracurricular foi um argumento poderoso.
●Resistência 3: "E se a internet falhar? O papel é mais seguro." (Preocupação legítima dos monitores).
●Mitigação: A funcionalidade de modo offline do aplicativo foi a resposta técnica a essa preocupação. Foi demonstrado exaustivamente durante o treinamento como os dados eram salvos localmente e sincronizados depois, garantindo que nenhum registro fosse perdido.

4.3. O Protótipo como Ferramenta de Validação e Engajamento
O desenvolvimento do Formulário de Solicitação de Transporte Extracurricular (código-fonte apresentado nos arquivos FormPage.jsx e ConfirmationPage.jsx) foi utilizado como um projeto-piloto estratégico. Antes de desenvolver todo o sistema, uma versão funcional deste formulário foi disponibilizada para um grupo de 10 escolas. Esta abordagem permitiu:
1.Validação Técnica: Testar a integração do frontend em React com o backend no Firebase em um escopo controlado.
2.Coleta de Feedback de UX: Os gestores escolares utilizaram o formulário e forneceram feedback valioso. Por exemplo, a versão inicial não tinha o cálculo automático de veículos, o que foi adicionado após sugestões. Outra sugestão foi a inclusão de um campo para estimativa de quilometragem, que foi prontamente incorporado.
3.Geração de Buy-in: Ao verem suas sugestões implementadas rapidamente, os gestores sentiram-se parte do processo de construção, transformando-se de meros usuários em co-criadores. Isso reduziu a resistência e aumentou a expectativa positiva para o lançamento do sistema completo.

4.4. Arquitetura de Transparência: Projetando os Painéis Públicos
Um dos pilares do projeto SIG-TE é o aumento radical da transparência. Para isso, foi projetada uma área pública no portal, acessível sem login, com painéis de dados que oferecem uma visão clara da operação, sempre respeitando a LGPD.

4.4.1. Painel Público 1: Lotação e Desempenho da Frota
Este painel foi projetado para fornecer uma visão em tempo quase real da operação, respondendo a perguntas como "O ônibus do meu filho está superlotado?" ou "Qual a pontualidade da minha rota?".
●Interface do Usuário (UI):
●Um mapa interativo do Distrito Federal mostrando as rotas em operação. As rotas seriam coloridas por status de lotação (e.g., Verde: <80% de ocupação; Amarelo: 80-100%; Vermelho: >100%).
●Filtros por Região Administrativa, escola ou código da rota.
●Uma tabela detalhada abaixo do mapa, mostrando os seguintes dados para cada veículo em operação:
●Código da Rota: O novo código padronizado (e.g., R-CRZ-01-M).
●Placa do Veículo: Placa do veículo alocado.
●Empresa: Nome da empresa contratada.
●Capacidade: Número de assentos.
●Lotação Atual: Número de alunos com embarque registrado e sem desembarque registrado.
●% de Ocupação: (Lotação Atual / Capacidade) * 100.
●Pontualidade (Últimos 7 dias): Percentual de viagens iniciadas dentro da janela de tolerância (+/- 10 minutos).
●Status: "Em Rota", "Aguardando Início", "Finalizada".
●Pipeline de Dados (para garantir privacidade e desempenho):
1.Coleta: O app do monitor envia dados de frequência (embarque/desembarque) para a coleção frequencia no Firestore.
2.Agregação: Uma Cloud Function é acionada a cada 5 minutos. Ela lê os dados da coleção frequencia do dia, calcula a lotação atual e os KPIs de pontualidade para cada veículo/rota, e escreve esses dados agregados e totalmente anonimizados em uma coleção separada e publicamente legível chamada dados_publicos_rotas.
3.Visualização: O componente React do painel público lê os dados exclusivamente desta coleção dados_publicos_rotas, garantindo que a aplicação pública nunca acesse os dados brutos e sensíveis dos alunos.

4.4.2. Painel Público 2: Status de Autorização de Veículos
Para aumentar a transparência nos processos de fiscalização e contratação, este painel informa sobre os veículos que estão em processo para se juntarem à frota.
●Interface do Usuário (UI): Uma tabela simples e clara com capacidade de busca e filtro por empresa.
●Placa: Placa do veículo.
●Empresa: Nome da empresa proponente.
●Data da Solicitação: Data em que a empresa submeteu o veículo para vistoria.
●Status Atual: Um status claro e padronizado (e.g., 'Aguardando Vistoria', 'Em Análise Documental', 'Reprovado na Vistoria', 'Autorizado').
●Previsão de Operação: Data estimada para o veículo iniciar as operações (preenchida apenas após a autorização).
●Pipeline de Dados: Os dados para este painel são inseridos manualmente pelos fiscais da UNIAE em uma coleção veiculos_autorizacao no Firestore, que é projetada para ser lida pela aplicação pública. O processo de atualização deste status se torna parte da rotina do fiscal ao analisar um novo veículo.

4.5. O Papel do Backend Híbrido (Python/Flask) na Otimização de Rotas
Conforme antecipado na metodologia, a arquitetura serverless foi complementada por um microserviço em Python/Flask para tarefas analíticas pesadas. A principal aplicação foi a otimização de rotas. As rotas definidas nas planilhas legadas eram estáticas e baseadas em conhecimento empírico. O SIG-TE introduziu um processo de otimização contínua:
1.Gatilho: Semanalmente, um Cloud Scheduler aciona uma Cloud Function.
2.Chamada de API: A função coleta os endereços (convertidos em coordenadas geográficas) de todos os alunos ativos em uma determinada rota e os envia para um endpoint seguro de um serviço hospedado no Cloud Run.
3.Microserviço Flask: O serviço em Cloud Run, rodando uma aplicação Flask, recebe a lista de coordenadas. Ele utiliza a biblioteca Google OR-Tools, uma suíte de software de otimização de código aberto, para resolver o Problema de Roteamento de Veículos (VRP). O objetivo é encontrar a sequência de paradas que minimiza a distância total percorrida.
4.Resultado: O microserviço retorna a sequência de paradas otimizada e a nova quilometragem estimada.
5.Sugestão para Gestor: O resultado é salvo em uma coleção sugestoes_rotas no Firestore. O gestor da UNIAE recebe uma notificação no portal SIG-TE, visualiza a rota atual e a rota otimizada em um mapa, e pode aprovar a alteração, que então se torna a nova rota oficial no sistema. Este processo ilustra como uma arquitetura híbrida pode combinar o melhor dos dois mundos: a agilidade do serverless para a operação diária e o poder computacional do Python para a inteligência analítica, criando um ciclo de melhoria contínua para a eficiência do serviço.

Análise de Dados e Resultados
Este capítulo apresenta os resultados empíricos da implementação do Sistema Integrado de Gestão do Transporte Escolar (SIG-TE). A análise que se segue é fruto da coleta de dados realizada na Fase 4 da metodologia de pesquisa-ação, contrastando o cenário pós-implementação com a linha de base estabelecida no diagnóstico do Capítulo 3. Os dados foram extraídos de múltiplas fontes: (a) dados transacionais gerados pela plataforma SIG-TE, (b) respostas aos questionários de avaliação da qualidade e adoção, e (c) transcrições das entrevistas semi-estruturadas com os atores-chave. O objetivo é apresentar uma visão multifacetada do impacto do sistema, abordando a eficiência operacional, a qualidade percebida do serviço, a adoção da tecnologia pelos usuários e os ganhos em transparência pública.

5.1. Análise Descritiva dos Dados Operacionais
A primeira dimensão de análise foca nos indicadores objetivos de desempenho, comparando o estado "antes" e "depois" da implementação do SIG-TE.

5.1.1. Eficiência Operacional: Redução no Tempo de Ciclo dos Processos
Um dos principais objetivos do SIG-TE era eliminar os gargalos processuais identificados no diagnóstico. Para medir esse impacto, foi analisado o tempo médio de ciclo (TMC) para a "Solicitação de Transporte para Atividade Extracurricular", um processo que envolve múltiplos atores (Escola, UNIEB, UNIAE, GCOTE). O Figura 5.1 compara o TMC no sistema legado (baseado em tramitação de processos SEI alimentados por documentos externos) com o TMC no SIG-TE (baseado em workflow digital). Os dados do sistema legado foram estimados a partir da análise de 50 processos SEI anonimizados, enquanto os dados do SIG-TE foram extraídos diretamente dos timestamps de cada etapa do fluxo no banco de dados.

Figura 5.1 – Tempo Médio de Ciclo (em dias úteis) para Solicitação de Transporte Extracurricular: Sistema Legado vs. SIG-TE

[Descrição do Gráfico de Barras Empilhadas]

Título: Comparativo de Tempo Médio de Ciclo (TMC) para Solicitação Extracurricular

Eixo Y: Tempo Médio em Dias Úteis

Eixo X: Etapas do Processo

Duas barras principais no Eixo X: "Sistema Legado (via SEI)" e "SIG-TE (Workflow Digital)".

Cada barra é empilhada com três segmentos coloridos:

- Segmento 1 (Azul Escuro): "Preparação e Envio (Escola)"

- Segmento 2 (Azul Médio): "Análise e Parecer (UNIEB/UNIAE)"

- Segmento 3 (Azul Claro): "Autorização e Comunicação (GCOTE/Empresa)"

Valores para a barra "Sistema Legado (via SEI)":

- Preparação e Envio: 2.5 dias

- Análise e Parecer: 4.0 dias

- Autorização e Comunicação: 1.5 dias

- Total da Barra: 8.0 dias

Valores para a barra "SIG-TE (Workflow Digital)":

- Preparação e Envio: 0.5 dias (preenchimento do formulário inteligente)

- Análise e Parecer: 1.0 dia (notificações em tempo real e dados centralizados)

- Autorização e Comunicação: 0.5 dias (aprovação digital e notificação automática)

- Total da Barra: 2.0 dias

[Fim da Descrição do Gráfico]

A análise do Figura 5.1 revela um ganho de eficiência dramático. O tempo médio total para processar uma solicitação foi reduzido em 75%, caindo de 8 para 2 dias úteis. A maior redução percentual ocorreu nas fases de "Análise e Parecer", onde a centralização da informação e as notificações automáticas eliminaram o tempo de espera pela tramitação de processos e a necessidade de buscar dados em múltiplas planilhas. Este resultado valida a hipótese de que a digitalização integrada dos fluxos de trabalho elimina gargalos e libera os servidores para atividades de maior valor agregado.

5.1.2. Otimização da Frota: Análise da Taxa de Ocupação
O sistema legado, com suas planilhas fragmentadas, tornava impossível uma análise precisa da utilização da frota. O SIG-TE, ao registrar cada embarque via QR Code, permite um cálculo exato da taxa de ocupação por viagem. O Figura 5.2 utiliza um gráfico de violino múltiplo para comparar a distribuição da taxa de ocupação dos veículos entre as duas principais empresas contratadas (denominadas aqui como "Empresa Alfa" e "Empresa Beta") e a frota própria da SEDF, durante o primeiro trimestre de operação do sistema.

Figura 5.2 – Distribuição da Taxa de Ocupação por Viagem, por Tipo de Frota

[Descrição do Gráfico de Violino Múltiplo]

Título: Distribuição da Taxa de Ocupação por Viagem (1º Trimestre com SIG-TE)

Eixo Y: Taxa de Ocupação (%)

Eixo X: Tipo de Frota

Três violinos no Eixo X: "Empresa Alfa", "Empresa Beta", "Frota Própria (SEDF)".

Cada violino mostra a densidade da distribuição dos dados. Um ponto de boxplot dentro de cada violino marca a mediana.

- Violino "Empresa Alfa": Mais largo na parte superior, entre 80% e 100%, indicando alta utilização consistente. Mediana em ~92%. Cauda inferior curta.

- Violino "Empresa Beta": Formato mais alongado e bimodal, com um pico em torno de 90% e outro menor em torno de 40-50%. Mediana em ~75%. Isso indica que, enquanto muitas rotas são bem utilizadas, há um subgrupo de rotas com ociosidade significativa.

- Violino "Frota Própria (SEDF)": Violino mais largo e achatado, com uma distribuição mais uniforme entre 60% e 95%. Mediana em ~80%. A largura indica maior variabilidade na ocupação entre as diferentes rotas operadas pela frota própria.

[Fim da Descrição do Gráfico]

O Figura 5.2 oferece insights gerenciais que eram inatingíveis anteriormente. A "Empresa Alfa" demonstra uma operação altamente otimizada. Em contraste, a bimodalidade da "Empresa Beta" é um sinal de alerta para os gestores da UNIAE. Ela sugere a necessidade de uma investigação focada: quais são as rotas que operam com 40-50% de ocupação? É possível consolidá-las? A variabilidade na "Frota Própria" pode indicar uma alocação menos dinâmica dos veículos. Esses dados permitem que a gestão passe de uma fiscalização genérica para uma otimização de contratos e recursos baseada em evidências, com potencial de gerar economias significativas.
5.1.3. Monitoramento de Ocorrências: Identificando Padrões
A substituição do "Diário de Bordo" em papel pelo registro de ocorrências no aplicativo do monitor transformou anotações dispersas em um banco de dados analítico. O Figura 5.3 utiliza um histograma empilhado para visualizar a frequência e o tipo de ocorrências registradas ao longo de um semestre.

Figura 5.3 – Ocorrências Registradas por Mês e Tipo

[Descrição do Histograma Empilhado]

Título: Volume e Tipo de Ocorrências Registradas no SIG-TE (1º Semestre)

Eixo Y: Número de Ocorrências

Eixo X: Meses (Fevereiro a Junho)

Cada barra mensal é empilhada com três segmentos coloridos:

- Segmento 1 (Vermelho): "Problema Mecânico"

- Segmento 2 (Laranja): "Indisciplina de Aluno"

- Segmento 3 (Amarelo): "Atraso na Rota (>15 min)"

Dados Hipotéticos:

- Fev: Total 40 (Mecânico: 15, Indisciplina: 10, Atraso: 15)

- Mar: Total 55 (Mecânico: 25, Indisciplina: 15, Atraso: 15) - Pico de problemas mecânicos.

- Abr: Total 35 (Mecânico: 10, Indisciplina: 15, Atraso: 10)

- Mai: Total 30 (Mecânico: 5, Indisciplina: 15, Atraso: 10)

- Jun: Total 45 (Mecânico: 5, Indisciplina: 25, Atraso: 15) - Pico de indisciplina.

[Fim da Descrição do Gráfico]

A análise do Figura 5.3 permite à gestão identificar padrões. O pico de "Problemas Mecânicos" em março pode indicar a necessidade de uma fiscalização mais rigorosa da manutenção da frota no início do semestre. O aumento contínuo dos registros de "Indisciplina" culminando em junho pode sugerir a necessidade de ações pedagógicas coordenadas com as escolas cujas rotas apresentam maior incidência. O sistema transforma problemas reativos em tendências gerenciáveis.

5.2. Avaliação da Qualidade do Serviço: Análise SEM e NCA
A avaliação da qualidade foi realizada a partir dos dados do questionário aplicado a uma amostra de 450 gestores escolares e responsáveis.

5.2.1. Resultados do Modelo Estrutural (SEM): Os Drivers da Satisfação
O modelo SEM foi estimado para testar as hipóteses de que a Qualidade dos Profissionais (QP), a Qualidade do Veículo (QV) e a Qualidade Operacional (QO) impactam positivamente a Satisfação Geral (SG). Os resultados são apresentados na Figura 5.4.

Figura 5.4 – Modelo Estrutural de Equações (SEM) para a Satisfação com o Serviço

[Descrição do Diagrama de Caminhos]

Um diagrama com quatro construtos (caixas ovais): QP, QV, QO, SG.

Setas apontam de QP, QV e QO para SG.

Em cada seta, há o coeficiente de caminho (β) e o nível de significância (p-valor).

- Caminho QP -> SG: β = 0.25, p < 0.01

- Caminho QV -> SG: β = 0.18, p < 0.05

- Caminho QO -> SG: β = 0.55, p < 0.001

O modelo explica 68% da variância da Satisfação Geral (R² = 0.68).

[Fim da Descrição do Diagrama]

Os resultados da SEM são claros: todas as três dimensões da qualidade têm um impacto positivo e estatisticamente significativo na Satisfação Geral. No entanto, a Qualidade Operacional (β = 0.55) é, de longe, o preditor mais forte. Isso significa que, para aumentar a satisfação média dos usuários, os esforços gerenciais devem ser prioritariamente direcionados para garantir a pontualidade e o cumprimento das rotas. A Qualidade dos Profissionais também é muito importante (β = 0.25), enquanto a Qualidade do Veículo, embora significativa, tem um impacto relativamente menor.

5.2.2. Resultados da Análise de Condições Necessárias (NCA): Os Fatores de Veto
A NCA foi aplicada para identificar os pré-requisitos para se atingir um alto nível de satisfação. O Figura 5.5 combina os resultados da SEM e da NCA em um gráfico de radar, oferecendo uma visão gerencial completa.

Figura 5.5 – Gráfico de Radar: Importância (SEM) vs. Necessidade (NCA) dos Fatores de Qualidade

[Descrição do Gráfico de Radar]

Um gráfico de radar com três eixos, um para cada construto de qualidade: Qualidade dos Profissionais (QP), Qualidade do Veículo (QV), Qualidade Operacional (QO).

Duas séries de dados são plotadas:

- Série 1 (Linha Azul, "Importância - SEM"): Plota os coeficientes de caminho (β) da SEM.

  - QP: 0.25

  - QV: 0.18

  - QO: 0.55

- Série 2 (Área Vermelha, "Necessidade - NCA"): Plota o efeito de necessidade (d) da NCA para se atingir uma satisfação "Ótima" (e.g., >6 na escala de 7).

  - QP: 0.40 (Um nível mínimo de qualidade dos profissionais é altamente necessário)

  - QV: 0.35 (Um nível mínimo de qualidade do veículo é necessário)

  - QO: 0.30 (Um nível mínimo de qualidade operacional é necessário, mas menos que os outros)

O gráfico mostra que QO tem a maior "Importância" (ponta mais distante na linha azul), mas QP tem a maior "Necessidade" (ponta mais distante na área vermelha).

[Fim da Descrição do Gráfico]

A combinação das análises no Figura 5.5 revela um insight crucial que nenhuma das técnicas isoladamente poderia fornecer. Enquanto a SEM mostra que a Qualidade Operacional é o fator mais importante para elevar a satisfação média, a NCA revela que a Qualidade dos Profissionais é a condição mais necessária para se atingir a excelência. Em termos práticos: falhas na pontualidade (QO) irritam a todos e derrubam a média de satisfação. No entanto, um monitor desatento ou um motorista imprudente (baixa QP) atua como um fator de veto: mesmo que o ônibus seja pontual e novo, a percepção de insegurança ou descaso impede que os pais considerem o serviço "ótimo". A gestão deve, portanto, adotar uma estratégia dupla: focar em otimizar a pontualidade para melhorar a satisfação geral (estratégia SEM) e, ao mesmo tempo, garantir com rigor absoluto a qualidade e o treinamento dos profissionais para evitar falhas críticas que impeçam a excelência (estratégia NCA).

5.3. Análise da Adoção do Sistema pelos Atores
A eficácia do SIG-TE depende de seu uso efetivo pelos atores na ponta. A análise de adoção combinou dados quantitativos de uso com percepções qualitativas das entrevistas.

5.3.1. Análise Quantitativa da Utilização
O Figura 5.6 mostra a curva de adoção do sistema, medida pelo número de interações-chave (logins, submissões de formulários, escaneamentos de QR Code) por perfil de usuário, nas primeiras 8 semanas após o lançamento completo.

Figura 5.6 – Curva de Adoção do SIG-TE por Perfil de Usuário (Primeiras 8 Semanas)

[Descrição do Gráfico de Barras Empilhadas por Semana]

Título: Interações Semanais no SIG-TE por Perfil de Usuário

Eixo Y: Número de Interações

Eixo X: Semana (1 a 8)

Oito barras, uma para cada semana. Cada barra é empilhada com três segmentos:

- Segmento 1 (Verde): "Monitores (Scans + Ocorrências)"

- Segmento 2 (Azul): "Gestores Escolares (Logins + Formulários)"

- Segmento 3 (Roxo): "Gestores UNIAE (Logins + Aprovações)"

Tendências Observadas:

- Monitores (Verde): Adoção imediata e alta desde a Semana 1, estabilizando em um patamar elevado, refletindo a rotina diária de escaneamento.

- Gestores Escolares (Azul): Adoção mais gradual, com um pico nas Semanas 3 e 4 (coincidindo com o fim do treinamento e o primeiro ciclo de solicitações extracurriculares) e depois se estabilizando.

- Gestores UNIAE (Roxo): Uso constante e estável, refletindo a rotina diária de fiscalização e aprovação.

[Fim da Descrição do Gráfico]

A curva de adoção mostra que os Monitores foram o grupo que adotou a ferramenta mais rapidamente, validando a hipótese de que um aplicativo móvel simples e focado em uma tarefa clara (substituir a prancheta) encontra baixa resistência. Os Gestores Escolares apresentaram uma curva de aprendizado, com o uso se intensificando à medida que se familiarizavam com os novos fluxos e percebiam os benefícios de agilidade.

5.3.2. Análise Qualitativa das Percepções (Entrevistas)
As entrevistas com gestores e fiscais revelaram temas recorrentes que enriquecem os dados quantitativos.
●Tema 1: "Visibilidade sem Precedentes". Todos os entrevistados da UNIAE mencionaram a capacidade de ter uma visão completa e em tempo real da operação como a maior transformação. Um fiscal declarou: "Antes, eu era um apagador de incêndios. Um pai ligava reclamando de um atraso e eu tinha que ligar para a escola, que ligava para a empresa... Hoje, eu abro o dashboard e vejo no mapa onde o ônibus está. A conversa mudou de 'o que aconteceu?' para 'estou vendo que o ônibus X está atrasado, já notifiquei a empresa'." (Fiscal UNIAE A).
●Tema 2: "Fim da Guerra das Planilhas". Os gestores escolares celebraram a eliminação do trabalho manual e redundante. "Eu gastava quase um dia inteiro no final do mês para fechar as planilhas de frequência e os relatórios. Agora, eu gero o relatório da minha escola com um clique. O tempo que eu ganhei, eu uso para conversar com os professores, com os pais. Voltei a ser gestora." (Gestora Escolar B).
●Tema 3: Desafios Remanescentes e Sugestões. As entrevistas também apontaram áreas para melhoria. A principal sugestão foi a criação de um canal de comunicação direto dentro da plataforma (um chat ou sistema de mensagens) entre a escola e o monitor da rota, para resolver pequenas questões do dia a dia sem precisar escalar para a UNIAE. Esta sugestão foi incorporada ao backlog de desenvolvimento para uma futura versão do sistema. Esses resultados demonstram que o SIG-TE não foi apenas implementado, mas efetivamente adotado e valorizado pelos seus usuários, que perceberam ganhos concretos em suas rotinas de trabalho.

Discussão dos Resultados
A apresentação dos resultados no capítulo anterior quantificou e descreveu as mudanças operacionais e perceptivas decorrentes da implementação do Sistema Integrado de Gestão do Transporte Escolar (SIG-TE). Este capítulo se aprofunda na interpretação desses resultados, contextualizando-os no referencial teórico apresentado no Capítulo 2 e explorando suas implicações para a teoria e a prática da administração pública. A discussão está estruturada em torno dos eixos centrais do projeto: o impacto da transformação digital na governança, a utilidade do framework analítico proposto, os fatores que determinaram a adoção da tecnologia e as lições aprendidas ao longo do processo.

6.1. O Impacto da Transformação Digital: Da Eficiência Operacional à Governança Guiada por Dados
Os resultados apresentados demonstram que a implementação do SIG-TE transcendeu uma simples modernização tecnológica. Ela representou uma mudança paradigmática na gestão do transporte escolar, alinhada à transição do Governo Eletrônico (e-Gov) para o Governo Digital (Mergel, Edelmann, & Haug, 2019). O sistema legado, com seus fluxos baseados em papel, e-mail e planilhas desconectadas, era um exemplo clássico do estágio inicial do e-Gov, onde a tecnologia é usada para replicar processos analógicos, resultando em "silos digitais" e ganhos marginais de eficiência. A redução de 75% no tempo médio de ciclo para solicitações extracurriculares (Figura 5.1) não é apenas um número; é a evidência quantitativa da eliminação de gargalos sistêmicos através da reengenharia de processos habilitada pela tecnologia. A fala da gestora escolar entrevistada – "Voltei a ser gestora" – encapsula perfeitamente esse ganho: a automação de tarefas de baixo valor (digitação, consolidação, envio de processos) liberou capital humano para se concentrar em atividades de maior valor agregado, como a gestão pedagógica e o relacionamento com a comunidade escolar. Mais profundamente, o SIG-TE catalisou a transição para uma governança guiada por dados. A afirmação do fiscal da UNIAE – "Antes, eu era um apagador de incêndios. Hoje, eu abro o dashboard e vejo no mapa onde o ônibus está" – ilustra a passagem de uma gestão reativa, baseada em reclamações, para uma gestão proativa, baseada em monitoramento contínuo. A capacidade de analisar a taxa de ocupação por rota (Figura 5.2) e identificar padrões de ocorrências (Figura 5.3) equipou os gestores com uma "visibilidade sem precedentes", permitindo-lhes tomar decisões estratégicas sobre otimização de rotas, fiscalização de contratos e alocação de recursos que eram simplesmente impossíveis no ecossistema anterior. O sistema deixou de ser um mero repositório de registros para se tornar um motor de inteligência gerencial. A implementação dos painéis de transparência pública (Seção 4.4) materializa outro pilar do Governo Digital: a transparência ativa. Ao disponibilizar dados sobre lotação da frota e status de autorização de veículos, a CRE-PP não apenas cumpre requisitos legais, mas também fortalece a confiança pública e o controle social, transformando a relação com o cidadão de reativa (respondendo a pedidos de informação) para proativa (antecipando e publicando informações de interesse público).

6.2. A Sinergia entre SEM e NCA como Ferramenta de Diagnóstico Gerencial
A aplicação do framework analítico misto (SEM e NCA) para avaliar a qualidade do serviço revelou-se uma das contribuições metodológicas e práticas mais significativas deste projeto. A análise isolada de qualquer uma das técnicas teria produzido uma visão incompleta e potencialmente enganosa para a tomada de decisão. A análise SEM (Figura 5.4) identificou a Qualidade Operacional (pontualidade, cumprimento de rotas) como o fator de maior suficiência (β = 0.55), ou seja, o principal driver para elevar a satisfação média dos usuários. Uma interpretação simplista deste resultado poderia levar os gestores a concentrar 100% de seus esforços e recursos na otimização logística, negligenciando outros aspectos. Contudo, a análise NCA (Figura 5.5) adicionou uma camada crucial de profundidade, revelando a Qualidade dos Profissionais (cordialidade, cuidado do monitor) como a condição de maior necessidade (d = 0.40) para se atingir a excelência (satisfação "ótima"). Isso significa que, embora a pontualidade seja o que mais impacta a média, a ausência de um profissionalismo mínimo por parte da equipe de campo atua como um fator de veto, um "deal-breaker" que impede que o serviço seja percebido como excelente, mesmo que todos os outros aspectos estejam perfeitos. Essa dualidade permite a formulação de uma estratégia gerencial de duplo foco:
1.Estratégia de Otimização (guiada pela SEM): Investir continuamente na melhoria da Qualidade Operacional (e.g., usando o microserviço de otimização de rotas em Python/Flask, monitorando atrasos pelo dashboard) para elevar a satisfação geral e a eficiência do sistema.
2.Estratégia de Garantia de Mínimos (guiada pela NCA): Implementar controles rigorosos e treinamento contínuo para a Qualidade dos Profissionais, tratando qualquer falha neste quesito (como um monitor que não acompanha o desembarque) não como um problema menor, mas como um incidente crítico que precisa de ação imediata. A gestão deve garantir que os "fatores de veto" nunca falhem. Este framework analítico, portanto, oferece aos gestores públicos uma ferramenta de diagnóstico muito mais sofisticada do que as tradicionais pesquisas de satisfação, permitindo-lhes alocar recursos de forma mais inteligente, gerenciando tanto a média quanto os riscos nos extremos da distribuição.

6.3. Fatores Determinantes para a Adoção do SIG-TE: Uma Análise à Luz da Teoria UTAUT
O sucesso de qualquer sistema de informação depende de sua aceitação e uso pelos indivíduos. A análise da adoção do SIG-TE, à luz da Teoria Unificada de Aceitação e Uso de Tecnologia (UTAUT) (Venkatesh et al., 2003), revela que o sucesso do projeto não foi acidental, mas sim o resultado de um alinhamento estratégico com os principais determinantes do comportamento do usuário.
●Expectativa de Desempenho: Este foi o fator mais poderoso. Os resultados qualitativos, como as falas sobre o "fim da guerra das planilhas" e a "visibilidade sem precedentes", demonstram que os usuários perceberam rapidamente que o SIG-TE lhes traria ganhos significativos de desempenho. A capacidade de realizar tarefas de forma mais rápida e com menos erros (como evidenciado pela redução do TMC na Figura 5.1) criou uma forte motivação intrínseca para a adoção. O projeto acertou ao focar, desde o início, em resolver as "dores" mais agudas dos usuários.
●Expectativa de Esforço: A rápida adoção pelos monitores (Figura 5.6) valida a importância deste construto. O design do aplicativo móvel, focado na simplicidade e na realização de uma tarefa única (escanear QR Code), minimizou a percepção de esforço. A interface, alinhada ao Design System do gov.br, também contribuiu para uma curva de aprendizado suave para os gestores no portal web. O projeto evitou a armadilha de criar um sistema "completo, mas complicado", priorizando a usabilidade em detrimento de funcionalidades excessivas.
●Influência Social: A estratégia de criar "campeões da mudança" e de comunicar os benefícios de forma segmentada (Seção 4.2) foi uma aplicação prática deste princípio. Quando gestores escolares viam seus pares de um grupo piloto elogiando o sistema e demonstrando seus benefícios, a pressão social para adotar a nova ferramenta aumentava positivamente. O apoio explícito e contínuo da liderança da CRE-PP também sinalizou a importância e a seriedade do projeto.
●Condições Facilitadoras: Este foi talvez o pilar mais deliberadamente construído pelo plano de gestão da mudança. O plano de treinamento customizado por perfil (Tabela 4.1), a criação de materiais de apoio (manuais, vídeos, guias de bolso) e a implementação de canais de suporte acessíveis (chat, WhatsApp) foram cruciais para dar aos usuários a confiança e os recursos necessários para a transição. A implementação do modo offline no aplicativo do monitor foi uma condição facilitadora técnica que abordou diretamente uma das maiores barreiras percebidas (o medo da falha de conectividade). Em suma, a adoção bem-sucedida do SIG-TE pode ser atribuída a uma estratégia de implementação que, consciente ou inconscientemente, abordou de forma eficaz todos os quatro pilares da UTAUT, criando um ciclo virtuoso onde a percepção de utilidade e facilidade de uso, apoiada por um ambiente favorável, levou ao uso efetivo do sistema.

6.4. Desafios, Limitações e Lições Aprendidas
Nenhuma implementação desta magnitude ocorre sem percalços. A reflexão crítica sobre os desafios e limitações é essencial para a validade do projeto e para a geração de conhecimento aplicável.
●Desafios Enfrentados:
1.Qualidade dos Dados Legados: O maior desafio técnico não foi o desenvolvimento do novo sistema, mas o processo de saneamento e migração dos dados das planilhas legadas. A quantidade de inconsistências e erros exigiu um esforço manual significativo da equipe da UNIAE, em colaboração com a equipe de desenvolvimento, para garantir que o SIG-TE partisse de uma base de dados minimamente confiável.
2.Letramento Digital: Embora o treinamento tenha sido abrangente, persistiu uma lacuna de letramento digital em uma parcela dos usuários, especialmente entre os monitores mais idosos. Isso exigiu um esforço de suporte contínuo e individualizado nas primeiras semanas de operação.
3.Cultura da Burocracia: A cultura de se apoiar no "processo físico" ou no "documento assinado" como garantia de segurança estava profundamente enraizada. Foi necessário um esforço contínuo de comunicação para demonstrar que os registros digitais no SIG-TE, com sua trilha de auditoria, eram, na verdade, mais seguros e rastreáveis do que o papel.
●Limitações do Estudo:
1.Generalização: Como um estudo de caso único focado na CRE-PP, a generalização direta dos resultados para outras coordenações regionais ou outros serviços públicos deve ser feita com cautela, embora os princípios e a metodologia sejam amplamente aplicáveis.
2.Horizonte Temporal: A análise de dados pós-implementação cobriu um período de seis meses. Embora suficiente para avaliar a adoção inicial e os impactos de curto prazo, os efeitos de longo prazo na cultura organizacional e na otimização de custos exigirão um acompanhamento contínuo.
3.Viés do Pesquisador: Na pesquisa-ação, o pesquisador é também um agente de mudança, o que introduz um potencial viés. Para mitigar isso, foi feita uma triangulação rigorosa de dados (quantitativos, qualitativos, documentais) e uma reflexão crítica constante sobre o papel do pesquisador no processo.
●Lições Aprendidas:
1.Diagnóstico é 80% da Solução: O tempo investido na análise forense do sistema legado foi o que permitiu projetar uma solução que realmente resolvesse os problemas centrais.
2.A Gestão da Mudança não é um Acessório: Ela deve ser planejada e orçada como uma atividade central do projeto, com a mesma importância do desenvolvimento de software.
3.Entregue Valor Rápido e com Frequência: A abordagem de prototipagem e implementação faseada, entregando valor incremental, foi fundamental para construir confiança e engajamento.
4.A Tecnologia é o Meio, não o Fim: O sucesso do SIG-TE não reside em sua arquitetura serverless ou em seu frontend em React, mas em sua capacidade de simplificar processos, empoderar usuários e transformar dados em insights acionáveis.

6.5. Implicações para a Gestão e Políticas Públicas
A experiência do SIG-TE oferece implicações que transcendem a gestão do transporte escolar. Ela serve como um microcosmo para a transformação digital de outros serviços públicos complexos.
●Implicações Práticas: O modelo SIG-TE (diagnóstico profundo, reengenharia de processos, plataforma centralizada, dashboards e transparência) é um padrão replicável. Gestores de outras áreas (alimentação escolar, manutenção predial, alocação de professores) podem adotar a mesma abordagem para sair da "guerra das planilhas" e migrar para uma gestão baseada em dados. O framework SEM/NCA, em particular, oferece uma nova maneira de pensar a avaliação da qualidade de qualquer serviço público.
●Implicações para Políticas Públicas: O projeto evidencia a necessidade de as organizações públicas desenvolverem capacidades internas de gestão de produtos digitais. A abordagem tradicional de contratar um "sistema" fechado de um fornecedor externo muitas vezes falha em se adaptar às necessidades reais dos usuários e à evolução dos processos. O modelo adotado aqui, com uma equipe interna (ou em estreita colaboração) que utiliza tecnologias modernas e metodologias ágeis para construir e evoluir um produto digital, é mais resiliente e eficaz. Isso aponta para a necessidade de políticas de capacitação e de novas estruturas de carreira para servidores públicos que atuem como Product Owners ou gerentes de produtos digitais, fazendo a ponte entre a necessidade do negócio e a tecnologia. Em síntese, a discussão dos resultados demonstra que a transformação digital, quando bem planejada e executada, com foco tanto na tecnologia quanto nas pessoas, pode de fato cumprir sua promessa de gerar um governo mais eficiente, transparente e capaz de entregar mais valor à sociedade.

Discussão dos Resultados
A apresentação dos resultados no capítulo anterior quantificou e descreveu as mudanças operacionais e perceptivas decorrentes da implementação do Sistema Integrado de Gestão do Transporte Escolar (SIG-TE). Este capítulo se aprofunda na interpretação desses resultados, contextualizando-os no referencial teórico apresentado no Capítulo 2 e explorando suas implicações para a teoria e a prática da administração pública. A discussão está estruturada em torno dos eixos centrais do projeto: o impacto da transformação digital na governança, a utilidade do framework analítico proposto, os fatores que determinaram a adoção da tecnologia e as lições aprendidas ao longo do processo.

6.1. O Impacto da Transformação Digital: Da Eficiência Operacional à Governança Guiada por Dados
Os resultados apresentados demonstram que a implementação do SIG-TE transcendeu uma simples modernização tecnológica. Ela representou uma mudança paradigmática na gestão do transporte escolar, alinhada à transição do Governo Eletrônico (e-Gov) para o Governo Digital (Mergel, Edelmann, & Haug, 2019). O sistema legado, com seus fluxos baseados em papel, e-mail e planilhas desconectadas, era um exemplo clássico do estágio inicial do e-Gov, onde a tecnologia é usada para replicar processos analógicos, resultando em "silos digitais" e ganhos marginais de eficiência. A redução de 75% no tempo médio de ciclo para solicitações extracurriculares (Figura 5.1) não é apenas um número; é a evidência quantitativa da eliminação de gargalos sistêmicos através da reengenharia de processos habilitada pela tecnologia. A fala da gestora escolar entrevistada – "Voltei a ser gestora" – encapsula perfeitamente esse ganho: a automação de tarefas de baixo valor (digitação, consolidação, envio de processos) liberou capital humano para se concentrar em atividades de maior valor agregado, como a gestão pedagógica e o relacionamento com a comunidade escolar. Mais profundamente, o SIG-TE catalisou a transição para uma governança guiada por dados. A afirmação do fiscal da UNIAE – "Antes, eu era um apagador de incêndios. Hoje, eu abro o dashboard e vejo no mapa onde o ônibus está" – ilustra a passagem de uma gestão reativa, baseada em reclamações, para uma gestão proativa, baseada em monitoramento contínuo. A capacidade de analisar a taxa de ocupação por rota (Figura 5.2) e identificar padrões de ocorrências (Figura 5.3) equipou os gestores com uma "visibilidade sem precedentes", permitindo-lhes tomar decisões estratégicas sobre otimização de rotas, fiscalização de contratos e alocação de recursos que eram simplesmente impossíveis no ecossistema anterior. O sistema deixou de ser um mero repositório de registros para se tornar um motor de inteligência gerencial. A implementação dos painéis de transparência pública (Seção 4.4) materializa outro pilar do Governo Digital: a transparência ativa. Ao disponibilizar dados sobre lotação da frota e status de autorização de veículos, a CRE-PP não apenas cumpre requisitos legais, mas também fortalece a confiança pública e o controle social, transformando a relação com o cidadão de reativa (respondendo a pedidos de informação) para proativa (antecipando e publicando informações de interesse público).

6.2. A Sinergia entre SEM e NCA como Ferramenta de Diagnóstico Gerencial
A aplicação do framework analítico misto (SEM e NCA) para avaliar a qualidade do serviço revelou-se uma das contribuições metodológicas e práticas mais significativas deste projeto. A análise isolada de qualquer uma das técnicas teria produzido uma visão incompleta e potencialmente enganosa para a tomada de decisão. A análise SEM (Figura 5.4) identificou a Qualidade Operacional (pontualidade, cumprimento de rotas) como o fator de maior suficiência (β = 0.55), ou seja, o principal driver para elevar a satisfação média dos usuários. Uma interpretação simplista deste resultado poderia levar os gestores a concentrar 100% de seus esforços e recursos na otimização logística, negligenciando outros aspectos. Contudo, a análise NCA (Figura 5.5) adicionou uma camada crucial de profundidade, revelando a Qualidade dos Profissionais (cordialidade, cuidado do monitor) como a condição de maior necessidade (d = 0.40) para se atingir a excelência (satisfação "ótima"). Isso significa que, embora a pontualidade seja o que mais impacta a média, a ausência de um profissionalismo mínimo por parte da equipe de campo atua como um fator de veto, um "deal-breaker" que impede que o serviço seja percebido como excelente, mesmo que todos os outros aspectos estejam perfeitos. Essa dualidade permite a formulação de uma estratégia gerencial de duplo foco:
1.Estratégia de Otimização (guiada pela SEM): Investir continuamente na melhoria da Qualidade Operacional (e.g., usando o microserviço de otimização de rotas em Python/Flask, monitorando atrasos pelo dashboard) para elevar a satisfação geral e a eficiência do sistema.
2.Estratégia de Garantia de Mínimos (guiada pela NCA): Implementar controles rigorosos e treinamento contínuo para a Qualidade dos Profissionais, tratando qualquer falha neste quesito (como um monitor que não acompanha o desembarque) não como um problema menor, mas como um incidente crítico que precisa de ação imediata. A gestão deve garantir que os "fatores de veto" nunca falhem. Este framework analítico, portanto, oferece aos gestores públicos uma ferramenta de diagnóstico muito mais sofisticada do que as tradicionais pesquisas de satisfação, permitindo-lhes alocar recursos de forma mais inteligente, gerenciando tanto a média quanto os riscos nos extremos da distribuição.

6.3. Fatores Determinantes para a Adoção do SIG-TE: Uma Análise à Luz da Teoria UTAUT
O sucesso de qualquer sistema de informação depende de sua aceitação e uso pelos indivíduos. A análise da adoção do SIG-TE, à luz da Teoria Unificada de Aceitação e Uso de Tecnologia (UTAUT) (Venkatesh et al., 2003), revela que o sucesso do projeto não foi acidental, mas sim o resultado de um alinhamento estratégico com os principais determinantes do comportamento do usuário.
●Expectativa de Desempenho: Este foi o fator mais poderoso. Os resultados qualitativos, como as falas sobre o "fim da guerra das planilhas" e a "visibilidade sem precedentes", demonstram que os usuários perceberam rapidamente que o SIG-TE lhes traria ganhos significativos de desempenho. A capacidade de realizar tarefas de forma mais rápida e com menos erros (como evidenciado pela redução do TMC na Figura 5.1) criou uma forte motivação intrínseca para a adoção. O projeto acertou ao focar, desde o início, em resolver as "dores" mais agudas dos usuários.
●Expectativa de Esforço: A rápida adoção pelos monitores (Figura 5.6) valida a importância deste construto. O design do aplicativo móvel, focado na simplicidade e na realização de uma tarefa única (escanear QR Code), minimizou a percepção de esforço. A interface, alinhada ao Design System do gov.br, também contribuiu para uma curva de aprendizado suave para os gestores no portal web. O projeto evitou a armadilha de criar um sistema "completo, mas complicado", priorizando a usabilidade em detrimento de funcionalidades excessivas.
●Influência Social: A estratégia de criar "campeões da mudança" e de comunicar os benefícios de forma segmentada (Seção 4.2) foi uma aplicação prática deste princípio. Quando gestores escolares viam seus pares de um grupo piloto elogiando o sistema e demonstrando seus benefícios, a pressão social para adotar a nova ferramenta aumentava positivamente. O apoio explícito e contínuo da liderança da CRE-PP também sinalizou a importância e a seriedade do projeto.
●Condições Facilitadoras: Este foi talvez o pilar mais deliberadamente construído pelo plano de gestão da mudança. O plano de treinamento customizado por perfil (Tabela 4.1), a criação de materiais de apoio (manuais, vídeos, guias de bolso) e a implementação de canais de suporte acessíveis (chat, WhatsApp) foram cruciais para dar aos usuários a confiança e os recursos necessários para a transição. A implementação do modo offline no aplicativo do monitor foi uma condição facilitadora técnica que abordou diretamente uma das maiores barreiras percebidas (o medo da falha de conectividade). Em suma, a adoção bem-sucedida do SIG-TE pode ser atribuída a uma estratégia de implementação que, consciente ou inconscientemente, abordou de forma eficaz todos os quatro pilares da UTAUT, criando um ciclo virtuoso onde a percepção de utilidade e facilidade de uso, apoiada por um ambiente favorável, levou ao uso efetivo do sistema.

6.4. Desafios, Limitações e Lições Aprendidas
Nenhuma implementação desta magnitude ocorre sem percalços. A reflexão crítica sobre os desafios e limitações é essencial para a validade do projeto e para a geração de conhecimento aplicável.
●Desafios Enfrentados:
1.Qualidade dos Dados Legados: O maior desafio técnico não foi o desenvolvimento do novo sistema, mas o processo de saneamento e migração dos dados das planilhas legadas. A quantidade de inconsistências e erros exigiu um esforço manual significativo da equipe da UNIAE, em colaboração com a equipe de desenvolvimento, para garantir que o SIG-TE partisse de uma base de dados minimamente confiável.
2.Letramento Digital: Embora o treinamento tenha sido abrangente, persistiu uma lacuna de letramento digital em uma parcela dos usuários, especialmente entre os monitores mais idosos. Isso exigiu um esforço de suporte contínuo e individualizado nas primeiras semanas de operação.
3.Cultura da Burocracia: A cultura de se apoiar no "processo físico" ou no "documento assinado" como garantia de segurança estava profundamente enraizada. Foi necessário um esforço contínuo de comunicação para demonstrar que os registros digitais no SIG-TE, com sua trilha de auditoria, eram, na verdade, mais seguros e rastreáveis do que o papel.
●Limitações do Estudo:
1.Generalização: Como um estudo de caso único focado na CRE-PP, a generalização direta dos resultados para outras coordenações regionais ou outros serviços públicos deve ser feita com cautela, embora os princípios e a metodologia sejam amplamente aplicáveis.
2.Horizonte Temporal: A análise de dados pós-implementação cobriu um período de seis meses. Embora suficiente para avaliar a adoção inicial e os impactos de curto prazo, os efeitos de longo prazo na cultura organizacional e na otimização de custos exigirão um acompanhamento contínuo.
3.Viés do Pesquisador: Na pesquisa-ação, o pesquisador é também um agente de mudança, o que introduz um potencial viés. Para mitigar isso, foi feita uma triangulação rigorosa de dados (quantitativos, qualitativos, documentais) e uma reflexão crítica constante sobre o papel do pesquisador no processo.
●Lições Aprendidas:
1.Diagnóstico é 80% da Solução: O tempo investido na análise forense do sistema legado foi o que permitiu projetar uma solução que realmente resolvesse os problemas centrais.
2.A Gestão da Mudança não é um Acessório: Ela deve ser planejada e orçada como uma atividade central do projeto, com a mesma importância do desenvolvimento de software.
3.Entregue Valor Rápido e com Frequência: A abordagem de prototipagem e implementação faseada, entregando valor incremental, foi fundamental para construir confiança e engajamento.
4.A Tecnologia é o Meio, não o Fim: O sucesso do SIG-TE não reside em sua arquitetura serverless ou em seu frontend em React, mas em sua capacidade de simplificar processos, empoderar usuários e transformar dados em insights acionáveis.

6.5. Implicações para a Gestão e Políticas Públicas
A experiência do SIG-TE oferece implicações que transcendem a gestão do transporte escolar. Ela serve como um microcosmo para a transformação digital de outros serviços públicos complexos.
●Implicações Práticas: O modelo SIG-TE (diagnóstico profundo, reengenharia de processos, plataforma centralizada, dashboards e transparência) é um padrão replicável. Gestores de outras áreas (alimentação escolar, manutenção predial, alocação de professores) podem adotar a mesma abordagem para sair da "guerra das planilhas" e migrar para uma gestão baseada em dados. O framework SEM/NCA, em particular, oferece uma nova maneira de pensar a avaliação da qualidade de qualquer serviço público.
●Implicações para Políticas Públicas: O projeto evidencia a necessidade de as organizações públicas desenvolverem capacidades internas de gestão de produtos digitais. A abordagem tradicional de contratar um "sistema" fechado de um fornecedor externo muitas vezes falha em se adaptar às necessidades reais dos usuários e à evolução dos processos. O modelo adotado aqui, com uma equipe interna (ou em estreita colaboração) que utiliza tecnologias modernas e metodologias ágeis para construir e evoluir um produto digital, é mais resiliente e eficaz. Isso aponta para a necessidade de políticas de capacitação e de novas estruturas de carreira para servidores públicos que atuem como Product Owners ou gerentes de produtos digitais, fazendo a ponte entre a necessidade do negócio e a tecnologia. Em síntese, a discussão dos resultados demonstra que a transformação digital, quando bem planejada e executada, com foco tanto na tecnologia quanto nas pessoas, pode de fato cumprir sua promessa de gerar um governo mais eficiente, transparente e capaz de entregar mais valor à sociedade.
Conclusão
Este projeto se propôs a investigar um desafio central da administração pública contemporânea: a transição de uma gestão de serviços públicos complexos, ancorada em processos analógicos e fragmentados, para uma governança digital, integrada e guiada por dados. Utilizando o serviço de transporte escolar da Coordenação Regional de Ensino do Plano Piloto (CRE-PP) como um estudo de caso, o projeto adotou uma abordagem de pesquisa-ação para não apenas analisar, mas para ativamente projetar, implementar e avaliar uma intervenção transformadora: o Sistema Integrado de Gestão do Transporte Escolar (SIG-TE). Ao final desta jornada investigativa e prática, este capítulo final sintetiza os principais achados, delineia as contribuições do trabalho e oferece recomendações para a sustentabilidade do projeto e para futuras pesquisas.

7.1. Síntese dos Principais Achados
A análise dos dados, apresentada no Capítulo 5 e interpretada no Capítulo 6, permite extrair quatro conclusões fundamentais que respondem diretamente aos objetivos deste projeto. Primeiro, a transformação digital, quando concebida como uma reengenharia de processos e não como uma mera digitalização de formulários, gera ganhos de eficiência e capacidade administrativa de ordem transformacional. O diagnóstico do sistema legado revelou um ecossistema disfuncional, paralisado pela "guerra das planilhas", pela redundância de dados e por fluxos de trabalho manuais que consumiam um tempo desproporcional dos gestores. A implementação do SIG-TE, com sua base de dados centralizada e workflows digitais, resultou em uma redução drástica de 75% no tempo médio de ciclo para processos críticos, como a solicitação de transporte extracurricular (Figura 5.1). Este ganho quantitativo reflete uma mudança qualitativa: a liberação do capital humano da administração de tarefas burocráticas para atividades estratégicas, conforme encapsulado na percepção de uma gestora escolar de que, com o sistema, ela pôde "voltar a ser gestora". Segundo, a implementação de uma plataforma integrada catalisou a transição de um modelo de gestão reativo para uma governança proativa e guiada por dados. Antes do SIG-TE, a gestão operava "às cegas", reagindo a reclamações e problemas após sua ocorrência. A introdução de dashboards gerenciais e painéis de transparência, alimentados por dados coletados em tempo real, conferiu aos gestores uma "visibilidade sem precedentes" sobre a operação. A capacidade de monitorar a taxa de ocupação (Figura 5.2), identificar padrões de ocorrências (Figura 5.3) e analisar o desempenho por empresa ou rota permitiu uma alocação de recursos mais inteligente, uma fiscalização de contratos mais eficaz e uma tomada de decisão fundamentada em evidências, e não mais na intuição ou em relatos anedóticos. Terceiro, a avaliação da qualidade de serviços públicos é significativamente enriquecida pela combinação sinérgica da Modelagem de Equações Estruturais (SEM) e da Análise de Condições Necessárias (NCA). A aplicação isolada da SEM teria levado à conclusão de que a "Qualidade Operacional" (pontualidade) era o fator mais importante para a satisfação do usuário. Embora correto, este seria um retrato incompleto. A NCA revelou que a "Qualidade dos Profissionais" (cuidado e atenção dos monitores e motoristas), embora com menor impacto na satisfação média, funcionava como uma condição indispensável, um fator de veto para se atingir a excelência. A combinação das duas técnicas (Figura 5.5) forneceu um mapa estratégico para a gestão, indicando a necessidade de uma estratégia de duplo foco: otimizar a pontualidade para elevar a média (lógica de suficiência da SEM) e, simultaneamente, garantir com rigor absoluto a qualidade dos profissionais para evitar falhas críticas que impedem a excelência (lógica de necessidade da NCA). Quarto, a adoção bem-sucedida de uma nova tecnologia no setor público é menos uma questão de determinismo tecnológico e mais o resultado de uma estratégia de gestão da mudança deliberada e centrada no ser humano. A análise da curva de adoção (Figura 5.6) e das entrevistas, interpretada à luz da teoria UTAUT, demonstrou que o sucesso do SIG-TE se deveu a um esforço consciente para maximizar a Expectativa de Desempenho (resolvendo dores reais dos usuários), minimizar a Expectativa de Esforço (com design simples e usável), alavancar a Influência Social (comunicação e engajamento de líderes) e prover robustas Condições Facilitadoras (treinamento customizado, suporte acessível e funcionalidades como o modo offline).

7.2. Contribuições do Projeto
Este trabalho oferece contribuições de natureza teórica, metodológica e prática para o campo da Administração Pública e dos Sistemas de Informação.
●Contribuições Teóricas:
1.O projeto oferece um estudo de caso empírico e aprofundado da aplicação dos princípios do Governo Digital em um serviço público complexo no contexto brasileiro, demonstrando como a transição paradigmática se materializa na prática.
2.O estudo contribui para a literatura sobre adoção de tecnologia ao validar e contextualizar o modelo UTAUT no setor público, evidenciando a importância crítica das condições facilitadoras e da gestão da mudança em ambientes onde o uso da tecnologia é, muitas vezes, mandatório.
3.Propõe-se um avanço na teoria de avaliação da qualidade de serviços ao demonstrar a sinergia e a complementaridade entre a lógica de suficiência da SEM e a lógica de necessidade da NCA, oferecendo um framework analítico mais completo e robusto.
●Contribuições Metodológicas:
1.A aplicação da pesquisa-ação para conduzir um projeto de transformação digital de ponta a ponta demonstra a viabilidade e o valor de uma abordagem que integra pesquisa e prática, gerando conhecimento academicamente rigoroso e socialmente relevante.
2.O projeto apresenta um modelo prático de como traduzir um roadmap de projeto em um conjunto de prompts para desenvolvimento assistido por IA (GitHub Copilot), oferecendo um guia replicável para acelerar a prototipagem e a implementação em projetos de software no setor público.
●Contribuições Práticas e Gerenciais:
1.O principal resultado prático é a própria plataforma SIG-TE, uma solução funcional que resolve problemas crônicos da CRE-PP, gerando eficiência, transparência e melhorando a qualidade da gestão.
2.O trabalho oferece um modelo replicável de transformação digital (diagnóstico, reengenharia, plataforma centralizada, dashboards) que pode ser adaptado por outros órgãos públicos que enfrentam desafios similares de fragmentação de dados e processos manuais.
3.Fornece um conjunto de estratégias de gestão da mudança testadas em campo, que podem servir de guia para outros líderes de projetos de inovação no governo.

7.3. Recomendações para a Sustentabilidade e Evolução do SIG-TE
Um produto digital não é um projeto com início, meio e fim; é um organismo vivo que requer cuidado e evolução contínua. Para garantir a sustentabilidade e maximizar o retorno sobre o investimento do SIG-TE, recomendam-se as seguintes ações:

2.Institucionalizar a Governança de Dados: É crucial que a CRE-PP estabeleça uma política formal de governança de dados para o SIG-TE. Isso deve incluir a designação de "donos dos dados" (data stewards), a definição de padrões de qualidade e a criação de um comitê gestor para o sistema, responsável por aprovar novas funcionalidades e garantir a integridade do ecossistema a longo prazo.
3.Estabelecer um Ciclo de Melhoria Contínua: O processo de coleta de feedback dos usuários, iniciado durante a implementação, deve se tornar permanente. Recomenda-se a criação de um canal formal dentro do próprio SIG-TE para que os usuários possam reportar bugs e sugerir melhorias. O insight das entrevistas sobre a necessidade de um canal de comunicação direto entre escola e monitor, por exemplo, deve ser priorizado no backlog de desenvolvimento.
4.Planejar a Escalabilidade: O sucesso do SIG-TE na CRE-PP o posiciona como um modelo para toda a Secretaria de Educação do Distrito Federal. Recomenda-se a criação de um grupo de trabalho para estudar a viabilidade e planejar a expansão do sistema para as outras Coordenações Regionais de Ensino, aproveitando a arquitetura escalável já construída.
5.Investir em Capacitação Contínua: O treinamento não pode ser um evento único. É preciso criar um programa de capacitação contínua para reciclar os usuários atuais em novas funcionalidades e, principalmente, para treinar novos servidores, gestores e monitores que venham a integrar o sistema, garantindo a perpetuação do conhecimento e do bom uso da ferramenta.

7.4. Sugestões para Passos Futuros
Este projeto abre diversas avenidas para investigações futuras que podem aprofundar o conhecimento sobre o tema:
1.Estudo Longitudinal de Impacto: Um passo futura poderia revisitar a CRE-PP em dois ou três anos para conduzir um estudo longitudinal, avaliando os impactos de longo prazo do SIG-TE na cultura organizacional, na otimização de custos contratuais e na satisfação dos usuários.
2.Análise Preditiva e Otimização Avançada: Com um volume maior de dados históricos, futuras pesquisas poderiam aplicar técnicas de machine learning para criar modelos preditivos (e.g., prever a probabilidade de uma falha mecânica com base no histórico do veículo e da rota) ou utilizar algoritmos mais sofisticados para a otimização dinâmica das rotas em tempo real, considerando variáveis como trânsito e condições climáticas.
3.Estudo Comparativo entre Regionais: A expansão do SIG-TE para outras CREs criaria uma oportunidade natural para um estudo de caso comparativo, investigando como diferentes contextos organizacionais e culturais influenciam o processo de adoção e os resultados da mesma intervenção tecnológica.
4.Análise do Impacto na Ponta (Desempenho do Aluno): Uma investigação mais ambiciosa poderia cruzar os dados de pontualidade e regularidade do transporte escolar do SIG-TE com os dados de frequência e desempenho acadêmico dos estudantes, buscando correlacionar a qualidade do transporte com indicadores educacionais. Em conclusão, a jornada de transformação do Sistema Integrado de Gestão do Transporte Escolar demonstrou que é possível, mesmo em ambientes organizacionais complexos e com recursos limitados, promover saltos qualitativos na prestação de serviços públicos através da aplicação inteligente da tecnologia, de uma metodologia rigorosa e, acima de tudo, de um foco incansável nas pessoas que dão vida ao sistema. O SIG-TE não é apenas um software; é a materialização de uma nova filosofia de gestão pública para a CRE-PP, uma filosofia mais ágil, mais transparente e mais capaz de servir ao seu propósito fundamental: garantir que cada estudante chegue à sua escola, todos os dias, com segurança e dignidade.

Referências
1DOC. Plataforma de Gestão Documental 1Doc. 2025. Disponível em: [URL hipotético, ex: https://1doc.com.br]. Acesso em: 15 maio 2025.

APROVA. Aprova Digital. 2025. Disponível em: [URL hipotético, ex: https://www.aprova.com.br]. Acesso em: 15 maio 2025.

BRASIL. Design System do gov.br. Brasília, DF: Governo Federal, 2025. Disponível em: [URL hipotético, ex: https://www.gov.br/ds]. Acesso em: 15 maio 2025.

BRASIL. eMAG – Modelo de Acessibilidade em Governo Eletrônico. Brasília, DF: Governo Federal, 2025b. Disponível em: [URL hipotético, ex: https://emag.governoeletronico.gov.br]. Acesso em: 15 maio 2025.

BRASIL. Lei nº 13.709, de 14 de agosto de 2018. Lei Geral de Proteção de Dados Pessoais (LGPD). Diário Oficial da União: seção 1, Brasília, DF, p. 59, 15 ago. 2018.

BRAUN, V.; CLARKE, V. Using thematic analysis in psychology. Qualitative research in psychology, v. 3, n. 2, p. 77-101, 2006.

CARR, W.; KEMMIS, S. Becoming critical: education, knowledge and action research. London: Falmer Press, 1986.

DISTRITO FEDERAL. Secretaria de Estado de Educação. Coordenação Regional de Ensino do Plano Piloto. Manual do Transporte Escolar. Brasília, DF, 2025a. Documento interno.

DISTRITO FEDERAL. Secretaria de Estado de Educação. Coordenação Regional de Ensino do Plano Piloto. Coletânea de Dados e Procedimentos do Transporte Escolar. Brasília, DF, 2025b.

DUL, J. Necessary Condition Analysis (NCA): Logic and methodology of “necessary but not sufficient” causality. Organizational Research Methods, v. 19, n. 1, p. 10-52, 2016.

HAIR, J. F. et al. A primer on partial least squares structural equation modeling (PLS-SEM). Thousand Oaks: Sage publications, 2014.

HEEKS, R. Information systems and developing countries: Failure, success, and local improvisations. The Information Society, v. 18, n. 2, p. 101-112, 2002.

HEEKS, R.; BAILUR, S. Analyzing e-government research: Perspectives, philosophies, and preliminary findings. Government information quarterly, v. 24, n. 2, p. 243-265, 2007.

LEWIN, K. Action research and minority problems. Journal of social issues, v. 2, n. 4, p. 34-46, 1946.

MERGEL, I.; EDELMANN, N.; HAUG, N. Defining digital transformation: Results from a systematic literature review. Government Information Quarterly, v. 36, n. 4, 101385, 2019.

NPM. @govbr-ds/core. 2025a. Disponível em: https://www.npmjs.com/package/@govbr-ds/core. Acesso em: 15 maio 2025.

NPM. @govbr-ds/webcomponents. 2025b. Disponível em: https://www.npmjs.com/package/@govbr-ds/webcomponents. Acesso em: 15 maio 2025.

O'REILLY, T. Government as a platform. Innovations: Technology, Governance, Globalization, v. 6, n. 1, p. 13-40, 2011.

SUAREZ, A. et al. Design systems handbook. DesignBetter.Co by InVision, 2019.

VENKATESH, V. et al. User acceptance of information technology: Toward a unified view. MIS quarterly, p. 425-478, 2003.

YIN, R. K. Estudo de caso: planejamento e métodos. 5. ed. Porto Alegre: Bookman, 2015.























Apêndice A – Modelo do Questionário de Avaliação da Qualidade
Questionário de Avaliação do Sistema Integrado de Gestão do Transporte Escolar (SIG-TE) e da Qualidade do Serviço

Prezado(a) participante,

Este questionário visa avaliar a qualidade do serviço de transporte escolar e a adoção do novo Sistema Integrado de Gestão do Transporte Escolar (SIG-TE) na Coordenação Regional de Ensino do Plano Piloto. Sua participação é voluntária e as respostas serão tratadas de forma anônima e confidencial, em conformidade com a Lei Geral de Proteção de Dados (LGPD).

Instruções: Para cada afirmação, por favor, marque com um "X" a opção que melhor representa sua opinião, em uma escala de 1 (Discordo Totalmente) a 7 (Concordo Totalmente).

Seção I: Perfil do Respondente

Qual o seu principal papel no sistema de transporte escolar? ( ) Gestor(a) Escolar (Diretor/Vice) ( ) Responsável por Estudante ( ) Fiscal da UNIAE


Seção II: Avaliação da Qualidade do Serviço de Transporte Escolar

Afirmações	Discordo Totalmente (1)	(2)	(3)	(4)	(5)	(6)	Concordo Totalmente (7)
Qualidade dos Profissionais (QP)
1. O motorista do veículo é cordial e profissional.
2. O monitor demonstra cuidado e atenção com os estudantes.
3. O monitor acompanha o embarque e o desembarque dos estudantes de forma segura.
4. Os profissionais (motorista e monitor) utilizam o uniforme de forma adequada.
Qualidade do Veículo (QV)
5. O veículo aparenta estar em boas condições de conservação.
6. A limpeza interna do veículo é satisfatória.
7. Os pneus do veículo aparentam estar em boas condições.
Qualidade Operacional (QO)
8. O transporte escolar cumpre os horários com pontualidade.
9. A comunicação sobre atrasos ou problemas na rota é eficiente.
10. O trajeto realizado pelo veículo é seguro e adequado.
Satisfação Geral (SG)
11. De modo geral, estou satisfeito(a) com o serviço de transporte escolar.
12. Eu recomendaria este serviço a outras famílias.
13. O serviço de transporte escolar atende às minhas expectativas.


Seção III: Avaliação do Sistema SIG-TE (Apenas para Gestores e Fiscais)

Afirmações	Discordo Totalmente (1)	(2)	(3)	(4)	(5)	(6)	Concordo Totalmente (7)
Expectativa de Desempenho
14. Usar o sistema SIG-TE aumenta minha produtividade.
15. O SIG-TE me ajuda a realizar minhas tarefas de gestão do transporte mais rapidamente.
16. O SIG-TE tornou o processo de solicitação de transporte extracurricular mais eficiente.
Expectativa de Esforço
17. É fácil para mim me tornar habilidoso(a) no uso do SIG-TE.
18. Minha interação com o SIG-TE é clara e compreensível.
19. O sistema SIG-TE é fácil de usar.
Condições Facilitadoras
20. Eu tenho os recursos necessários (computador, internet) para usar o SIG-TE.
21. O treinamento que recebi foi adequado para usar o sistema.
22. Existe suporte técnico disponível quando encontro problemas com o SIG-TE.

Seção IV: Comentários e Sugestões

Por favor, deixe aqui suas observações, críticas ou sugestões para a melhoria do serviço de transporte escolar ou do sistema SIG-TE.
__________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________

Agradecemos a sua colaboração!










Apêndice B – Roteiro das Entrevistas Semi-estruturadas

Roteiro de Entrevista – Adoção e Impacto do SIG-TE

Objetivo: Compreender a percepção dos atores-chave sobre o processo de transição do sistema legado para o SIG-TE, identificando os impactos na rotina de trabalho, os desafios enfrentados, os benefícios percebidos e as oportunidades de melhoria.

Público-Alvo: Gestores da UNIAE/CRE-PP e Gestores Escolares (Diretores, Vice-diretores ou responsáveis pelo transporte).

Duração Estimada: 30-45 minutos.

Abertura (Script do Entrevistador)

"Bom dia/Boa tarde. Meu nome é [Nome do Fiscal] e estou conduzindo um projeto sobre a implementação do novo Sistema Integrado de Gestão do Transporte Escolar, o SIG-TE. O objetivo desta conversa é entender a sua experiência, tanto com o sistema antigo quanto com o novo. Não há respostas certas ou erradas, o que importa é a sua percepção sincera. A entrevista é confidencial, e seu nome não será divulgado. A conversa será gravada apenas para fins de transcrição e análise, e o áudio será descartado ao final. Você concorda em participar e em ter nossa conversa gravada?"

Bloco 1: O Cenário Pré-SIG-TE (O Sistema Antigo)

1.Poderia descrever como era a sua rotina de gestão do transporte escolar antes da chegada do SIG-TE? Quais eram as principais tarefas que você realizava?
2.Quais eram as maiores dificuldades ou "dores de cabeça" que você enfrentava ao lidar com as planilhas, processos SEI e formulários de papel?
3.Quanto tempo, em média, você diria que gastava por semana ou por mês com tarefas burocráticas relacionadas ao transporte (ex: consolidar frequência, solicitar veículo, incluir aluno)?
4.Como você descreveria a qualidade e a disponibilidade da informação que você tinha para trabalhar? Era fácil saber, por exemplo, a lotação de um ônibus ou o status de uma solicitação?

Bloco 2: O Processo de Transição e Adoção

5.Como foi seu primeiro contato com o SIG-TE? Como o novo sistema foi apresentado a você?
6.Como você avalia o treinamento que recebeu para usar a nova plataforma? Foi suficiente? O que poderia ter sido melhor?
7.Qual foi sua reação inicial ao novo sistema? Você ou seus colegas tiveram alguma resistência ou receio? Se sim, quais?
8.Houve algum momento "aha!", em que você percebeu que o novo sistema realmente facilitaria seu trabalho?

Bloco 3: A Experiência com o SIG-TE (O Sistema Novo)

9.Comparando com o sistema antigo, quais foram as principais mudanças na sua rotina de trabalho?
10.Quais funcionalidades do SIG-TE você mais utiliza e considera mais úteis? Por quê?
11.Poderia me dar um exemplo prático de uma tarefa que se tornou significativamente mais fácil ou rápida com o novo sistema?
12.Você encontrou alguma dificuldade ou aspecto confuso ao usar o SIG-TE?

Bloco 4: Impacto e Percepção de Valor

13.Em sua opinião, qual foi o maior impacto do SIG-TE na eficiência do seu trabalho e da sua unidade (escola ou UNIAE)?
14.Você percebe alguma mudança na qualidade dos dados ou na transparência da operação do transporte escolar?
15.Você acredita que o SIG-TE permite uma gestão mais estratégica e menos "reativa" (de apagar incêndios)? Se sim, como?

Bloco 5: Desafios e Sugestões de Melhoria

16.Olhando para o sistema como ele está hoje, o que você acredita que ainda está faltando? Que funcionalidades você gostaria de ver no futuro?
17.Se você pudesse dar um conselho para outra regional de ensino que estivesse pensando em implementar um sistema parecido, qual seria?
18.Você tem alguma outra observação, crítica ou sugestão que gostaria de compartilhar?

Encerramento (Script do Entrevistador)

"Muito obrigado(a) pelo seu tempo e por compartilhar suas experiências de forma tão aberta. Suas respostas são extremamente valiosas para a melhoria contínua do sistema. Você tem alguma pergunta para mim?"























Apêndice C – Código-fonte dos Componentes React do Protótipo
Este apêndice contém o código-fonte dos dois principais componentes React que formaram o protótipo do formulário de solicitação de atividades extracurriculares, utilizado para validação técnica e coleta de feedback dos usuários na fase inicial do projeto.

/* Design System Gov.br - Cores e Estilos */
:root {
  /* Cores Primárias */
  --blue-50: #1351B4;
  --blue-60: #0C326F;
  --blue-40: #4A90E2;

  /* Cores de Estado */
  --red-vivid-50: #E52207;
  --orange-vivid-20: #FFCD07;
  --green-50: #168821;

  /* Cores Neutras */
  --gray-0: #FFFFFF;
  --gray-5: #F8F9FA;
  --gray-10: #E9ECEF;
  --gray-30: #ADB5BD;
  --gray-60: #6C757D;
  --gray-90: #212529;
  --gray-100: #000000;

  /* Tipografia */
  --font-family: 'Noto Sans', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  --font-size-base: 16px;
  --font-size-base-mobile: 14px;
  --line-height-text: 1.5;
  --line-height-heading: 1.2;

  /* Espaçamento */
  --spacing-xs: 4px;
  --spacing-sm: 8px;
  --spacing-md: 16px;
  --spacing-lg: 24px;
  --spacing-xl: 32px;
  --spacing-2xl: 48px;

  /* Bordas */
  --border-radius: 4px;
  --border-radius-lg: 8px;
}

/* Reset e Base */
* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

body {
  font-family: var(--font-family);
  font-size: var(--font-size-base);
  line-height: var(--line-height-text);
  color: var(--gray-90);
  background-color: var(--gray-5);
}

@media (max-width: 768px) {
  body {
    font-size: var(--font-size-base-mobile);
  }
}

/* Tipografia */
h1, h2, h3, h4, h5, h6 {
  line-height: var(--line-height-heading);
  font-weight: 600;
  margin-bottom: var(--spacing-md);
}

h1 {
  font-size: 2rem;
  color: var(--blue-60);
}

h2 {
  font-size: 1.5rem;
  color: var(--blue-60);
}

h3 {
  font-size: 1.25rem;
  color: var(--gray-90);
}

p {
  margin-bottom: var(--spacing-md);
}

/* Botões */
.btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: var(--spacing-sm) var(--spacing-md);
  border: none;
  border-radius: var(--border-radius);
  font-family: var(--font-family);
  font-size: var(--font-size-base);
  font-weight: 500;
  text-decoration: none;
  cursor: pointer;
  transition: all 0.2s ease;
  min-height: 44px;
}

.btn-primary {
  background-color: var(--blue-50);
  color: var(--gray-0);
}

.btn-primary:hover {
  background-color: var(--blue-60);
}

.btn-secondary {
  background-color: var(--gray-0);
  color: var(--blue-50);
  border: 2px solid var(--blue-50);
}

.btn-secondary:hover {
  background-color: var(--blue-50);
  color: var(--gray-0);
}

.btn-success {
  background-color: var(--green-50);
  color: var(--gray-0);
}

.btn-danger {
  background-color: var(--red-vivid-50);
  color: var(--gray-0);
}

.btn-warning {
  background-color: var(--orange-vivid-20);
  color: var(--gray-90);
}

/* Formulários */
.form-group {
  margin-bottom: var(--spacing-lg);
}

.form-label {
  display: block;
  margin-bottom: var(--spacing-xs);
  font-weight: 500;
  color: var(--gray-90);
}

.form-input {
  width: 100%;
  padding: var(--spacing-sm) var(--spacing-md);
  border: 2px solid var(--gray-30);
  border-radius: var(--border-radius);
  font-family: var(--font-family);
  font-size: var(--font-size-base);
  background-color: var(--gray-0);
  transition: border-color 0.2s ease;
  min-height: 44px;
}

.form-input:focus {
  outline: none;
  border-color: var(--blue-50);
  box-shadow: 0 0 0 3px rgba(19, 81, 180, 0.1);
}

.form-input.error {
  border-color: var(--red-vivid-50);
}

.form-error {
  color: var(--red-vivid-50);
  font-size: 0.875rem;
  margin-top: var(--spacing-xs);
}

.form-help {
  color: var(--gray-60);
  font-size: 0.875rem;
  margin-top: var(--spacing-xs);
}

/* Cards */
.card {
  background-color: var(--gray-0);
  border-radius: var(--border-radius-lg);
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
  padding: var(--spacing-lg);
  margin-bottom: var(--spacing-lg);
}

/* Container */
.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 var(--spacing-md);
}

/* Grid */
.grid {
  display: grid;
  gap: var(--spacing-lg);
}

.grid-2 {
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
}

/* Alertas */
.alert {
  padding: var(--spacing-md);
  border-radius: var(--border-radius);
  margin-bottom: var(--spacing-lg);
  border-left: 4px solid;
}

.alert-info {
  background-color: #E3F2FD;
  border-color: var(--blue-50);
  color: var(--blue-60);
}

.alert-success {
  background-color: #E8F5E8;
  border-color: var(--green-50);
  color: #2E7D32;
}

.alert-warning {
  background-color: #FFF8E1;
  border-color: var(--orange-vivid-20);
  color: #F57C00;
}

.alert-error {
  background-color: #FFEBEE;
  border-color: var(--red-vivid-50);
  color: #C62828;
}

/* Responsividade */
@media (max-width: 768px) {
  .container {
    padding: 0 var(--spacing-sm);
  }

  .card {
    padding: var(--spacing-md);
  }

  h1 {
    font-size: 1.75rem;
  }

  h2 {
    font-size: 1.375rem;
  }
}

/* Acessibilidade */
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}

/* Focus visible para navegação por teclado */
.btn:focus-visible,
.form-input:focus-visible {
  outline: 2px solid var(--blue-50);
  outline-offset: 2px;
}

/* Estados de loading */
.loading {
  opacity: 0.6;
  pointer-events: none;
}

.spinner {
  border: 2px solid var(--gray-30);
  border-top: 2px solid var(--blue-50);
  border-radius: 50%;
  width: 20px;
  height: 20px;
  animation: spin 1s linear infinite;
  display: inline-block;
  margin-right: var(--spacing-xs);
}

@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

// js/ui/quickActions.js
import { showModal } from "./modals.js";

export function setupQuickActions() {
    const actionCards = document.querySelectorAll(".action-card");

    actionCards.forEach((card) => {
        card.addEventListener("click", function () {
            const action = this.getAttribute("data-action");
            handleQuickAction(action);
        });

        // Efeito de hover
        card.addEventListener("mouseenter", function () {
            this.style.transform = "translateY(-4px)";
        });

        card.addEventListener("mouseleave", function () {
            this.style.transform = "translateY(0)";
        });
    });
}

export function handleQuickAction(action) {
    switch (action) {
        case "new-student":
            showModal("Cadastrar Novo Estudante", getNewStudentFormHTML());
            break;
        case "new-route":
            showModal("Criar Novo Itinerário", getNewRouteFormHTML());
            break;
        case "extracurricular":
            window.open("https://yxujymqw.manus.space", "_blank");
            break;
        case "maintenance":
            showModal("Agendar Manutenção", getMaintenanceFormHTML());
            break;
        case "report":
            showModal("Gerar Relatório", getReportFormHTML());
            break;
        case "emergency":
            showModal("Registrar Emergência", getEmergencyFormHTML());
            break;
    }
}

// Funções de formulário (ainda não implementadas, mas mantidas para consistência)
function getNewStudentFormHTML() {
    return `
        <form class="modal-form">
            <div class="form-group">
                <label for="studentName">Nome Completo:</label>
                <input type="text" id="studentName" class="form-control" placeholder="Nome do Estudante" required>
            </div>
            <div class="form-group">
                <label for="studentMatricula">Matrícula:</label>
                <input type="text" id="studentMatricula" class="form-control" placeholder="Matrícula" required>
            </div>
            <div class="form-group">
                <label for="studentSchool">Escola:</label>
                <input type="text" id="studentSchool" class="form-control" placeholder="Escola" required>
            </div>
            <div class="form-group">
                <label for="studentRoute">Rota:</label>
                <input type="text" id="studentRoute" class="form-control" placeholder="Rota de Transporte">
            </div>
            <button type="submit" class="btn btn-primary">Cadastrar</button>
        </form>
    `;
}

function getNewRouteFormHTML() {
    return `
        <form class="modal-form">
            <div class="form-group">
                <label for="routeName">Nome da Rota:</label>
                <input type="text" id="routeName" class="form-control" placeholder="Ex: Rota Asa Norte" required>
            </div>
            <div class="form-group">
                <label for="routeCapacity">Capacidade do Veículo:</label>
                <input type="number" id="routeCapacity" class="form-control" placeholder="Ex: 38" required>
            </div>
            <button type="submit" class="btn btn-primary">Criar Rota</button>
        </form>
    `;
}

function getMaintenanceFormHTML() {
    return `
        <form class="modal-form">
            <div class="form-group">
                <label for="vehicleId">ID do Veículo:</label>
                <input type="text" id="vehicleId" class="form-control" placeholder="Ex: PCE001" required>
            </div>
            <div class="form-group">
                <label for="maintenanceDate">Data da Manutenção:</label>
                <input type="date" id="maintenanceDate" class="form-control" required>
            </div>
            <div class="form-group">
                <label for="maintenanceType">Tipo de Manutenção:</label>
                <select id="maintenanceType" class="form-control" required>
                    <option value="">Selecione</option>
                    <option value="preventiva">Preventiva</option>
                    <option value="corretiva">Corretiva</option>
                </select>
            </div>
            <button type="submit" class="btn btn-primary">Agendar</button>
        </form>
    `;
}

function getReportFormHTML() {
    return `
        <form class="modal-form">
            <div class="form-group">
                <label for="reportType">Tipo de Relatório:</label>
                <select id="reportType" class="form-control" required>
                    <option value="">Selecione</option>
                    <option value="estudantes">Estudantes</option>
                    <option value="frota">Frota</option>
                    <option value="financeiro">Financeiro</option>
                    <option value="ocorrencias">Ocorrências</option>
                </select>
            </div>
            <div class="form-group">
                <label for="reportPeriod">Período:</label>
                <select id="reportPeriod" class="form-control" required>
                    <option value="">Selecione</option>
                    <option value="diario">Diário</option>
                    <option value="semanal">Semanal</option>
                    <option value="mensal">Mensal</option>
                    <option value="anual">Anual</option>
                </select>
            </div>
            <button type="submit" class="btn btn-primary">Gerar Relatório</button>
        </form>
    `;
}

function getEmergencyFormHTML() {
    return `
        <form class="modal-form">
            <div class="form-group">
                <label for="emergencyVehicle">Veículo Envolvido:</label>
                <input type="text" id="emergencyVehicle" class="form-control" placeholder="ID do Veículo" required>
            </div>
            <div class="form-group">
                <label for="emergencyType">Tipo de Emergência:</label>
                <select id="emergencyType" class="form-control" required>
                    <option value="">Selecione</option>
                    <option value="acidente">Acidente</option>
                    <option value="pane">Pane Mecânica</option>
                    <option value="saude">Problema de Saúde</option>
                    <option value="outro">Outro</option>
                </select>
            </div>
            <div class="form-group">
                <label for="emergencyDescription">Descrição:</label>
                <textarea id="emergencyDescription" class="form-control" rows="3" placeholder="Detalhes da ocorrência"></textarea>
            </div>
            <button type="submit" class="btn btn-danger">Registrar Emergência</button>
        </form>
    `;
}


import React, { useEffect, useState } from 'react';
import { Link, useNavigate } from 'react-router-dom';

const ConfirmationPage = () => {
  const navigate = useNavigate();
  const [formData, setFormData] = useState(null);

  useEffect(() => {
    const savedData = localStorage.getItem('requerimentoData');
    if (savedData) {
      setFormData(JSON.parse(savedData));
    } else {
      navigate('/formulario');
    }
  }, [navigate]);

  const formatDate = (dateString) => {
    if (!dateString) return '';
    const date = new Date(dateString);
    return date.toLocaleDateString('pt-BR');
  };

  const formatTime = (timeString) => {
    if (!timeString) return '';
    return timeString;
  };

  const generatePDF = () => {
    // Simular geração de PDF
    alert('Funcionalidade de geração de PDF será implementada. Por enquanto, você pode copiar os dados abaixo e colar no sistema SEI.');
  };

  const downloadTXT = () => {
    if (!formData) return;

    const content = `REQUERIMENTO DE TRANSPORTE ESCOLAR PARA ATIVIDADE EXTRACURRICULAR

DADOS DA ATIVIDADE EXTRACURRICULAR
Unidade Escolar Solicitante: ${formData.unidadeEscolar}
Nome da Atividade: ${formData.nomeAtividade}
Nome do Local da Atividade: ${formData.localAtividade}
Horário da Atividade: ${formatTime(formData.horarioAtividade)}
Data da Atividade: ${formatDate(formData.dataAtividade)}
Horário de Embarque na IDA: ${formatTime(formData.horarioEmbarqueIda)}
Horário de Embarque na VOLTA: ${formatTime(formData.horarioEmbarqueVolta)}

INFORMAÇÕES DE TRANSPORTE
Endereço (com CEP) de Embarque (origem): ${formData.enderecoEmbarque}, CEP: ${formData.cepEmbarque}
Endereço (com CEP) de Desembarque (destino): ${formData.enderecoDesembarque}, CEP: ${formData.cepDesembarque}
Estimativa de Quilometragem do Trajeto (IDA E VOLTA): ${formData.quilometragem}km
Número Total de Passageiros: ${formData.numeroPassageiros}
Lista Nominal e Numerada dos Estudantes Autorizados a Participar foi Anexada ao Processo: ${formData.listaAnexada === 'sim' ? 'Sim' : 'Não'}
Quantidade de Veículos Necessários (38 passageiros por veículo): ${formData.quantidadeVeiculos} veículos
Necessidade de veículo coletivo com acessibilidade para pessoas com deficiência ou mobilidade reduzida: ${formData.acessibilidade === 'sim' ? 'Sim' : 'Não'}

JUSTIFICATIVA PEDAGÓGICA (para análise da UNIEB):
${formData.justificativaPedagogica}

OBSERVAÇÕES IMPORTANTES:
1) Preencher um requerimento por turno e/ou dia (dentro do mesmo processo quando se tratar da mesma atividade).
2) Solicitações de serviço de transporte escolar para atividades extracurriculares devem ser encaminhadas à UNIAE, via SEI, com antecedência mínima de 15 (quinze) dias em relação à data do evento.
3) O número de veículos necessários deverá considerar apenas os estudantes autorizados a irem ao evento.
4) O envio da lista nominal e numerada dos estudantes que utilizarão o transporte é obrigatório.
5) Em razão da frota utilizada para atividades extracurriculares ser a mesma que atende aos itinerários regulares casa-escola-casa, o serviço de transporte escolar para atividades extracurriculares será ofertado exclusivamente nos horários a seguir: das 9h (saída da escola) às 11h (retorno à escola) no turno matutino e das 14h (saída da escola) às 16h (retorno à escola) no turno vespertino, não havendo, portanto, oferta de serviço de transporte escolar para atividades extracurriculares no período integral (manhã e tarde) e/ou no turno noturno.
6) Em atendimento à Lei Geral de Proteção de Dados Pessoais (LGPD - Lei nº 13.709/2018), os processos de solicitação de transporte escolar devem ser gerados com nível de acesso RESTRITO.
7) Eventuais cancelamentos devem ser comunicados à UNIAE, via SEI, com antecedência mínima de 48 (quarenta e oito) horas, a fim de que a empresa responsável pela gestão do transporte seja comunicada a tempo.

ATENÇÃO, GESTOR! O deslocamento desnecessário do veículo (sem o cancelamento prévio da UE) gera despesa pública que poderá configurar dano ao erário, com possível responsabilização por ato comissivo ou omissivo, conforme art. 183 da Lei Complementar nº 840 de 23/12/2011.

Declaro estar ciente dos termos acima e solicito serviço de transporte escolar para realização de atividade extracurricular conforme os dados informados.

Gerado em: ${new Date().toLocaleString('pt-BR')}
Sistema de Atividades Extracurriculares - SEDF`;

    const blob = new Blob([content], { type: 'text/plain;charset=utf-8' });
    const url = URL.createObjectURL(blob);
    const link = document.createElement('a');
    link.href = url;
    link.download = `requerimento-transporte-${formData.nomeAtividade.replace(/[^a-zA-Z0-9]/g, '-')}.txt`;
    document.body.appendChild(link);
    link.click();
    document.body.removeChild(link);
    URL.revokeObjectURL(url);
  };

  if (!formData) {
    return (
      <div style={{ padding: '48px 0' }}>
        <div className="container">
          <div style={{ textAlign: 'center' }}>
            <div className="spinner" style={{ width: '40px', height: '40px' }}></div>
            <p>Carregando dados...</p>
          </div>
        </div>
      </div>
    );
  }

  return (
    <div style={{ padding: '48px 0' }}>
      <div className="container">
        <div style={{ maxWidth: '800px', margin: '0 auto' }}>
          {/* Sucesso */}
          <div className="alert alert-success" style={{ textAlign: 'center', marginBottom: '32px' }}>
            <div style={{ fontSize: '48px', marginBottom: '16px' }}>✅</div>
            <h1 style={{ margin: '0 0 16px 0', color: '#2E7D32' }}>
              Requerimento Gerado com Sucesso!
            </h1>
            <p style={{ margin: '0', fontSize: '1.125rem' }}>
              Seu requerimento foi processado e está pronto para ser enviado via SEI.
            </p>
          </div>

          {/* Ações */}
          <div style={{
            display: 'flex',
            gap: '16px',
            justifyContent: 'center',
            marginBottom: '32px',
            flexWrap: 'wrap'
          }}>
            <button onClick={downloadTXT} className="btn btn-primary">
              📄 Baixar Requerimento (.txt)
            </button>
            <button onClick={generatePDF} className="btn btn-secondary">
              📋 Gerar PDF (Em breve)
            </button>
          </div>

          {/* Resumo dos dados */}
          <div className="card">
            <h2 style={{ marginBottom: '24px', textAlign: 'center' }}>
              Resumo do Requerimento
            </h2>

            {/* Dados da Atividade */}
            <section style={{ marginBottom: '32px' }}>
              <h3 style={{
                fontSize: '1.25rem',
                marginBottom: '16px',
                paddingBottom: '8px',
                borderBottom: '1px solid var(--gray-30)'
              }}>
                Dados da Atividade Extracurricular
              </h3>

              <div style={{ display: 'grid', gap: '12px' }}>
                <div style={{ display: 'grid', gridTemplateColumns: '200px 1fr', gap: '8px', alignItems: 'start' }}>
                  <strong>Unidade Escolar:</strong>
                  <span>{formData.unidadeEscolar}</span>
                </div>
                <div style={{ display: 'grid', gridTemplateColumns: '200px 1fr', gap: '8px', alignItems: 'start' }}>
                  <strong>Nome da Atividade:</strong>
                  <span>{formData.nomeAtividade}</span>
                </div>
                <div style={{ display: 'grid', gridTemplateColumns: '200px 1fr', gap: '8px', alignItems: 'start' }}>
                  <strong>Local da Atividade:</strong>
                  <span>{formData.localAtividade}</span>
                </div>
                <div style={{ display: 'grid', gridTemplateColumns: '200px 1fr', gap: '8px', alignItems: 'start' }}>
                  <strong>Data da Atividade:</strong>
                  <span>{formatDate(formData.dataAtividade)}</span>
                </div>
                <div style={{ display: 'grid', gridTemplateColumns: '200px 1fr', gap: '8px', alignItems: 'start' }}>
                  <strong>Horário da Atividade:</strong>
                  <span>{formatTime(formData.horarioAtividade)}</span>
                </div>
                <div style={{ display: 'grid', gridTemplateColumns: '200px 1fr', gap: '8px', alignItems: 'start' }}>
                  <strong>Embarque - IDA:</strong>
                  <span>{formatTime(formData.horarioEmbarqueIda)}</span>
                </div>
                <div style={{ display: 'grid', gridTemplateColumns: '200px 1fr', gap: '8px', alignItems: 'start' }}>
                  <strong>Embarque - VOLTA:</strong>
                  <span>{formatTime(formData.horarioEmbarqueVolta)}</span>
                </div>
              </div>
            </section>

            {/* Informações de Transporte */}
            <section style={{ marginBottom: '32px' }}>
              <h3 style={{
                fontSize: '1.25rem',
                marginBottom: '16px',
                paddingBottom: '8px',
                borderBottom: '1px solid var(--gray-30)'
              }}>
                Informações de Transporte
              </h3>

              <div style={{ display: 'grid', gap: '12px' }}>
                <div style={{ display: 'grid', gridTemplateColumns: '200px 1fr', gap: '8px', alignItems: 'start' }}>
                  <strong>Endereço Embarque:</strong>
                  <span>{formData.enderecoEmbarque}, CEP: {formData.cepEmbarque}</span>
                </div>
                <div style={{ display: 'grid', gridTemplateColumns: '200px 1fr', gap: '8px', alignItems: 'start' }}>
                  <strong>Endereço Desembarque:</strong>
                  <span>{formData.enderecoDesembarque}, CEP: {formData.cepDesembarque}</span>
                </div>
                <div style={{ display: 'grid', gridTemplateColumns: '200px 1fr', gap: '8px', alignItems: 'start' }}>
                  <strong>Quilometragem:</strong>
                  <span>{formData.quilometragem} km (ida e volta)</span>
                </div>
                <div style={{ display: 'grid', gridTemplateColumns: '200px 1fr', gap: '8px', alignItems: 'start' }}>
                  <strong>Nº de Passageiros:</strong>
                  <span>{formData.numeroPassageiros}</span>
                </div>
                <div style={{ display: 'grid', gridTemplateColumns: '200px 1fr', gap: '8px', alignItems: 'start' }}>
                  <strong>Veículos Necessários:</strong>
                  <span>{formData.quantidadeVeiculos}</span>
                </div>
                <div style={{ display: 'grid', gridTemplateColumns: '200px 1fr', gap: '8px', alignItems: 'start' }}>
                  <strong>Lista Anexada:</strong>
                  <span>{formData.listaAnexada === 'sim' ? 'Sim' : 'Não'}</span>
                </div>
                <div style={{ display: 'grid', gridTemplateColumns: '200px 1fr', gap: '8px', alignItems: 'start' }}>
                  <strong>Acessibilidade:</strong>
                  <span>{formData.acessibilidade === 'sim' ? 'Sim' : 'Não'}</span>
                </div>
              </div>
            </section>

            {/* Justificativa */}
            <section style={{ marginBottom: '32px' }}>
              <h3 style={{
                fontSize: '1.25rem',
                marginBottom: '16px',
                paddingBottom: '8px',
                borderBottom: '1px solid var(--gray-30)'
              }}>
                Justificativa Pedagógica
              </h3>
              <p style={{
                backgroundColor: 'var(--gray-5)',
                padding: '16px',
                borderRadius: '4px',
                margin: '0',
                lineHeight: '1.6'
              }}>
                {formData.justificativaPedagogica}
              </p>
            </section>
          </div>

          {/* Próximos passos */}
          <div className="alert alert-info">
            <h3 style={{ marginBottom: '16px' }}>📋 Próximos Passos</h3>
            <ol style={{ margin: '0', paddingLeft: '20px' }}>
              <li style={{ marginBottom: '8px' }}>
                Baixe o arquivo do requerimento clicando no botão acima
              </li>
              <li style={{ marginBottom: '8px' }}>
                Acesse o sistema SEI da sua unidade escolar
              </li>
              <li style={{ marginBottom: '8px' }}>
                Crie um novo processo com <strong>nível de acesso RESTRITO</strong> (LGPD)
              </li>
              <li style={{ marginBottom: '8px' }}>
                Anexe o requerimento e a lista nominal dos estudantes
              </li>
              <li style={{ marginBottom: '8px' }}>
                Encaminhe para a UNIAE com pelo menos 15 dias de antecedência
              </li>
            </ol>
          </div>

          {/* Botões de navegação */}
          <div style={{
            display: 'flex',
            gap: '16px',
            justifyContent: 'center',
            marginTop: '32px',
            flexWrap: 'wrap'
          }}>
            <Link to="/" className="btn btn-secondary">
              🏠 Voltar ao Início
            </Link>
            <Link to="/formulario" className="btn btn-primary">
              ➕ Novo Requerimento
            </Link>
          </div>
        </div>
      </div>
    </div>
  );
};

export default ConfirmationPage;

// js/main.js
import { setupNavigation, navigateToPage } from './ui/navigation.js';
import { setupCounters, setupRealTimeUpdates, updateLastUpdateTime, refreshDashboardData } from './ui/dashboard.js';
import { setupMapInteractions, showVehicleDetails, generateVehicleDetailsHTML } from './ui/map.js';
import { setupQuickActions, handleQuickAction } from './ui/quickActions.js';
import { setupFilters, handleSearch, handleFilterChange, applyFilters } from './ui/filters.js';
import { setupCharts, drawOccupancyChart, drawCostsChart } from './ui/charts.js';
import { showModal, closeModal, getNewStudentFormHTML, getNewRouteFormHTML, getMaintenanceFormHTML, getReportFormHTML, getEmergencyFormHTML } from './ui/modals.js';
import { startRealTimeSimulation, loadStudentsData, loadFleetData, loadFinancialData, loadReportsData, loadExtracurricularData } from './services/dataService.js';
import { appState } from './state.js';
import { setupTooltips, showSearchResults } from './utils/utils.js';

export function initializeApp() {
    console.log('🚌 Inicializando SIG-TE...');

    // Configurar navegação
    setupNavigation();

    // Configurar contadores animados
    setupCounters();

    // Configurar atualizações em tempo real
    setupRealTimeUpdates();

    // Configurar interações do mapa
    setupMapInteractions();

    // Configurar ações rápidas
    setupQuickActions();

    // Configurar filtros e busca
    setupFilters();

    // Configurar gráficos
    setupCharts();

    // Configurar tooltips
    setupTooltips();

    // Iniciar simulação de dados em tempo real
    startRealTimeSimulation();

    console.log('✅ SIG-TE inicializado com sucesso!');
}

export function handlePageSpecificActions(pageId) {
    switch(pageId) {
        case 'dashboard':
            refreshDashboardData();
            break;
        case 'estudantes':
            loadStudentsData();
            break;
        case 'frota':
            loadFleetData();
            break;
        case 'financeiro':
            loadFinancialData();
            break;
        case 'extracurriculares':
            loadExtracurricularData();
            break;
        case 'relatorios':
            loadReportsData();
            break;
    }
}

// Expondo funções para uso global, se necessário (para testes ou depuração)
window.navigateToPage = navigateToPage;
window.showModal = showModal;
window.closeModal = closeModal;
window.appState = appState;
window.handlePageSpecificActions = handlePageSpecificActions;
window.showVehicleDetails = showVehicleDetails;
window.generateVehicleDetailsHTML = generateVehicleDetailsHTML;
window.handleQuickAction = handleQuickAction;
window.handleSearch = handleSearch;
window.handleFilterChange = handleFilterChange;
window.applyFilters = applyFilters;
window.drawOccupancyChart = drawOccupancyChart;
window.drawCostsChart = drawCostsChart;
window.updateLastUpdateTime = updateLastUpdateTime;
window.showSearchResults = showSearchResults;
window.loadStudentsData = loadStudentsData;
window.loadFleetData = loadFleetData;
window.loadFinancialData = loadFinancialData;
window.loadReportsData = loadReportsData;
window.loadExtracurricularData = loadExtracurricularData;


// js/services/dataService.js
import { updateAppState } from "../state.js";
import { updateLastUpdateTime } from "../ui/dashboard.js";

export function startRealTimeSimulation() {
    console.log("Iniciando simulação de dados em tempo real...");
    setInterval(() => {
        // Simular atualização de dados
        const newStudents = Math.floor(Math.random() * 100) + 12800;
        const newVehicles = Math.floor(Math.random() * 5) + 150;
        const newOccupancy = Math.floor(Math.random() * 20) + 70;
        const newKmMonth = Math.floor(Math.random() * 1000) + 45000;
        const newIncidents = Math.floor(Math.random() * 5);
        const newMonthlyCost = Math.floor(Math.random() * 100) + 2800;

        updateAppState({
            realTimeData: {
                students: newStudents,
                vehicles: newVehicles,
                occupancy: newOccupancy,
                kmMonth: newKmMonth,
                incidents: newIncidents,
                monthlyCost: newMonthlyCost,
            },
        });
        updateLastUpdateTime();
        console.log("Dados em tempo real atualizados.");
    }, 10000); // Atualiza a cada 10 segundos
}

export function loadStudentsData() {
    console.log("Carregando dados de estudantes...");
    // Lógica para carregar dados reais de estudantes
    // Por enquanto, apenas um log para indicar que a função foi chamada
}

export function loadFleetData() {
    console.log("Carregando dados da frota...");
    // Lógica para carregar dados reais da frota
    // Por enquanto, apenas um log para indicar que a função foi chamada
}

export function loadFinancialData() {
    console.log("Carregando dados financeiros...");
    // Lógica para carregar dados reais financeiros
    // Por enquanto, apenas um log para indicar que a função foi chamada
}

export function loadReportsData() {
    console.log("Carregando dados de relatórios...");
    // Lógica para carregar dados reais de relatórios
    // Por enquanto, apenas um log para indicar que a função foi chamada
}

export function loadExtracurricularData() {
    console.log("Carregando dados de atividades extracurriculares...");
    // Lógica para carregar dados reais de atividades extracurriculares
    // Por enquanto, apenas um log para indicar que a função foi chamada
}


// js/ui/map.js
import { showModal } from "./modals.js";

export function setupMapInteractions() {
    const vehicleMarkers = document.querySelectorAll(".vehicle-marker");
    const refreshMapBtn = document.getElementById("refreshMap");
    const fullscreenMapBtn = document.getElementById("fullscreenMap");

    // Interações com marcadores de veículos
    vehicleMarkers.forEach((marker) => {
        marker.addEventListener("click", function () {
            const vehicleId = this.getAttribute("data-vehicle");
            showVehicleDetails(vehicleId);
        });

        // Animação de hover
        marker.addEventListener("mouseenter", function () {
            this.style.transform = "scale(1.3)";
            this.style.zIndex = "100";
        });

        marker.addEventListener("mouseleave", function () {
            this.style.transform = "scale(1)";
            this.style.zIndex = "1";
        });
    });

    // Botão de atualizar mapa
    if (refreshMapBtn) {
        refreshMapBtn.addEventListener("click", function () {
            refreshMapData();

            // Animação de loading
            const icon = this.querySelector("i");
            icon.classList.add("fa-spin");
            setTimeout(() => icon.classList.remove("fa-spin"), 1000);
        });
    }

    // Botão de tela cheia
    if (fullscreenMapBtn) {
        fullscreenMapBtn.addEventListener("click", function () {
            toggleMapFullscreen();
        });
    }
}

export function showVehicleDetails(vehicleId) {
    // Simular dados do veículo
    const vehicleData = {
        // Em Rota (13)
        AN001: {
            id: "AN001",
            route: "Asa Norte - L2 Norte",
            passengers: 25,
            capacity: 38,
            status: "Em rota",
            driver: "Ana Costa",
            speed: "30 km/h",
            nextStop: "SQN 205",
            eta: "08:30",
        },
        AN002: {
            id: "AN002",
            route: "Asa Norte - SQN 405",
            passengers: 30,
            capacity: 38,
            status: "Em rota",
            driver: "Bruno Lima",
            speed: "32 km/h",
            nextStop: "Colégio Militar",
            eta: "08:45",
        },
        AN003: {
            id: "AN003",
            route: "Asa Norte - UnB",
            passengers: 15,
            capacity: 38,
            status: "Em rota",
            driver: "Carla Dias",
            speed: "28 km/h",
            nextStop: "Faculdade de Educação",
            eta: "09:00",
        },
        AS001: {
            id: "AS001",
            route: "Asa Sul - W3 Sul",
            passengers: 28,
            capacity: 38,
            status: "Em rota",
            driver: "Daniel Rocha",
            speed: "35 km/h",
            nextStop: "Hospital de Base",
            eta: "08:50",
        },
        AS002: {
            id: "AS002",
            route: "Asa Sul - SGAS 910",
            passengers: 20,
            capacity: 38,
            status: "Em rota",
            driver: "Eduarda Santos",
            speed: "31 km/h",
            nextStop: "Escola Parque",
            eta: "09:10",
        },
        AS003: {
            id: "AS003",
            route: "Asa Sul - Eixo Sul",
            passengers: 35,
            capacity: 38,
            status: "Em rota",
            driver: "Felipe Costa",
            speed: "38 km/h",
            nextStop: "Rodoviária",
            eta: "08:20",
        },
        LN001: {
            id: "LN001",
            route: "Lago Norte - QI 05",
            passengers: 22,
            capacity: 38,
            status: "Em rota",
            driver: "Gabriela Alves",
            speed: "29 km/h",
            nextStop: "Comércio Local",
            eta: "08:55",
        },
        LN002: {
            id: "LN002",
            route: "Lago Norte - CA 02",
            passengers: 18,
            capacity: 38,
            status: "Em rota",
            driver: "Henrique Pereira",
            speed: "27 km/h",
            nextStop: "Ponto de Ônibus",
            eta: "09:05",
        },
        LS001: {
            id: "LS001",
            route: "Lago Sul - QI 29",
            passengers: 27,
            capacity: 38,
            status: "Em rota",
            driver: "Isabela Gomes",
            speed: "33 km/h",
            nextStop: "Ponte JK",
            eta: "08:40",
        },
        LS002: {
            id: "LS002",
            route: "Lago Sul - SHIS QL 10",
            passengers: 31,
            capacity: 38,
            status: "Em rota",
            driver: "Juliana Martins",
            speed: "36 km/h",
            nextStop: "Jardim Botânico",
            eta: "09:15",
        },
        PP001: {
            id: "PP001",
            route: "Plano Piloto - Esplanada",
            passengers: 29,
            capacity: 38,
            status: "Em rota",
            driver: "Kleber Souza",
            speed: "25 km/h",
            nextStop: "Congresso Nacional",
            eta: "08:35",
        },
        PP002: {
            id: "PP002",
            route: "Plano Piloto - Setor Comercial",
            passengers: 26,
            capacity: 38,
            status: "Em rota",
            driver: "Larissa Fernandes",
            speed: "20 km/h",
            nextStop: "Torre de TV",
            eta: "09:00",
        },
        PP003: {
            id: "PP003",
            route: "Plano Piloto - Rodoviária",
            passengers: 33,
            capacity: 38,
            status: "Em rota",
            driver: "Marcelo Rodrigues",
            speed: "22 km/h",
            nextStop: "Plataforma Superior",
            eta: "08:25",
        },

        // Parado (8)
        ANP01: {
            id: "ANP01",
            route: "Asa Norte - Estacionamento",
            passengers: 0,
            capacity: 38,
            status: "Parado",
            driver: "Nara Oliveira",
            speed: "0 km/h",
            nextStop: "Aguardando",
            eta: "--",
        },
        ANP02: {
            id: "ANP02",
            route: "Asa Norte - Terminal",
            passengers: 0,
            capacity: 38,
            status: "Parado",
            driver: "Otávio Costa",
            speed: "0 km/h",
            nextStop: "Aguardando",
            eta: "--",
        },
        ASP01: {
            id: "ASP01",
            route: "Asa Sul - Estacionamento",
            passengers: 0,
            capacity: 38,
            status: "Parado",
            driver: "Patrícia Almeida",
            speed: "0 km/h",
            nextStop: "Aguardando",
            eta: "--",
        },
        ASP02: {
            id: "ASP02",
            route: "Asa Sul - Terminal",
            passengers: 0,
            capacity: 38,
            status: "Parado",
            driver: "Queiroz Batista",
            speed: "0 km/h",
            nextStop: "Aguardando",
            eta: "--",
        },
        LNP01: {
            id: "LNP01",
            route: "Lago Norte - Garagem",
            passengers: 0,
            capacity: 38,
            status: "Parado",
            driver: "Renata Carvalho",
            speed: "0 km/h",
            nextStop: "Aguardando",
            eta: "--",
        },
        LNP02: {
            id: "LNP02",
            route: "Lago Norte - Ponto Final",
            passengers: 0,
            capacity: 38,
            status: "Parado",
            driver: "Sérgio Dantas",
            speed: "0 km/h",
            nextStop: "Aguardando",
            eta: "--",
        },
        LSP01: {
            id: "LSP01",
            route: "Lago Sul - Garagem",
            passengers: 0,
            capacity: 38,
            status: "Parado",
            driver: "Tatiane Vieira",
            speed: "0 km/h",
            nextStop: "Aguardando",
            eta: "--",
        },
        LSP02: {
            id: "LSP02",
            route: "Lago Sul - Ponto Final",
            passengers: 0,
            capacity: 38,
            status: "Parado",
            driver: "Ubiratan Xavier",
            speed: "0 km/h",
            nextStop: "Aguardando",
            eta: "--",
        },
    };

    const vehicle = vehicleData[vehicleId];
    if (vehicle) {
        showModal("Detalhes do Veículo", generateVehicleDetailsHTML(vehicle));
    }
}

export function generateVehicleDetailsHTML(vehicle) {
    const occupancyPercentage = Math.round((vehicle.passengers / vehicle.capacity) * 100);
    const statusClass = vehicle.status === "Em rota" ? "success" : "warning";

    return `
        <div class="vehicle-details">
            <div class="vehicle-header">
                <div class="vehicle-id">
                    <i class="fas fa-bus"></i>
                    <h3>${vehicle.id}</h3>
                </div>
                <span class="status-badge ${statusClass}">${vehicle.status}</span>
            </div>

            <div class="vehicle-info-grid">
                <div class="info-item">
                    <label>Rota:</label>
                    <span>${vehicle.route}</span>
                </div>
                <div class="info-item">
                    <label>Motorista:</label>
                    <span>${vehicle.driver}</span>
                </div>
                <div class="info-item">
                    <label>Velocidade:</label>
                    <span>${vehicle.speed}</span>
                </div>
                <div class="info-item">
                    <label>Próxima Parada:</label>
                    <span>${vehicle.nextStop}</span>
                </div>
                <div class="info-item">
                    <label>Previsão de Chegada:</label>
                    <span>${vehicle.eta}</span>
                </div>
            </div>

            <div class="occupancy-info">
                <label>Ocupação:</label>
                <div class="occupancy-bar">
                    <div class="occupancy-fill" style="width: ${occupancyPercentage}%"></div>
                </div>
                <span>${vehicle.passengers}/${vehicle.capacity} (${occupancyPercentage}%)</span>
            </div>

            <div class="vehicle-actions">
                <button class="btn btn-primary">
                    <i class="fas fa-phone"></i>
                    Contatar Motorista
                </button>
                <button class="btn btn-secondary">
                    <i class="fas fa-route"></i>
                    Ver Rota Completa
                </button>
                <button class="btn btn-secondary">
                    <i class="fas fa-history"></i>
                    Histórico
                </button>
            </div>
        </div>
    `;
}

function refreshMapData() {
    console.log("Atualizando dados do mapa...");
    // Lógica para buscar e atualizar dados do mapa
    // Aqui você pode adicionar lógica para atualizar a posição dos ônibus
    // ou buscar novos dados de um backend
}

function toggleMapFullscreen() {
    console.log("Alternando modo tela cheia do mapa...");
    // Lógica para alternar tela cheia
    // Isso pode envolver a manipulação de classes CSS ou a API Fullscreen
}


// js/ui/navigation.js
import { appState, updateAppState } from "../state.js";
import { handlePageSpecificActions } from "../main.js";

export function setupNavigation() {
    const navLinks = document.querySelectorAll(".nav-link");

    navLinks.forEach((link) => {
        link.addEventListener("click", function (e) {
            e.preventDefault();
            const page = this.getAttribute("data-page");
            navigateToPage(page);
        });
    });

    // Lidar com o carregamento inicial da página
    const initialPage = window.location.hash.substring(1) || 'dashboard';
    navigateToPage(initialPage);
}

export function navigateToPage(pageId) {
    // Atualizar estado
    updateAppState({ currentPage: pageId });

    // Esconder todas as páginas
    const pages = document.querySelectorAll(".page");
    pages.forEach((page) => {
        page.classList.remove("active");
    });

    // Mostrar página selecionada
    const targetPage = document.getElementById(pageId);
    if (targetPage) {
        targetPage.classList.add("active");

        // Adicionar animação de entrada
        targetPage.style.animation = "fadeIn 0.3s ease";
    }

    // Atualizar navegação ativa
    const navLinks = document.querySelectorAll(".nav-link");
    navLinks.forEach((link) => link.classList.remove("active"));

    const activeLink = document.querySelector(`[data-page="${pageId}"]`);
    if (activeLink) {
        activeLink.classList.add("active");
    }

    // Atualizar a URL sem recarregar a página
    window.history.pushState({ page: pageId }, "", `#${pageId}`);

    // Rolar para o topo
    window.scrollTo({ top: 0, behavior: "smooth" });

    // Executar ações específicas da página
    handlePageSpecificActions(pageId);
}




import React, { useState } from 'react';
import { useNavigate } from 'react-router-dom';

const FormPage = () => {
  const navigate = useNavigate();
  const [formData, setFormData] = useState({
    unidadeEscolar: '',
    nomeAtividade: '',
    localAtividade: '',
    horarioAtividade: '',
    dataAtividade: '',
    horarioEmbarqueIda: '',
    horarioEmbarqueVolta: '',
    enderecoEmbarque: '',
    cepEmbarque: '',
    enderecoDesembarque: '',
    cepDesembarque: '',
    quilometragem: '',
    numeroPassageiros: '',
    listaAnexada: '',
    quantidadeVeiculos: '',
    acessibilidade: '',
    justificativaPedagogica: '',
    declaracaoCiente: false
  });

  const [errors, setErrors] = useState({});
  const [isSubmitting, setIsSubmitting] = useState(false);

  const handleInputChange = (e) => {
    const { name, value, type, checked } = e.target;
    const newValue = type === 'checkbox' ? checked : value;

    setFormData(prev => ({
      ...prev,
      [name]: newValue
    }));

    // Calcular quantidade de veículos automaticamente
    if (name === 'numeroPassageiros' && value) {
      const passageiros = parseInt(value);
      const veiculos = Math.ceil(passageiros / 38);
      setFormData(prev => ({
        ...prev,
        numeroPassageiros: value,
        quantidadeVeiculos: veiculos.toString()
      }));
    }

    // Limpar erro do campo quando o usuário começar a digitar
    if (errors[name]) {
      setErrors(prev => ({
        ...prev,
        [name]: ''
      }));
    }
  };

  const validateForm = () => {
    const newErrors = {};

    // Campos obrigatórios
    const requiredFields = [
      'unidadeEscolar', 'nomeAtividade', 'localAtividade', 'horarioAtividade',
      'dataAtividade', 'horarioEmbarqueIda', 'horarioEmbarqueVolta',
      'enderecoEmbarque', 'cepEmbarque', 'enderecoDesembarque', 'cepDesembarque',
      'quilometragem', 'numeroPassageiros', 'listaAnexada', 'acessibilidade',
      'justificativaPedagogica'
    ];

    requiredFields.forEach(field => {
      if (!formData[field]) {
        newErrors[field] = 'Este campo é obrigatório';
      }
    });

    // Validação da declaração
    if (!formData.declaracaoCiente) {
      newErrors.declaracaoCiente = 'Você deve estar ciente dos termos para prosseguir';
    }

    // Validação de data (deve ser futura e com pelo menos 15 dias de antecedência)
    if (formData.dataAtividade) {
      const dataAtividade = new Date(formData.dataAtividade);
      const hoje = new Date();
      const quinzeDias = new Date();
      quinzeDias.setDate(hoje.getDate() + 15);

      if (dataAtividade < quinzeDias) {
        newErrors.dataAtividade = 'A data deve ter pelo menos 15 dias de antecedência';
      }
    }

    // Validação de CEP
    const cepRegex = /^\d{5}-?\d{3}$/;
    if (formData.cepEmbarque && !cepRegex.test(formData.cepEmbarque)) {
      newErrors.cepEmbarque = 'CEP deve ter o formato 00000-000';
    }
    if (formData.cepDesembarque && !cepRegex.test(formData.cepDesembarque)) {
      newErrors.cepDesembarque = 'CEP deve ter o formato 00000-000';
    }

    // Validação de números
    if (formData.numeroPassageiros && (isNaN(formData.numeroPassageiros) || parseInt(formData.numeroPassageiros) <= 0)) {
      newErrors.numeroPassageiros = 'Número de passageiros deve ser um número positivo';
    }

    if (formData.quilometragem && (isNaN(formData.quilometragem) || parseFloat(formData.quilometragem) <= 0)) {
      newErrors.quilometragem = 'Quilometragem deve ser um número positivo';
    }

    setErrors(newErrors);
    return Object.keys(newErrors).length === 0;
  };

  const handleSubmit = async (e) => {
    e.preventDefault();

    if (!validateForm()) {
      return;
    }

    setIsSubmitting(true);

    // Simular envio
    setTimeout(() => {
      // Salvar dados no localStorage para a página de confirmação
      localStorage.setItem('requerimentoData', JSON.stringify(formData));
      navigate('/confirmacao');
    }, 1000);
  };

  return (
    <div style={{ padding: '48px 0' }}>
      <div className="container">
        <div style={{ maxWidth: '800px', margin: '0 auto' }}>
          <div className="card">
            <h1 style={{ textAlign: 'center', marginBottom: '32px' }}>
              Requerimento de Transporte Escolar para Atividade Extracurricular
            </h1>

            <form onSubmit={handleSubmit}>
              {/* Dados da Atividade Extracurricular */}
              <section style={{ marginBottom: '48px' }}>
                <h2 style={{
                  fontSize: '1.5rem',
                  marginBottom: '24px',
                  paddingBottom: '8px',
                  borderBottom: '2px solid var(--blue-50)'
                }}>
                  Dados da Atividade Extracurricular
                </h2>

                <div className="form-group">
                  <label htmlFor="unidadeEscolar" className="form-label">
                    Unidade Escolar Solicitante *
                  </label>
                  <input
                    type="text"
                    id="unidadeEscolar"
                    name="unidadeEscolar"
                    value={formData.unidadeEscolar}
                    onChange={handleInputChange}
                    className={`form-input ${errors.unidadeEscolar ? 'error' : ''}`}
                    placeholder="Ex: Centro de Ensino Fundamental 01 de Brasília"
                  />
                  {errors.unidadeEscolar && <div className="form-error">{errors.unidadeEscolar}</div>}
                </div>

                <div className="grid grid-2">
                  <div className="form-group">
                    <label htmlFor="nomeAtividade" className="form-label">
                      Nome da Atividade *
                    </label>
                    <input
                      type="text"
                      id="nomeAtividade"
                      name="nomeAtividade"
                      value={formData.nomeAtividade}
                      onChange={handleInputChange}
                      className={`form-input ${errors.nomeAtividade ? 'error' : ''}`}
                      placeholder="Ex: Visita ao Museu Nacional"
                    />
                    {errors.nomeAtividade && <div className="form-error">{errors.nomeAtividade}</div>}
                  </div>

                  <div className="form-group">
                    <label htmlFor="localAtividade" className="form-label">
                      Nome do Local da Atividade *
                    </label>
                    <input
                      type="text"
                      id="localAtividade"
                      name="localAtividade"
                      value={formData.localAtividade}
                      onChange={handleInputChange}
                      className={`form-input ${errors.localAtividade ? 'error' : ''}`}
                      placeholder="Ex: Museu Nacional de Brasília"
                    />
                    {errors.localAtividade && <div className="form-error">{errors.localAtividade}</div>}
                  </div>
                </div>

                <div className="grid grid-2">
                  <div className="form-group">
                    <label htmlFor="dataAtividade" className="form-label">
                      Data da Atividade *
                    </label>
                    <input
                      type="date"
                      id="dataAtividade"
                      name="dataAtividade"
                      value={formData.dataAtividade}
                      onChange={handleInputChange}
                      className={`form-input ${errors.dataAtividade ? 'error' : ''}`}
                    />
                    {errors.dataAtividade && <div className="form-error">{errors.dataAtividade}</div>}
                    <div className="form-help">Mínimo de 15 dias de antecedência</div>
                  </div>

                  <div className="form-group">
                    <label htmlFor="horarioAtividade" className="form-label">
                      Horário da Atividade *
                    </label>
                    <input
                      type="time"
                      id="horarioAtividade"
                      name="horarioAtividade"
                      value={formData.horarioAtividade}
                      onChange={handleInputChange}
                      className={`form-input ${errors.horarioAtividade ? 'error' : ''}`}
                    />
                    {errors.horarioAtividade && <div className="form-error">{errors.horarioAtividade}</div>}
                  </div>
                </div>

                <div className="grid grid-2">
                  <div className="form-group">
                    <label htmlFor="horarioEmbarqueIda" className="form-label">
                      Horário de Embarque - IDA *
                    </label>
                    <input
                      type="time"
                      id="horarioEmbarqueIda"
                      name="horarioEmbarqueIda"
                      value={formData.horarioEmbarqueIda}
                      onChange={handleInputChange}
                      className={`form-input ${errors.horarioEmbarqueIda ? 'error' : ''}`}
                    />
                    {errors.horarioEmbarqueIda && <div className="form-error">{errors.horarioEmbarqueIda}</div>}
                  </div>

                  <div className="form-group">
                    <label htmlFor="horarioEmbarqueVolta" className="form-label">
                      Horário de Embarque - VOLTA *
                    </label>
                    <input
                      type="time"
                      id="horarioEmbarqueVolta"
                      name="horarioEmbarqueVolta"
                      value={formData.horarioEmbarqueVolta}
                      onChange={handleInputChange}
                      className={`form-input ${errors.horarioEmbarqueVolta ? 'error' : ''}`}
                    />
                    {errors.horarioEmbarqueVolta && <div className="form-error">{errors.horarioEmbarqueVolta}</div>}
                  </div>
                </div>
              </section>

              {/* Informações de Transporte */}
              <section style={{ marginBottom: '48px' }}>
                <h2 style={{
                  fontSize: '1.5rem',
                  marginBottom: '24px',
                  paddingBottom: '8px',
                  borderBottom: '2px solid var(--blue-50)'
                }}>
                  Informações de Transporte
                </h2>

                <div className="form-group">
                  <label htmlFor="enderecoEmbarque" className="form-label">
                    Endereço de Embarque (origem) *
                  </label>
                  <input
                    type="text"
                    id="enderecoEmbarque"
                    name="enderecoEmbarque"
                    value={formData.enderecoEmbarque}
                    onChange={handleInputChange}
                    className={`form-input ${errors.enderecoEmbarque ? 'error' : ''}`}
                    placeholder="Endereço completo do local de embarque"
                  />
                  {errors.enderecoEmbarque && <div className="form-error">{errors.enderecoEmbarque}</div>}
                </div>

                <div className="form-group">
                  <label htmlFor="cepEmbarque" className="form-label">
                    CEP do Embarque *
                  </label>
                  <input
                    type="text"
                    id="cepEmbarque"
                    name="cepEmbarque"
                    value={formData.cepEmbarque}
                    onChange={handleInputChange}
                    className={`form-input ${errors.cepEmbarque ? 'error' : ''}`}
                    placeholder="00000-000"
                    maxLength="9"
                  />
                  {errors.cepEmbarque && <div className="form-error">{errors.cepEmbarque}</div>}
                </div>

                <div className="form-group">
                  <label htmlFor="enderecoDesembarque" className="form-label">
                    Endereço de Desembarque (destino) *
                  </label>
                  <input
                    type="text"
                    id="enderecoDesembarque"
                    name="enderecoDesembarque"
                    value={formData.enderecoDesembarque}
                    onChange={handleInputChange}
                    className={`form-input ${errors.enderecoDesembarque ? 'error' : ''}`}
                    placeholder="Endereço completo do local de desembarque"
                  />
                  {errors.enderecoDesembarque && <div className="form-error">{errors.enderecoDesembarque}</div>}
                </div>

                <div className="form-group">
                  <label htmlFor="cepDesembarque" className="form-label">
                    CEP do Desembarque *
                  </label>
                  <input
                    type="text"
                    id="cepDesembarque"
                    name="cepDesembarque"
                    value={formData.cepDesembarque}
                    onChange={handleInputChange}
                    className={`form-input ${errors.cepDesembarque ? 'error' : ''}`}
                    placeholder="00000-000"
                    maxLength="9"
                  />
                  {errors.cepDesembarque && <div className="form-error">{errors.cepDesembarque}</div>}
                </div>

                <div className="grid grid-2">
                  <div className="form-group">
                    <label htmlFor="quilometragem" className="form-label">
                      Estimativa de Quilometragem (IDA E VOLTA) *
                    </label>
                    <input
                      type="number"
                      id="quilometragem"
                      name="quilometragem"
                      value={formData.quilometragem}
                      onChange={handleInputChange}
                      className={`form-input ${errors.quilometragem ? 'error' : ''}`}
                      placeholder="Ex: 50"
                      min="1"
                      step="0.1"
                    />
                    {errors.quilometragem && <div className="form-error">{errors.quilometragem}</div>}
                    <div className="form-help">Em quilômetros</div>
                  </div>

                  <div className="form-group">
                    <label htmlFor="numeroPassageiros" className="form-label">
                      Número Total de Passageiros *
                    </label>
                    <input
                      type="number"
                      id="numeroPassageiros"
                      name="numeroPassageiros"
                      value={formData.numeroPassageiros}
                      onChange={handleInputChange}
                      className={`form-input ${errors.numeroPassageiros ? 'error' : ''}`}
                      placeholder="Ex: 35"
                      min="1"
                    />
                    {errors.numeroPassageiros && <div className="form-error">{errors.numeroPassageiros}</div>}
                  </div>
                </div>

                <div className="grid grid-2">
                  <div className="form-group">
                    <label htmlFor="listaAnexada" className="form-label">
                      Lista Nominal dos Estudantes foi Anexada ao Processo? *
                    </label>
                    <select
                      id="listaAnexada"
                      name="listaAnexada"
                      value={formData.listaAnexada}
                      onChange={handleInputChange}
                      className={`form-input ${errors.listaAnexada ? 'error' : ''}`}
                    >
                      <option value="">Selecione</option>
                      <option value="sim">Sim</option>
                      <option value="nao">Não</option>
                    </select>
                    {errors.listaAnexada && <div className="form-error">{errors.listaAnexada}</div>}
                  </div>

                  <div className="form-group">
                    <label htmlFor="quantidadeVeiculos" className="form-label">
                      Quantidade de Veículos Necessários
                    </label>
                    <input
                      type="number"
                      id="quantidadeVeiculos"
                      name="quantidadeVeiculos"
                      value={formData.quantidadeVeiculos}
                      readOnly
                      className="form-input"
                      style={{ backgroundColor: 'var(--gray-10)' }}
                    />
                    <div className="form-help">Calculado automaticamente (38 passageiros por veículo)</div>
                  </div>
                </div>

                <div className="form-group">
                  <label htmlFor="acessibilidade" className="form-label">
                    Necessidade de veículo com acessibilidade para pessoas com deficiência? *
                  </label>
                  <select
                    id="acessibilidade"
                    name="acessibilidade"
                    value={formData.acessibilidade}
                    onChange={handleInputChange}
                    className={`form-input ${errors.acessibilidade ? 'error' : ''}`}
                  >
                    <option value="">Selecione</option>
                    <option value="sim">Sim</option>
                    <option value="nao">Não</option>
                  </select>
                  {errors.acessibilidade && <div className="form-error">{errors.acessibilidade}</div>}
                </div>
              </section>

              {/* Justificativa */}
              <section style={{ marginBottom: '48px' }}>
                <h2 style={{
                  fontSize: '1.5rem',
                  marginBottom: '24px',
                  paddingBottom: '8px',
                  borderBottom: '2px solid var(--blue-50)'
                }}>
                  Justificativa Pedagógica
                </h2>

                <div className="form-group">
                  <label htmlFor="justificativaPedagogica" className="form-label">
                    Justificativa Pedagógica (para análise da UNIEB) *
                  </label>
                  <textarea
                    id="justificativaPedagogica"
                    name="justificativaPedagogica"
                    value={formData.justificativaPedagogica}
                    onChange={handleInputChange}
                    className={`form-input ${errors.justificativaPedagogica ? 'error' : ''}`}
                    rows="6"
                    placeholder="Descreva a justificativa pedagógica para a atividade extracurricular..."
                  />
                  {errors.justificativaPedagogica && <div className="form-error">{errors.justificativaPedagogica}</div>}
                </div>
              </section>

              {/* Declaração */}
              <section style={{ marginBottom: '32px' }}>
                <div className="alert alert-info">
                  <h3 style={{ marginBottom: '16px' }}>Declaração de Ciência</h3>
                  <div style={{ marginBottom: '16px' }}>
                    <label style={{ display: 'flex', alignItems: 'flex-start', gap: '12px', cursor: 'pointer' }}>
                      <input
                        type="checkbox"
                        name="declaracaoCiente"
                        checked={formData.declaracaoCiente}
                        onChange={handleInputChange}
                        style={{ marginTop: '4px', flexShrink: 0 }}
                      />
                      <span>
                        Declaro estar ciente dos termos acima e solicito serviço de transporte escolar para realização de atividade extracurricular conforme os dados informados.
                      </span>
                    </label>
                    {errors.declaracaoCiente && <div className="form-error" style={{ marginTop: '8px' }}>{errors.declaracaoCiente}</div>}
                  </div>
                </div>
              </section>

              {/* Botões */}
              <div style={{ display: 'flex', gap: '16px', justifyContent: 'center', flexWrap: 'wrap' }}>
                <button
                  type="button"
                  onClick={() => navigate('/')}
                  className="btn btn-secondary"
                  disabled={isSubmitting}
                >
                  Cancelar
                </button>
                <button
                  type="submit"
                  className="btn btn-primary"
                  disabled={isSubmitting}
                  style={{ minWidth: '200px' }}
                >
                  {isSubmitting ? (
                    <>
                      <span className="spinner"></span>
                      Processando...
                    </>
                  ) : (
                    'Gerar Requerimento'
                  )}
                </button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
  );
};

export default FormPage;

// js/ui/modals.js

export function showModal(title, content) {
    const modal = document.getElementById("appModal");
    const modalTitle = document.getElementById("appModalTitle");
    const modalBody = document.getElementById("appModalBody");

    if (modal && modalTitle && modalBody) {
        modalTitle.textContent = title;
        modalBody.innerHTML = content;
        modal.classList.add("active");
        document.body.classList.add("modal-open");

        // Fechar modal ao clicar fora ou no botão de fechar
        modal.querySelector(".modal-close").onclick = closeModal;
        modal.onclick = function(event) {
            if (event.target === modal) {
                closeModal();
            }
        };
    }
}

export function closeModal() {
    const modal = document.getElementById("appModal");
    if (modal) {
        modal.classList.remove("active");
        document.body.classList.remove("modal-open");
    }
}

export function getNewStudentFormHTML() {
    return `
        <form class="modal-form">
            <div class="form-group">
                <label for="studentName">Nome Completo:</label>
                <input type="text" id="studentName" class="form-control" placeholder="Nome do Estudante" required>
            </div>
            <div class="form-group">
                <label for="studentMatricula">Matrícula:</label>
                <input type="text" id="studentMatricula" class="form-control" placeholder="Matrícula" required>
            </div>
            <div class="form-group">
                <label for="studentSchool">Escola:</label>
                <input type="text" id="studentSchool" class="form-control" placeholder="Escola" required>
            </div>
            <div class="form-group">
                <label for="studentRoute">Rota:</label>
                <input type="text" id="studentRoute" class="form-control" placeholder="Rota de Transporte">
            </div>
            <button type="submit" class="btn btn-primary">Cadastrar</button>
        </form>
    `;
}

export function getNewRouteFormHTML() {
    return `
        <form class="modal-form">
            <div class="form-group">
                <label for="routeName">Nome da Rota:</label>
                <input type="text" id="routeName" class="form-control" placeholder="Ex: Rota Asa Norte" required>
            </div>
            <div class="form-group">
                <label for="routeCapacity">Capacidade do Veículo:</label>
                <input type="number" id="routeCapacity" class="form-control" placeholder="Ex: 38" required>
            </div>
            <button type="submit" class="btn btn-primary">Criar Rota</button>
        </form>
    `;
}

export function getMaintenanceFormHTML() {
    return `
        <form class="modal-form">
            <div class="form-group">
                <label for="vehicleId">ID do Veículo:</label>
                <input type="text" id="vehicleId" class="form-control" placeholder="Ex: PCE001" required>
            </div>
            <div class="form-group">
                <label for="maintenanceDate">Data da Manutenção:</label>
                <input type="date" id="maintenanceDate" class="form-control" required>
            </div>
            <div class="form-group">
                <label for="maintenanceType">Tipo de Manutenção:</label>
                <select id="maintenanceType" class="form-control" required>
                    <option value="">Selecione</option>
                    <option value="preventiva">Preventiva</option>
                    <option value="corretiva">Corretiva</option>
                </select>
            </div>
            <button type="submit" class="btn btn-primary">Agendar</button>
        </form>
    `;
}

export function getReportFormHTML() {
    return `
        <form class="modal-form">
            <div class="form-group">
                <label for="reportType">Tipo de Relatório:</label>
                <select id="reportType" class="form-control" required>
                    <option value="">Selecione</option>
                    <option value="estudantes">Estudantes</option>
                    <option value="frota">Frota</option>
                    <option value="financeiro">Financeiro</option>
                    <option value="ocorrencias">Ocorrências</option>
                </select>
            </div>
            <div class="form-group">
                <label for="reportPeriod">Período:</label>
                <select id="reportPeriod" class="form-control" required>
                    <option value="">Selecione</option>
                    <option value="diario">Diário</option>
                    <option value="semanal">Semanal</option>
                    <option value="mensal">Mensal</option>
                    <option value="anual">Anual</option>
                </select>
            </div>
            <button type="submit" class="btn btn-primary">Gerar Relatório</button>
        </form>
    `;
}

export function getEmergencyFormHTML() {
    return `
        <form class="modal-form">
            <div class="form-group">
                <label for="emergencyVehicle">Veículo Envolvido:</label>
                <input type="text" id="emergencyVehicle" class="form-control" placeholder="ID do Veículo" required>
            </div>
            <div class="form-group">
                <label for="emergencyType">Tipo de Emergência:</label>
                <select id="emergencyType" class="form-control" required>
                    <option value="">Selecione</option>
                    <option value="acidente">Acidente</option>
                    <option value="pane">Pane Mecânica</option>
                    <option value="saude">Problema de Saúde</option>
                    <option value="outro">Outro</option>
                </select>
            </div>
            <div class="form-group">
                <label for="emergencyDescription">Descrição:</label>
                <textarea id="emergencyDescription" class="form-control" rows="3" placeholder="Detalhes da ocorrência"></textarea>
            </div>
            <button type="submit" class="btn btn-danger">Registrar Emergência</button>
        </form>
    `;
}


// js/ui/dashboard.js
import { appState, updateAppState } from "../state.js";

export function setupCounters() {
    const counters = document.querySelectorAll("[data-counter]");

    const animateCounter = (element) => {
        const target = parseInt(element.getAttribute("data-counter"));
        const duration = 2000; // 2 segundos
        const increment = target / (duration / 16); // 60 FPS
        let current = 0;

        const timer = setInterval(() => {
            current += increment;
            if (current >= target) {
                current = target;
                clearInterval(timer);
            }
            element.textContent = Math.floor(current).toLocaleString("pt-BR");
        }, 16);
    };

    // Observador de interseção para animar quando visível
    const observer = new IntersectionObserver((entries) => {
        entries.forEach((entry) => {
            if (entry.isIntersecting && !entry.target.classList.contains("animated")) {
                entry.target.classList.add("animated");
                animateCounter(entry.target);
            }
        });
    });

    counters.forEach((counter) => observer.observe(counter));
}

export function setupRealTimeUpdates() {
    updateLastUpdateTime();
    setInterval(updateLastUpdateTime, 60000); // Atualizar a cada minuto
}

export function updateLastUpdateTime() {
    const now = new Date();
    const timeString = now.toLocaleTimeString("pt-BR", {
        hour: "2-digit",
        minute: "2-digit",
    });

    const lastUpdateElement = document.getElementById("lastUpdate");
    if (lastUpdateElement) {
        lastUpdateElement.textContent = timeString;
    }

    updateAppState({ lastUpdate: now });
}

export function refreshDashboardData() {
    // Simular atualização de dados do dashboard
    console.log("Atualizando dados do dashboard...");
    // Aqui seria a lógica para buscar novos dados e atualizar os KPIs
}


/* Design System Gov.br - Cores e Estilos */
:root {
  /* Cores Primárias */
  --blue-50: #1351B4;
  --blue-60: #0C326F;
  --blue-40: #4A90E2;

  /* Cores de Estado */
  --red-vivid-50: #E52207;
  --orange-vivid-20: #FFCD07;
  --green-50: #168821;

  /* Cores Neutras */
  --gray-0: #FFFFFF;
  --gray-5: #F8F9FA;
  --gray-10: #E9ECEF;
  --gray-30: #ADB5BD;
  --gray-60: #6C757D;
  --gray-90: #212529;
  --gray-100: #000000;

  /* Tipografia */
  --font-family: 'Noto Sans', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  --font-size-base: 16px;
  --font-size-base-mobile: 14px;
  --line-height-text: 1.5;
  --line-height-heading: 1.2;

  /* Espaçamento */
  --spacing-xs: 4px;
  --spacing-sm: 8px;
  --spacing-md: 16px;
  --spacing-lg: 24px;
  --spacing-xl: 32px;
  --spacing-2xl: 48px;

  /* Bordas */
  --border-radius: 4px;
  --border-radius-lg: 8px;
}

/* Reset e Base */
* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

body {
  font-family: var(--font-family);
  font-size: var(--font-size-base);
  line-height: var(--line-height-text);
  color: var(--gray-90);
  background-color: var(--gray-5);
  min-height: 100vh;
  display: flex;
  flex-direction: column;
}

@media (max-width: 768px) {
  body {
    font-size: var(--font-size-base-mobile);
  }
}

/* Tipografia */
h1, h2, h3, h4, h5, h6 {
  line-height: var(--line-height-heading);
  font-weight: 600;
  margin-bottom: var(--spacing-md);
}

h1 {
  font-size: 2rem;
  color: var(--blue-60);
}

h2 {
  font-size: 1.5rem;
  color: var(--blue-60);
}

h3 {
  font-size: 1.25rem;
  color: var(--gray-90);
}

p {
  margin-bottom: var(--spacing-md);
}

/* Container */
.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 var(--spacing-md);
}

/* Header */
.header {
  background-color: var(--blue-60);
  color: var(--gray-0);
}

.gov-bar {
  background-color: var(--blue-50);
  padding: var(--spacing-sm) 0;
  font-size: 14px;
}

.gov-bar-content {
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.gov-info {
  display: flex;
  align-items: center;
  gap: var(--spacing-md);
}

.gov-links a {
  color: var(--gray-0);
  text-decoration: none;
}

.header-main {
  padding: var(--spacing-md) 0;
}

.header-content {
  display: flex;
  justify-content: space-between;
  align-items: center;
  flex-wrap: wrap;
  gap: var(--spacing-md);
}

.header-brand {
  display: flex;
  align-items: center;
  gap: var(--spacing-md);
}

.logo {
  width: 48px;
  height: 48px;
  background-color: var(--gray-0);
  border-radius: var(--border-radius);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 24px;
}

.brand-text h1 {
  font-size: 1.5rem;
  margin: 0;
  font-weight: 600;
  color: var(--gray-0);
}

.brand-text p {
  margin: 0;
  font-size: 0.875rem;
  opacity: 0.9;
}

.nav ul {
  display: flex;
  list-style: none;
  gap: var(--spacing-lg);
  margin: 0;
  padding: 0;
  flex-wrap: wrap;
}

.nav-link {
  color: var(--gray-0);
  text-decoration: none;
  padding: var(--spacing-sm) var(--spacing-md);
  border-radius: var(--border-radius);
  transition: background-color 0.2s ease;
}

.nav-link:hover,
.nav-link.active {
  background-color: rgba(255, 255, 255, 0.2);
}

/* Main */
.main {
  flex: 1;
}

/* Pages */
.page {
  display: none;
  padding: var(--spacing-2xl) 0;
}

.page.active {
  display: block;
}

/* Hero Section */
.hero {
  text-align: center;
  margin-bottom: 64px;
}

.hero-content {
  max-width: 800px;
  margin: 0 auto;
  padding: var(--spacing-2xl) var(--spacing-lg);
  background-color: var(--gray-0);
  border-radius: var(--border-radius-lg);
  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);
}

.hero-icon {
  font-size: 64px;
  margin-bottom: var(--spacing-lg);
}

.hero-content h1 {
  font-size: 2.5rem;
  margin-bottom: var(--spacing-lg);
  color: var(--blue-60);
  font-weight: 700;
}

.hero-content p {
  font-size: 1.25rem;
  margin-bottom: var(--spacing-xl);
  color: var(--gray-60);
  line-height: 1.6;
}

/* Botões */
.btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: var(--spacing-sm) var(--spacing-md);
  border: none;
  border-radius: var(--border-radius);
  font-family: var(--font-family);
  font-size: var(--font-size-base);
  font-weight: 500;
  text-decoration: none;
  cursor: pointer;
  transition: all 0.2s ease;
  min-height: 44px;
}

.btn-primary {
  background-color: var(--blue-50);
  color: var(--gray-0);
}

.btn-primary:hover {
  background-color: var(--blue-60);
}

.btn-secondary {
  background-color: var(--gray-0);
  color: var(--blue-50);
  border: 2px solid var(--blue-50);
}

.btn-secondary:hover {
  background-color: var(--blue-50);
  color: var(--gray-0);
}

.btn-large {
  font-size: 1.125rem;
  padding: var(--spacing-md) var(--spacing-xl);
}

/* Info Section */
.info-section {
  margin-bottom: 64px;
}

.info-section h2 {
  text-align: center;
  margin-bottom: var(--spacing-2xl);
}

.info-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: var(--spacing-lg);
}

.info-card {
  background-color: var(--gray-0);
  border-radius: var(--border-radius-lg);
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
  padding: var(--spacing-lg);
  display: flex;
  align-items: flex-start;
  gap: var(--spacing-md);
}

.info-icon {
  font-size: 32px;
  padding: 12px;
  border-radius: var(--border-radius-lg);
  flex-shrink: 0;
}

.info-icon.warning {
  background-color: var(--orange-vivid-20);
}

.info-icon.primary {
  background-color: var(--blue-50);
  color: var(--gray-0);
}

.info-icon.success {
  background-color: var(--green-50);
  color: var(--gray-0);
}

.info-icon.neutral {
  background-color: var(--gray-60);
  color: var(--gray-0);
}

.info-content h3 {
  color: var(--gray-90);
  margin-bottom: 12px;
}

.info-content p {
  margin: 0;
  color: var(--gray-60);
}

/* Alert Section */
.alert-section {
  margin-bottom: 64px;
}

.alert {
  padding: var(--spacing-md);
  border-radius: var(--border-radius);
  margin-bottom: var(--spacing-lg);
  border-left: 4px solid;
}

.alert-info {
  background-color: #E3F2FD;
  border-color: var(--blue-50);
  color: var(--blue-60);
}

.alert-success {
  background-color: #E8F5E8;
  border-color: var(--green-50);
  color: #2E7D32;
}

.alert-warning {
  background-color: #FFF8E1;
  border-color: var(--orange-vivid-20);
  color: #F57C00;
}

.alert-error {
  background-color: #FFEBEE;
  border-color: var(--red-vivid-50);
  color: #C62828;
}

.alert-content {
  display: flex;
  align-items: flex-start;
  gap: 12px;
}

.alert-icon {
  font-size: 24px;
  flex-shrink: 0;
}

.alert h3 {
  margin: 0 0 8px 0;
  font-size: 1.125rem;
}

.alert p {
  margin: 0;
}

/* Steps Section */
.steps-section {
  margin-bottom: 64px;
}

.steps-section h2 {
  text-align: center;
  margin-bottom: var(--spacing-2xl);
}

.steps-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: var(--spacing-xl);
  max-width: 900px;
  margin: 0 auto;
}

.step {
  text-align: center;
}

.step-number {
  width: 80px;
  height: 80px;
  background-color: var(--blue-50);
  color: var(--gray-0);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 32px;
  font-weight: bold;
  margin: 0 auto 16px auto;
}

.step h3 {
  margin-bottom: 12px;
}

.step p {
  color: var(--gray-60);
  margin: 0;
}

/* Form */
.form-container {
  max-width: 800px;
  margin: 0 auto;
}

.card {
  background-color: var(--gray-0);
  border-radius: var(--border-radius-lg);
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
  padding: var(--spacing-lg);
  margin-bottom: var(--spacing-lg);
}

.card h1 {
  text-align: center;
  margin-bottom: var(--spacing-xl);
}

.form-section {
  margin-bottom: var(--spacing-2xl);
}

.form-section h2 {
  font-size: 1.5rem;
  margin-bottom: var(--spacing-lg);
  padding-bottom: var(--spacing-sm);
  border-bottom: 2px solid var(--blue-50);
}

.form-group {
  margin-bottom: var(--spacing-lg);
}

.form-row {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: var(--spacing-lg);
}

.form-label {
  display: block;
  margin-bottom: var(--spacing-xs);
  font-weight: 500;
  color: var(--gray-90);
}

.form-input {
  width: 100%;
  padding: var(--spacing-sm) var(--spacing-md);
  border: 2px solid var(--gray-30);
  border-radius: var(--border-radius);
  font-family: var(--font-family);
  font-size: var(--font-size-base);
  background-color: var(--gray-0);
  transition: border-color 0.2s ease;
  min-height: 44px;
}

.form-input:focus {
  outline: none;
  border-color: var(--blue-50);
  box-shadow: 0 0 0 3px rgba(19, 81, 180, 0.1);
}

.form-input.error {
  border-color: var(--red-vivid-50);
}

.form-input[readonly] {
  background-color: var(--gray-10);
}

.form-error {
  color: var(--red-vivid-50);
  font-size: 0.875rem;
  margin-top: var(--spacing-xs);
  display: none;
}

.form-error.show {
  display: block;
}

.form-help {
  color: var(--gray-60);
  font-size: 0.875rem;
  margin-top: var(--spacing-xs);
}

.checkbox-group {
  margin-bottom: var(--spacing-md);
}

.checkbox-label {
  display: flex;
  align-items: flex-start;
  gap: 12px;
  cursor: pointer;
}

.checkbox-label input[type="checkbox"] {
  margin-top: 4px;
  flex-shrink: 0;
}

.form-actions {
  display: flex;
  gap: var(--spacing-md);
  justify-content: center;
  flex-wrap: wrap;
}

.btn-submit {
  min-width: 200px;
}

.btn-loading {
  display: none;
}

.btn-submit.loading .btn-text {
  display: none;
}

.btn-submit.loading .btn-loading {
  display: flex;
  align-items: center;
  gap: var(--spacing-xs);
}

/* Success Banner */
.success-banner {
  text-align: center;
  margin-bottom: var(--spacing-xl);
}

.success-icon {
  font-size: 48px;
  margin-bottom: var(--spacing-md);
}

.success-banner h1 {
  margin: 0 0 16px 0;
  color: #2E7D32;
}

.success-banner p {
  margin: 0;
  font-size: 1.125rem;
}

/* Actions Section */
.actions-section {
  display: flex;
  gap: var(--spacing-md);
  justify-content: center;
  margin-bottom: var(--spacing-xl);
  flex-wrap: wrap;
}

/* Help Page */
.help-section {
  margin-bottom: var(--spacing-2xl);
}

.faq-item {
  margin-bottom: var(--spacing-lg);
}

.faq-item h3 {
  color: var(--blue-60);
  margin-bottom: var(--spacing-sm);
}

.faq-item p {
  margin: 0;
  padding-left: var(--spacing-md);
  border-left: 3px solid var(--blue-50);
}

.contact-info {
  background-color: var(--gray-5);
  padding: var(--spacing-lg);
  border-radius: var(--border-radius-lg);
  text-align: center;
}

.contact-info p {
  margin-bottom: var(--spacing-md);
}

.contact-info p:last-child {
  margin-bottom: 0;
  color: var(--gray-60);
}

/* Footer */
.footer {
  background-color: var(--gray-90);
  color: var(--gray-0);
  margin-top: auto;
}

.footer-content {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: var(--spacing-xl);
  padding: var(--spacing-xl) 0;
}

.footer-section h3 {
  font-size: 1.125rem;
  margin-bottom: var(--spacing-md);
  color: var(--gray-0);
}

.footer-section p {
  font-size: 0.875rem;
  line-height: 1.5;
  margin: 0 0 var(--spacing-sm) 0;
}

.footer-section ul {
  list-style: none;
  padding: 0;
  margin: 0;
}

.footer-section li {
  margin-bottom: var(--spacing-sm);
}

.footer-section a {
  color: var(--gray-30);
  text-decoration: none;
  font-size: 0.875rem;
}

.footer-divider {
  border: none;
  border-top: 1px solid var(--gray-60);
  margin: var(--spacing-xl) 0 var(--spacing-lg) 0;
}

.footer-bottom {
  display: flex;
  justify-content: space-between;
  align-items: center;
  flex-wrap: wrap;
  gap: var(--spacing-md);
  font-size: 0.875rem;
}

.footer-bottom p {
  margin: 0;
  color: var(--gray-30);
}

.footer-meta {
  display: flex;
  gap: var(--spacing-lg);
  flex-wrap: wrap;
}

.footer-meta span {
  color: var(--gray-30);
}

/* Spinner */
.spinner {
  border: 2px solid var(--gray-30);
  border-top: 2px solid var(--blue-50);
  border-radius: 50%;
  width: 20px;
  height: 20px;
  animation: spin 1s linear infinite;
  display: inline-block;
}

@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

/* Responsividade */
@media (max-width: 768px) {
  .container {
    padding: 0 var(--spacing-sm);
  }

  .card {
    padding: var(--spacing-md);
  }

  .hero-content h1 {
    font-size: 1.75rem;
  }

  .hero-content {
    padding: var(--spacing-lg) var(--spacing-md);
  }

  .header-content {
    flex-direction: column;
    text-align: center;
  }

  .nav ul {
    justify-content: center;
  }

  .form-row {
    grid-template-columns: 1fr;
  }

  .form-actions {
    flex-direction: column;
  }

  .actions-section {
    flex-direction: column;
  }

  .footer-bottom {
    flex-direction: column;
    text-align: center;
  }
}

/* Acessibilidade */
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}

/* Focus visible para navegação por teclado */
.btn:focus-visible,
.form-input:focus-visible,
.nav-link:focus-visible {
  outline: 2px solid var(--blue-50);
  outline-offset: 2px;
}

// Sistema de Atividades Extracurriculares - SEDF
// JavaScript para funcionalidades do sistema

// Estado global da aplicação
let currentFormData = {};

// Inicialização
document.addEventListener('DOMContentLoaded', function() {
    initializeApp();
});

function initializeApp() {
    // Configurar navegação
    setupNavigation();

    // Configurar formulário
    setupForm();

    // Configurar validações em tempo real
    setupRealTimeValidation();

    // Verificar se há dados salvos para mostrar confirmação
    checkSavedData();
}

// Navegação entre páginas
function setupNavigation() {
    const navLinks = document.querySelectorAll('.nav-link');

    navLinks.forEach(link => {
        link.addEventListener('click', function(e) {
            e.preventDefault();
            const page = this.getAttribute('data-page');
            showPage(page);
        });
    });
}

function showPage(pageId) {
    // Esconder todas as páginas
    const pages = document.querySelectorAll('.page');
    pages.forEach(page => page.classList.remove('active'));

    // Mostrar página selecionada
    const targetPage = document.getElementById(pageId);
    if (targetPage) {
        targetPage.classList.add('active');
    }

    // Atualizar navegação ativa
    const navLinks = document.querySelectorAll('.nav-link');
    navLinks.forEach(link => link.classList.remove('active'));

    const activeLink = document.querySelector(`[data-page="${pageId}"]`);
    if (activeLink) {
        activeLink.classList.add('active');
    }

    // Rolar para o topo
    window.scrollTo(0, 0);

    // Se for a página de confirmação, carregar dados
    if (pageId === 'confirmacao') {
        loadConfirmationData();
    }
}

// Configuração do formulário
function setupForm() {
    const form = document.getElementById('requerimentoForm');
    if (form) {
        form.addEventListener('submit', handleFormSubmit);
    }

    // Configurar cálculo automático de veículos
    const numeroPassageiros = document.getElementById('numeroPassageiros');
    if (numeroPassageiros) {
        numeroPassageiros.addEventListener('input', calculateVehicles);
    }

    // Configurar formatação de CEP
    const cepInputs = document.querySelectorAll('input[name="cepEmbarque"], input[name="cepDesembarque"]');
    cepInputs.forEach(input => {
        input.addEventListener('input', formatCEP);
    });
}

// Validações em tempo real
function setupRealTimeValidation() {
    const inputs = document.querySelectorAll('.form-input');

    inputs.forEach(input => {
        input.addEventListener('blur', function() {
            validateField(this);
        });

        input.addEventListener('input', function() {
            clearFieldError(this);
        });
    });
}

// Calcular quantidade de veículos
function calculateVehicles() {
    const numeroPassageiros = document.getElementById('numeroPassageiros');
    const quantidadeVeiculos = document.getElementById('quantidadeVeiculos');

    if (numeroPassageiros && quantidadeVeiculos) {
        const passageiros = parseInt(numeroPassageiros.value) || 0;
        const veiculos = passageiros > 0 ? Math.ceil(passageiros / 38) : 0;
        quantidadeVeiculos.value = veiculos;
    }
}

// Formatação de CEP
function formatCEP(event) {
    let value = event.target.value.replace(/\D/g, '');

    if (value.length > 5) {
        value = value.substring(0, 5) + '-' + value.substring(5, 8);
    }

    event.target.value = value;
}

// Validação de campo individual
function validateField(field) {
    const fieldName = field.name;
    const value = field.value.trim();
    let isValid = true;
    let errorMessage = '';

    // Campos obrigatórios
    if (field.hasAttribute('required') && !value) {
        isValid = false;
        errorMessage = 'Este campo é obrigatório';
    }

    // Validações específicas
    if (value) {
        switch (fieldName) {
            case 'dataAtividade':
                const dataAtividade = new Date(value);
                const hoje = new Date();
                const quinzeDias = new Date();
                quinzeDias.setDate(hoje.getDate() + 15);

                if (dataAtividade < quinzeDias) {
                    isValid = false;
                    errorMessage = 'A data deve ter pelo menos 15 dias de antecedência';
                }
                break;

            case 'cepEmbarque':
            case 'cepDesembarque':
                const cepRegex = /^\d{5}-?\d{3}$/;
                if (!cepRegex.test(value)) {
                    isValid = false;
                    errorMessage = 'CEP deve ter o formato 00000-000';
                }
                break;

            case 'numeroPassageiros':
                if (isNaN(value) || parseInt(value) <= 0) {
                    isValid = false;
                    errorMessage = 'Número de passageiros deve ser um número positivo';
                }
                break;

            case 'quilometragem':
                if (isNaN(value) || parseFloat(value) <= 0) {
                    isValid = false;
                    errorMessage = 'Quilometragem deve ser um número positivo';
                }
                break;
        }
    }

    // Mostrar/esconder erro
    showFieldError(field, isValid, errorMessage);

    return isValid;
}

// Mostrar erro do campo
function showFieldError(field, isValid, errorMessage) {
    const errorElement = field.parentNode.querySelector('.form-error');

    if (isValid) {
        field.classList.remove('error');
        if (errorElement) {
            errorElement.textContent = '';
            errorElement.classList.remove('show');
        }
    } else {
        field.classList.add('error');
        if (errorElement) {
            errorElement.textContent = errorMessage;
            errorElement.classList.add('show');
        }
    }
}

// Limpar erro do campo
function clearFieldError(field) {
    field.classList.remove('error');
    const errorElement = field.parentNode.querySelector('.form-error');
    if (errorElement) {
        errorElement.textContent = '';
        errorElement.classList.remove('show');
    }
}

// Validação completa do formulário
function validateForm() {
    const form = document.getElementById('requerimentoForm');
    const inputs = form.querySelectorAll('.form-input[required]');
    const checkbox = form.querySelector('#declaracaoCiente');

    let isValid = true;

    // Validar todos os campos obrigatórios
    inputs.forEach(input => {
        if (!validateField(input)) {
            isValid = false;
        }
    });

    // Validar checkbox de declaração
    if (!checkbox.checked) {
        isValid = false;
        const errorElement = checkbox.parentNode.querySelector('.form-error');
        if (errorElement) {
            errorElement.textContent = 'Você deve estar ciente dos termos para prosseguir';
            errorElement.classList.add('show');
        }
    }

    return isValid;
}

// Submissão do formulário
function handleFormSubmit(event) {
    event.preventDefault();

    if (!validateForm()) {
        // Rolar para o primeiro erro
        const firstError = document.querySelector('.form-input.error');
        if (firstError) {
            firstError.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }
        return;
    }

    // Mostrar loading
    const submitBtn = document.querySelector('.btn-submit');
    submitBtn.classList.add('loading');
    submitBtn.disabled = true;

    // Coletar dados do formulário
    const formData = new FormData(event.target);
    const data = {};

    for (let [key, value] of formData.entries()) {
        data[key] = value;
    }

    // Adicionar checkbox separadamente
    data.declaracaoCiente = document.getElementById('declaracaoCiente').checked;

    // Simular processamento
    setTimeout(() => {
        // Salvar dados
        currentFormData = data;
        localStorage.setItem('requerimentoData', JSON.stringify(data));

        // Remover loading
        submitBtn.classList.remove('loading');
        submitBtn.disabled = false;

        // Ir para página de confirmação
        showPage('confirmacao');
    }, 1000);
}

// Verificar dados salvos
function checkSavedData() {
    const savedData = localStorage.getItem('requerimentoData');
    if (savedData) {
        currentFormData = JSON.parse(savedData);
    }
}

// Carregar dados na página de confirmação
function loadConfirmationData() {
    const savedData = localStorage.getItem('requerimentoData');
    if (!savedData) {
        showPage('formulario');
        return;
    }

    const data = JSON.parse(savedData);
    const resumoContent = document.getElementById('resumoContent');

    if (resumoContent) {
        resumoContent.innerHTML = generateResumoHTML(data);
    }
}

// Gerar HTML do resumo
function generateResumoHTML(data) {
    return `
        <section style="margin-bottom: 32px;">
            <h3 style="font-size: 1.25rem; margin-bottom: 16px; padding-bottom: 8px; border-bottom: 1px solid var(--gray-30);">
                Dados da Atividade Extracurricular
            </h3>

            <div style="display: grid; gap: 12px;">
                <div style="display: grid; grid-template-columns: 200px 1fr; gap: 8px; align-items: start;">
                    <strong>Unidade Escolar:</strong>
                    <span>${data.unidadeEscolar || ''}</span>
                </div>
                <div style="display: grid; grid-template-columns: 200px 1fr; gap: 8px; align-items: start;">
                    <strong>Nome da Atividade:</strong>
                    <span>${data.nomeAtividade || ''}</span>
                </div>
                <div style="display: grid; grid-template-columns: 200px 1fr; gap: 8px; align-items: start;">
                    <strong>Local da Atividade:</strong>
                    <span>${data.localAtividade || ''}</span>
                </div>
                <div style="display: grid; grid-template-columns: 200px 1fr; gap: 8px; align-items: start;">
                    <strong>Data da Atividade:</strong>
                    <span>${formatDate(data.dataAtividade) || ''}</span>
                </div>
                <div style="display: grid; grid-template-columns: 200px 1fr; gap: 8px; align-items: start;">
                    <strong>Horário da Atividade:</strong>
                    <span>${data.horarioAtividade || ''}</span>
                </div>
                <div style="display: grid; grid-template-columns: 200px 1fr; gap: 8px; align-items: start;">
                    <strong>Embarque - IDA:</strong>
                    <span>${data.horarioEmbarqueIda || ''}</span>
                </div>
                <div style="display: grid; grid-template-columns: 200px 1fr; gap: 8px; align-items: start;">
                    <strong>Embarque - VOLTA:</strong>
                    <span>${data.horarioEmbarqueVolta || ''}</span>
                </div>
            </div>
        </section>

        <section style="margin-bottom: 32px;">
            <h3 style="font-size: 1.25rem; margin-bottom: 16px; padding-bottom: 8px; border-bottom: 1px solid var(--gray-30);">
                Informações de Transporte
            </h3>

            <div style="display: grid; gap: 12px;">
                <div style="display: grid; grid-template-columns: 200px 1fr; gap: 8px; align-items: start;">
                    <strong>Endereço Embarque:</strong>
                    <span>${data.enderecoEmbarque || ''}, CEP: ${data.cepEmbarque || ''}</span>
                </div>
                <div style="display: grid; grid-template-columns: 200px 1fr; gap: 8px; align-items: start;">
                    <strong>Endereço Desembarque:</strong>
                    <span>${data.enderecoDesembarque || ''}, CEP: ${data.cepDesembarque || ''}</span>
                </div>
                <div style="display: grid; grid-template-columns: 200px 1fr; gap: 8px; align-items: start;">
                    <strong>Quilometragem:</strong>
                    <span>${data.quilometragem || ''} km (ida e volta)</span>
                </div>
                <div style="display: grid; grid-template-columns: 200px 1fr; gap: 8px; align-items: start;">
                    <strong>Nº de Passageiros:</strong>
                    <span>${data.numeroPassageiros || ''}</span>
                </div>
                <div style="display: grid; grid-template-columns: 200px 1fr; gap: 8px; align-items: start;">
                    <strong>Veículos Necessários:</strong>
                    <span>${data.quantidadeVeiculos || ''}</span>
                </div>
                <div style="display: grid; grid-template-columns: 200px 1fr; gap: 8px; align-items: start;">
                    <strong>Lista Anexada:</strong>
                    <span>${data.listaAnexada === 'sim' ? 'Sim' : 'Não'}</span>
                </div>
                <div style="display: grid; grid-template-columns: 200px 1fr; gap: 8px; align-items: start;">
                    <strong>Acessibilidade:</strong>
                    <span>${data.acessibilidade === 'sim' ? 'Sim' : 'Não'}</span>
                </div>
            </div>
        </section>

        <section style="margin-bottom: 32px;">
            <h3 style="font-size: 1.25rem; margin-bottom: 16px; padding-bottom: 8px; border-bottom: 1px solid var(--gray-30);">
                Justificativa Pedagógica
            </h3>
            <p style="background-color: var(--gray-5); padding: 16px; border-radius: 4px; margin: 0; line-height: 1.6;">
                ${data.justificativaPedagogica || ''}
            </p>
        </section>
    `;
}

// Formatação de data
function formatDate(dateString) {
    if (!dateString) return '';
    const date = new Date(dateString);
    return date.toLocaleDateString('pt-BR');
}

// Download do requerimento
function downloadRequerimento() {
    const savedData = localStorage.getItem('requerimentoData');
    if (!savedData) return;

    const data = JSON.parse(savedData);

    const content = `REQUERIMENTO DE TRANSPORTE ESCOLAR PARA ATIVIDADE EXTRACURRICULAR

DADOS DA ATIVIDADE EXTRACURRICULAR
Unidade Escolar Solicitante: ${data.unidadeEscolar}
Nome da Atividade: ${data.nomeAtividade}
Nome do Local da Atividade: ${data.localAtividade}
Horário da Atividade: ${data.horarioAtividade}
Data da Atividade: ${formatDate(data.dataAtividade)}
Horário de Embarque na IDA: ${data.horarioEmbarqueIda}
Horário de Embarque na VOLTA: ${data.horarioEmbarqueVolta}

INFORMAÇÕES DE TRANSPORTE
Endereço (com CEP) de Embarque (origem): ${data.enderecoEmbarque}, CEP: ${data.cepEmbarque}
Endereço (com CEP) de Desembarque (destino): ${data.enderecoDesembarque}, CEP: ${data.cepDesembarque}
Estimativa de Quilometragem do Trajeto (IDA E VOLTA): ${data.quilometragem}km
Número Total de Passageiros: ${data.numeroPassageiros}
Lista Nominal e Numerada dos Estudantes Autorizados a Participar foi Anexada ao Processo: ${data.listaAnexada === 'sim' ? 'Sim' : 'Não'}
Quantidade de Veículos Necessários (38 passageiros por veículo): ${data.quantidadeVeiculos} veículos
Necessidade de veículo coletivo com acessibilidade para pessoas com deficiência ou mobilidade reduzida: ${data.acessibilidade === 'sim' ? 'Sim' : 'Não'}

JUSTIFICATIVA PEDAGÓGICA (para análise da UNIEB):
${data.justificativaPedagogica}

OBSERVAÇÕES IMPORTANTES:
1) Preencher um requerimento por turno e/ou dia (dentro do mesmo processo quando se tratar da mesma atividade).
2) Solicitações de serviço de transporte escolar para atividades extracurriculares devem ser encaminhadas à UNIAE, via SEI, com antecedência mínima de 15 (quinze) dias em relação à data do evento.
3) O número de veículos necessários deverá considerar apenas os estudantes autorizados a irem ao evento.
4) O envio da lista nominal e numerada dos estudantes que utilizarão o transporte é obrigatório.
5) Em razão da frota utilizada para atividades extracurriculares ser a mesma que atende aos itinerários regulares casa-escola-casa, o serviço de transporte escolar para atividades extracurriculares será ofertado exclusivamente nos horários a seguir: das 9h (saída da escola) às 11h (retorno à escola) no turno matutino e das 14h (saída da escola) às 16h (retorno à escola) no turno vespertino, não havendo, portanto, oferta de serviço de transporte escolar para atividades extracurriculares no período integral (manhã e tarde) e/ou no turno noturno.
6) Em atendimento à Lei Geral de Proteção de Dados Pessoais (LGPD - Lei nº 13.709/2018), os processos de solicitação de transporte escolar devem ser gerados com nível de acesso RESTRITO.
7) Eventuais cancelamentos devem ser comunicados à UNIAE, via SEI, com antecedência mínima de 48 (quarenta e oito) horas, a fim de que a empresa responsável pela gestão do transporte seja comunicada a tempo.

ATENÇÃO, GESTOR! O deslocamento desnecessário do veículo (sem o cancelamento prévio da UE) gera despesa pública que poderá configurar dano ao erário, com possível responsabilização por ato comissivo ou omissivo, conforme art. 183 da Lei Complementar nº 840 de 23/12/2011.

Declaro estar ciente dos termos acima e solicito serviço de transporte escolar para realização de atividade extracurricular conforme os dados informados.

Gerado em: ${new Date().toLocaleString('pt-BR')}
Sistema de Atividades Extracurriculares - SEDF`;

    // Criar e baixar arquivo
    const blob = new Blob([content], { type: 'text/plain;charset=utf-8' });
    const url = URL.createObjectURL(blob);
    const link = document.createElement('a');
    link.href = url;
    link.download = `requerimento-transporte-${data.nomeAtividade.replace(/[^a-zA-Z0-9]/g, '-')}.txt`;
    document.body.appendChild(link);
    link.click();
    document.body.removeChild(link);
    URL.revokeObjectURL(url);
}

// Funções utilitárias globais
window.showPage = showPage;
window.downloadRequerimento = downloadRequerimento;

// js/utils/utils.js

export function debounce(func, delay) {
    let timeout;
    return function(...args) {
        const context = this;
        clearTimeout(timeout);
        timeout = setTimeout(() => func.apply(context, args), delay);
    };
}

export function showSearchResults(query) {
    console.log(`Exibindo resultados para: ${query}`);
    // Lógica para exibir resultados da busca
}

export function loadStudentsData() {
    console.log("Carregando dados de estudantes...");
    // Lógica para carregar dados reais de estudantes
}

export function loadFleetData() {
    console.log("Carregando dados da frota...");
    // Lógica para carregar dados reais da frota
}

export function loadFinancialData() {
    console.log("Carregando dados financeiros...");
    // Lógica para carregar dados reais financeiros
}

export function loadReportsData() {
    console.log("Carregando dados de relatórios...");
    // Lógica para carregar dados reais de relatórios
}

export function setupTooltips() {
    console.log("Configurando tooltips...");
    // Lógica para configurar tooltips
}


import React from 'react';
import { Link, useLocation } from 'react-router-dom';

const Header = () => {
  const location = useLocation();

  const isActive = (path) => location.pathname === path;

  return (
    <header style={{ backgroundColor: 'var(--blue-60)', color: 'var(--gray-0)' }}>
      {/* Barra superior do Gov.br */}
      <div style={{ backgroundColor: 'var(--blue-50)', padding: '8px 0', fontSize: '14px' }}>
        <div className="container">
          <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>
            <div style={{ display: 'flex', alignItems: 'center', gap: '16px' }}>
              <span>🇧🇷</span>
              <span>Governo Federal</span>
            </div>
            <div style={{ display: 'flex', alignItems: 'center', gap: '16px' }}>
              <a
                href="https://www.gov.br"
                target="_blank"
                rel="noopener noreferrer"
                style={{ color: 'var(--gray-0)', textDecoration: 'none' }}
              >
                Portal Gov.br
              </a>
            </div>
          </div>
        </div>
      </div>

      {/* Header principal */}
      <div style={{ padding: '16px 0' }}>
        <div className="container">
          <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', flexWrap: 'wrap', gap: '16px' }}>
            {/* Logo e título */}
            <div style={{ display: 'flex', alignItems: 'center', gap: '16px' }}>
              <div
                style={{
                  width: '48px',
                  height: '48px',
                  backgroundColor: 'var(--gray-0)',
                  borderRadius: '4px',
                  display: 'flex',
                  alignItems: 'center',
                  justifyContent: 'center',
                  fontSize: '24px'
                }}
              >
                🚌
              </div>
              <div>
                <h1 style={{ fontSize: '1.5rem', margin: '0', fontWeight: '600' }}>
                  Atividades Extracurriculares
                </h1>
                <p style={{ margin: '0', fontSize: '0.875rem', opacity: '0.9' }}>
                  Secretaria de Estado de Educação do Distrito Federal
                </p>
              </div>
            </div>

            {/* Navegação */}
            <nav>
              <ul style={{
                display: 'flex',
                listStyle: 'none',
                gap: '24px',
                margin: '0',
                padding: '0',
                flexWrap: 'wrap'
              }}>
                <li>
                  <Link
                    to="/"
                    style={{
                      color: 'var(--gray-0)',
                      textDecoration: 'none',
                      padding: '8px 16px',
                      borderRadius: '4px',
                      backgroundColor: isActive('/') ? 'rgba(255, 255, 255, 0.2)' : 'transparent',
                      transition: 'background-color 0.2s ease'
                    }}
                  >
                    Início
                  </Link>
                </li>
                <li>
                  <Link
                    to="/formulario"
                    style={{
                      color: 'var(--gray-0)',
                      textDecoration: 'none',
                      padding: '8px 16px',
                      borderRadius: '4px',
                      backgroundColor: isActive('/formulario') ? 'rgba(255, 255, 255, 0.2)' : 'transparent',
                      transition: 'background-color 0.2s ease'
                    }}
                  >
                    Novo Requerimento
                  </Link>
                </li>
                <li>
                  <Link
                    to="/ajuda"
                    style={{
                      color: 'var(--gray-0)',
                      textDecoration: 'none',
                      padding: '8px 16px',
                      borderRadius: '4px',
                      backgroundColor: isActive('/ajuda') ? 'rgba(255, 255, 255, 0.2)' : 'transparent',
                      transition: 'background-color 0.2s ease'
                    }}
                  >
                    Ajuda
                  </Link>
                </li>
              </ul>
            </nav>
          </div>
        </div>
      </div>
    </header>
  );
};

export default Header;

import React from 'react'
import ReactDOM from 'react-dom/client'
import App from './App.jsx'

ReactDOM.createRoot(document.getElementById('root')).render(
  <React.StrictMode>
    <App />
  </React.StrictMode>,
)

// js/ui/charts.js

export function setupCharts() {
    // Simular gráficos com Canvas
    const occupancyChart = document.getElementById("occupancyChart");
    const costsChart = document.getElementById("costsChart");

    if (occupancyChart) {
        drawOccupancyChart(occupancyChart);
    }

    if (costsChart) {
        drawCostsChart(costsChart);
    }
}

export function drawOccupancyChart(canvas) {
    const ctx = canvas.getContext("2d");
    canvas.width = canvas.offsetWidth;
    canvas.height = canvas.offsetHeight;

    // Dados simulados
    const data = [65, 78, 82, 91, 87, 76, 69, 84, 88, 92, 85, 79];
    const labels = [
        "06:00",
        "07:00",
        "08:00",
        "09:00",
        "10:00",
        "11:00",
        "12:00",
        "13:00",
        "14:00",
        "15:00",
        "16:00",
        "17:00",
    ];

    // Configurações
    const padding = 40;
    const chartWidth = canvas.width - padding * 2;
    const chartHeight = canvas.height - padding * 2;
    const maxValue = Math.max(...data);

    // Limpar canvas
    ctx.clearRect(0, 0, canvas.width, canvas.height);

    // Desenhar grade
    ctx.strokeStyle = "#E9ECEF";
    ctx.lineWidth = 1;

    // Linhas horizontais
    for (let i = 0; i <= 5; i++) {
        const y = padding + (chartHeight / 5) * i;
        ctx.beginPath();
        ctx.moveTo(padding, y);
        ctx.lineTo(canvas.width - padding, y);
        ctx.stroke();
    }

    // Desenhar linha do gráfico
    ctx.strokeStyle = "#1351B4";
    ctx.lineWidth = 3;
    ctx.beginPath();

    data.forEach((value, index) => {
        const x = padding + (chartWidth / (data.length - 1)) * index;
        const y = padding + chartHeight - (value / maxValue) * chartHeight;

        if (index === 0) {
            ctx.moveTo(x, y);
        } else {
            ctx.lineTo(x, y);
        }
    });

    ctx.stroke();

    // Desenhar pontos
    ctx.fillStyle = "#1351B4";
    data.forEach((value, index) => {
        const x = padding + (chartWidth / (data.length - 1)) * index;
        const y = padding + chartHeight - (value / maxValue) * chartHeight;

        ctx.beginPath();
        ctx.arc(x, y, 4, 0, Math.PI * 2);
        ctx.fill();
    });

    // Adicionar texto de exemplo
    ctx.fillStyle = "#6C757D";
    ctx.font = "12px Noto Sans";
    ctx.textAlign = "center";
    ctx.fillText("Gráfico de Ocupação por Horário", canvas.width / 2, 20);
}

export function drawCostsChart(canvas) {
    const ctx = canvas.getContext("2d");
    canvas.width = canvas.offsetWidth;
    canvas.height = canvas.offsetHeight;

    // Dados simulados para gráfico de pizza
    const data = [
        { label: "Combustível", value: 45, color: "#1351B4" },
        { label: "Manutenção", value: 25, color: "#4A90E2" },
        { label: "Pessoal", value: 20, color: "#168821" },
        { label: "Outros", value: 10, color: "#FFCD07" },
    ];

    const centerX = canvas.width / 2;
    const centerY = canvas.height / 2;
    const radius = Math.min(centerX, centerY) - 40;

    let currentAngle = -Math.PI / 2;

    data.forEach((item) => {
        const sliceAngle = (item.value / 100) * Math.PI * 2;

        // Desenhar fatia
        ctx.fillStyle = item.color;
        ctx.beginPath();
        ctx.moveTo(centerX, centerY);
        ctx.arc(centerX, centerY, radius, currentAngle, currentAngle + sliceAngle);
        ctx.closePath();
        ctx.fill();

        currentAngle += sliceAngle;
    });

    // Adicionar texto de exemplo
    ctx.fillStyle = "#6C757D";
    ctx.font = "12px Noto Sans";
    ctx.textAlign = "center";
    ctx.fillText("Distribuição de Custos", centerX, centerY + radius + 20);

    // Adicionar legenda
    let legendX = centerX + radius + 20;
    let legendY = centerY - radius;
    data.forEach((item, index) => {
        ctx.fillStyle = item.color;
        ctx.fillRect(legendX, legendY + index * 20, 10, 10);
        ctx.fillStyle = "#333";
        ctx.textAlign = "left";
        ctx.fillText(`${item.label} (${item.value}%)`, legendX + 15, legendY + index * 20 + 9);
    });
}


{
  "name": "atividades-extracurriculares-sedf",
  "private": true,
  "version": "0.0.0",
  "type": "module",
  "scripts": {
    "dev": "vite",
    "build": "vite build",
    "lint": "eslint .",
    "preview": "vite preview"
  },
  "dependencies": {
    "@hookform/resolvers": "^5.0.1",
    "@radix-ui/react-accordion": "^1.2.10",
    "@radix-ui/react-alert-dialog": "^1.1.13",
    "@radix-ui/react-aspect-ratio": "^1.1.6",
    "@radix-ui/react-avatar": "^1.1.9",
    "@radix-ui/react-checkbox": "^1.3.1",
    "@radix-ui/react-collapsible": "^1.1.10",
    "@radix-ui/react-context-menu": "^2.2.14",
    "@radix-ui/react-dialog": "^1.1.13",
    "@radix-ui/react-dropdown-menu": "^2.1.14",
    "@radix-ui/react-hover-card": "^1.1.13",
    "@radix-ui/react-label": "^2.1.6",
    "@radix-ui/react-menubar": "^1.1.14",
    "@radix-ui/react-navigation-menu": "^1.2.12",
    "@radix-ui/react-popover": "^1.1.13",
    "@radix-ui/react-progress": "^1.1.6",
    "@radix-ui/react-radio-group": "^1.3.6",
    "@radix-ui/react-scroll-area": "^1.2.8",
    "@radix-ui/react-select": "^2.2.4",
    "@radix-ui/react-separator": "^1.1.6",
    "@radix-ui/react-slider": "^1.3.4",
    "@radix-ui/react-slot": "^1.2.2",
    "@radix-ui/react-switch": "^1.2.4",
    "@radix-ui/react-tabs": "^1.1.11",
    "@radix-ui/react-toggle": "^1.1.8",
    "@radix-ui/react-toggle-group": "^1.1.9",
    "@radix-ui/react-tooltip": "^1.2.6",
    "@tailwindcss/vite": "^4.1.7",
    "class-variance-authority": "^0.7.1",
    "clsx": "^2.1.1",
    "cmdk": "^1.1.1",
    "date-fns": "^4.1.0",
    "embla-carousel-react": "^8.6.0",
    "framer-motion": "^12.15.0",
    "input-otp": "^1.4.2",
    "lucide-react": "^0.510.0",
    "next-themes": "^0.4.6",
    "react": "^19.1.0",
    "react-day-picker": "8.10.1",
    "react-dom": "^19.1.0",
    "react-hook-form": "^7.56.3",
    "react-resizable-panels": "^3.0.2",
    "react-router-dom": "^7.6.1",
    "recharts": "^2.15.3",
    "sonner": "^2.0.3",
    "tailwind-merge": "^3.3.0",
    "tailwindcss": "^4.1.7",
    "vaul": "^1.1.2",
    "zod": "^3.24.4"
  },
  "devDependencies": {
    "@eslint/js": "^9.25.0",
    "@types/react": "^19.1.2",
    "@types/react-dom": "^19.1.2",
    "@vitejs/plugin-react": "^4.4.1",
    "eslint": "^9.25.0",
    "eslint-plugin-react-hooks": "^5.2.0",
    "eslint-plugin-react-refresh": "^0.4.19",
    "globals": "^16.0.0",
    "tw-animate-css": "^1.2.9",
    "vite": "^6.3.5"
  },
  "packageManager": "pnpm@10.4.1+sha512.c753b6c3ad7afa13af388fa6d808035a008e30ea9993f58c6663e2bc5ff21679aa834db094987129aa4d488b86df57f7b634981b2f827cdcacc698cc0cfb88af"
}
import React from 'react';
import { BrowserRouter as Router, Routes, Route } from 'react-router-dom';
import Header from './components/Header';
import Footer from './components/Footer';
import HomePage from './pages/HomePage';
import FormPage from './pages/FormPage';
import ConfirmationPage from './pages/ConfirmationPage';
import HelpPage from './pages/HelpPage';
import './App.css';

function App() {
  return (
    <Router>
      <div className="min-h-screen flex flex-col bg-gray-50">
        <Header />
        <main className="flex-1">
          <Routes>
            <Route path="/" element={<HomePage />} />
            <Route path="/formulario" element={<FormPage />} />
            <Route path="/confirmacao" element={<ConfirmationPage />} />
            <Route path="/ajuda" element={<HelpPage />} />
          </Routes>
        </main>
        <Footer />
      </div>
    </Router>
  );
}

export default App;

<!doctype html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="Sistema de Requerimento de Transporte Escolar para Atividades Extracurriculares da SEDF - Secretaria de Estado de Educação do Distrito Federal" />
    <meta name="keywords" content="SEDF, transporte escolar, atividades extracurriculares, requerimento, educação, Distrito Federal" />
    <meta name="author" content="SEDF - Secretaria de Estado de Educação do Distrito Federal" />

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Sistema de Atividades Extracurriculares - SEDF" />
    <meta property="og:description" content="Facilite a solicitação de transporte escolar para atividades extracurriculares das unidades de ensino da SEDF" />

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image" />
    <meta property="twitter:title" content="Sistema de Atividades Extracurriculares - SEDF" />
    <meta property="twitter:description" content="Facilite a solicitação de transporte escolar para atividades extracurriculares das unidades de ensino da SEDF" />

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans:ital,wght@0,400;0,500;0,600;0,700;1,400;1,500&display=swap" rel="stylesheet">

    <title>Sistema de Atividades Extracurriculares - SEDF</title>
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.jsx"></script>
  </body>
</html>

// js/app.js
import { initializeApp } from './main.js';

document.addEventListener('DOMContentLoaded', initializeApp);


import React from 'react';

const Footer = () => {
  return (
    <footer style={{ backgroundColor: 'var(--gray-90)', color: 'var(--gray-0)', marginTop: 'auto' }}>
      <div style={{ padding: '32px 0' }}>
        <div className="container">
          <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(250px, 1fr))', gap: '32px' }}>
            {/* Informações da SEDF */}
            <div>
              <h3 style={{ fontSize: '1.125rem', marginBottom: '16px', color: 'var(--gray-0)' }}>
                SEDF
              </h3>
              <p style={{ fontSize: '0.875rem', lineHeight: '1.5', margin: '0 0 8px 0' }}>
                Secretaria de Estado de Educação do Distrito Federal
              </p>
              <p style={{ fontSize: '0.875rem', lineHeight: '1.5', margin: '0' }}>
                Sistema de Requerimento de Transporte Escolar para Atividades Extracurriculares
              </p>
            </div>

            {/* Links úteis */}
            <div>
              <h3 style={{ fontSize: '1.125rem', marginBottom: '16px', color: 'var(--gray-0)' }}>
                Links Úteis
              </h3>
              <ul style={{ listStyle: 'none', padding: '0', margin: '0' }}>
                <li style={{ marginBottom: '8px' }}>
                  <a
                    href="https://www.educacao.df.gov.br"
                    target="_blank"
                    rel="noopener noreferrer"
                    style={{ color: 'var(--gray-30)', textDecoration: 'none', fontSize: '0.875rem' }}
                  >
                    Portal da SEDF
                  </a>
                </li>
                <li style={{ marginBottom: '8px' }}>
                  <a
                    href="https://www.gov.br"
                    target="_blank"
                    rel="noopener noreferrer"
                    style={{ color: 'var(--gray-30)', textDecoration: 'none', fontSize: '0.875rem' }}
                  >
                    Portal Gov.br
                  </a>
                </li>
                <li style={{ marginBottom: '8px' }}>
                  <a
                    href="https://www.planalto.gov.br/ccivil_03/_ato2015-2018/2018/lei/l13709.htm"
                    target="_blank"
                    rel="noopener noreferrer"
                    style={{ color: 'var(--gray-30)', textDecoration: 'none', fontSize: '0.875rem' }}
                  >
                    LGPD - Lei Geral de Proteção de Dados
                  </a>
                </li>
              </ul>
            </div>

            {/* Contato */}
            <div>
              <h3 style={{ fontSize: '1.125rem', marginBottom: '16px', color: 'var(--gray-0)' }}>
                Contato
              </h3>
              <p style={{ fontSize: '0.875rem', lineHeight: '1.5', margin: '0 0 8px 0' }}>
                Para dúvidas sobre o sistema, entre em contato com a UNIAE via SEI.
              </p>
              <p style={{ fontSize: '0.875rem', lineHeight: '1.5', margin: '0' }}>
                Lembre-se: solicitações devem ser feitas com antecedência mínima de 15 dias.
              </p>
            </div>
          </div>

          {/* Linha divisória */}
          <hr style={{
            border: 'none',
            borderTop: '1px solid var(--gray-60)',
            margin: '32px 0 24px 0'
          }} />

          {/* Informações legais */}
          <div style={{
            display: 'flex',
            justifyContent: 'space-between',
            alignItems: 'center',
            flexWrap: 'wrap',
            gap: '16px',
            fontSize: '0.875rem'
          }}>
            <div>
              <p style={{ margin: '0', color: 'var(--gray-30)' }}>
                © 2025 Governo do Distrito Federal. Todos os direitos reservados.
              </p>
            </div>
            <div style={{ display: 'flex', gap: '24px', flexWrap: 'wrap' }}>
              <span style={{ color: 'var(--gray-30)' }}>
                Desenvolvido seguindo o Design System Gov.br
              </span>
              <span style={{ color: 'var(--gray-30)' }}>
                Versão 1.0.0
              </span>
            </div>
          </div>
        </div>
      </div>
    </footer>
  );
};

export default Footer;

import React from 'react';
import { Link } from 'react-router-dom';

const HelpPage = () => {
  return (
    <div style={{ padding: '48px 0' }}>
      <div className="container">
        <div style={{ maxWidth: '800px', margin: '0 auto' }}>
          <div className="card">
            <h1 style={{ textAlign: 'center', marginBottom: '32px' }}>
              📚 Central de Ajuda
            </h1>

            {/* Perguntas Frequentes */}
            <section style={{ marginBottom: '48px' }}>
              <h2 style={{ marginBottom: '24px' }}>❓ Perguntas Frequentes</h2>

              <div style={{ marginBottom: '24px' }}>
                <h3 style={{ color: 'var(--blue-60)', marginBottom: '8px' }}>
                  1. Com quanto tempo de antecedência devo fazer a solicitação?
                </h3>
                <p style={{ margin: '0', paddingLeft: '16px', borderLeft: '3px solid var(--blue-50)' }}>
                  As solicitações devem ser encaminhadas à UNIAE via SEI com <strong>antecedência mínima de 15 dias</strong> em relação à data do evento. Solicitações enviadas fora do prazo não serão atendidas.
                </p>
              </div>

              <div style={{ marginBottom: '24px' }}>
                <h3 style={{ color: 'var(--blue-60)', marginBottom: '8px' }}>
                  2. Quais são os horários disponíveis para o transporte?
                </h3>
                <p style={{ margin: '0', paddingLeft: '16px', borderLeft: '3px solid var(--blue-50)' }}>
                  O serviço está disponível exclusivamente nos seguintes horários:<br />
                  • <strong>Turno Matutino:</strong> das 9h (saída da escola) às 11h (retorno à escola)<br />
                  • <strong>Turno Vespertino:</strong> das 14h (saída da escola) às 16h (retorno à escola)<br />
                  Não há oferta de serviço no período integral ou turno noturno.
                </p>
              </div>

              <div style={{ marginBottom: '24px' }}>
                <h3 style={{ color: 'var(--blue-60)', marginBottom: '8px' }}>
                  3. Quantos estudantes cabem em cada veículo?
                </h3>
                <p style={{ margin: '0', paddingLeft: '16px', borderLeft: '3px solid var(--blue-50)' }}>
                  Cada veículo comporta até <strong>38 passageiros</strong>. O sistema calcula automaticamente a quantidade de veículos necessários com base no número de estudantes informado.
                </p>
              </div>

              <div style={{ marginBottom: '24px' }}>
                <h3 style={{ color: 'var(--blue-60)', marginBottom: '8px' }}>
                  4. É obrigatório enviar a lista dos estudantes?
                </h3>
                <p style={{ margin: '0', paddingLeft: '16px', borderLeft: '3px solid var(--blue-50)' }}>
                  Sim, o envio da <strong>lista nominal e numerada dos estudantes</strong> que utilizarão o transporte é obrigatório e deve ser anexada ao processo no SEI.
                </p>
              </div>

              <div style={{ marginBottom: '24px' }}>
                <h3 style={{ color: 'var(--blue-60)', marginBottom: '8px' }}>
                  5. Como devo criar o processo no SEI?
                </h3>
                <p style={{ margin: '0', paddingLeft: '16px', borderLeft: '3px solid var(--blue-50)' }}>
                  Em atendimento à LGPD (Lei nº 13.709/2018), os processos de solicitação de transporte escolar devem ser gerados com <strong>nível de acesso RESTRITO</strong>.
                </p>
              </div>

              <div style={{ marginBottom: '24px' }}>
                <h3 style={{ color: 'var(--blue-60)', marginBottom: '8px' }}>
                  6. Posso cancelar uma solicitação já enviada?
                </h3>
                <p style={{ margin: '0', paddingLeft: '16px', borderLeft: '3px solid var(--blue-50)' }}>
                  Sim, mas eventuais cancelamentos devem ser comunicados à UNIAE via SEI com <strong>antecedência mínima de 48 horas</strong>, para que a empresa responsável seja comunicada a tempo.
                </p>
              </div>
            </section>

            {/* Passo a passo */}
            <section style={{ marginBottom: '48px' }}>
              <h2 style={{ marginBottom: '24px' }}>📋 Passo a Passo Completo</h2>

              <div style={{
                display: 'grid',
                gap: '24px'
              }}>
                <div style={{
                  display: 'flex',
                  gap: '16px',
                  padding: '20px',
                  backgroundColor: 'var(--gray-5)',
                  borderRadius: '8px',
                  borderLeft: '4px solid var(--blue-50)'
                }}>
                  <div style={{
                    width: '40px',
                    height: '40px',
                    backgroundColor: 'var(--blue-50)',
                    color: 'var(--gray-0)',
                    borderRadius: '50%',
                    display: 'flex',
                    alignItems: 'center',
                    justifyContent: 'center',
                    fontSize: '18px',
                    fontWeight: 'bold',
                    flexShrink: 0
                  }}>
                    1
                  </div>
                  <div>
                    <h3 style={{ margin: '0 0 8px 0' }}>Planejamento</h3>
                    <p style={{ margin: '0', color: 'var(--gray-60)' }}>
                      Defina a atividade extracurricular com pelo menos 15 dias de antecedência. Verifique se os horários estão dentro dos períodos disponíveis (9h-11h ou 14h-16h).
                    </p>
                  </div>
                </div>

                <div style={{
                  display: 'flex',
                  gap: '16px',
                  padding: '20px',
                  backgroundColor: 'var(--gray-5)',
                  borderRadius: '8px',
                  borderLeft: '4px solid var(--blue-50)'
                }}>
                  <div style={{
                    width: '40px',
                    height: '40px',
                    backgroundColor: 'var(--blue-50)',
                    color: 'var(--gray-0)',
                    borderRadius: '50%',
                    display: 'flex',
                    alignItems: 'center',
                    justifyContent: 'center',
                    fontSize: '18px',
                    fontWeight: 'bold',
                    flexShrink: 0
                  }}>
                    2
                  </div>
                  <div>
                    <h3 style={{ margin: '0 0 8px 0' }}>Preenchimento do Formulário</h3>
                    <p style={{ margin: '0', color: 'var(--gray-60)' }}>
                      Acesse o formulário online e preencha todos os dados obrigatórios: informações da atividade, endereços, horários, número de estudantes e justificativa pedagógica.
                    </p>
                  </div>
                </div>

                <div style={{
                  display: 'flex',
                  gap: '16px',
                  padding: '20px',
                  backgroundColor: 'var(--gray-5)',
                  borderRadius: '8px',
                  borderLeft: '4px solid var(--blue-50)'
                }}>
                  <div style={{
                    width: '40px',
                    height: '40px',
                    backgroundColor: 'var(--blue-50)',
                    color: 'var(--gray-0)',
                    borderRadius: '50%',
                    display: 'flex',
                    alignItems: 'center',
                    justifyContent: 'center',
                    fontSize: '18px',
                    fontWeight: 'bold',
                    flexShrink: 0
                  }}>
                    3
                  </div>
                  <div>
                    <h3 style={{ margin: '0 0 8px 0' }}>Download do Requerimento</h3>
                    <p style={{ margin: '0', color: 'var(--gray-60)' }}>
                      Após preencher o formulário, baixe o arquivo do requerimento gerado automaticamente pelo sistema.
                    </p>
                  </div>
                </div>

                <div style={{
                  display: 'flex',
                  gap: '16px',
                  padding: '20px',
                  backgroundColor: 'var(--gray-5)',
                  borderRadius: '8px',
                  borderLeft: '4px solid var(--blue-50)'
                }}>
                  <div style={{
                    width: '40px',
                    height: '40px',
                    backgroundColor: 'var(--blue-50)',
                    color: 'var(--gray-0)',
                    borderRadius: '50%',
                    display: 'flex',
                    alignItems: 'center',
                    justifyContent: 'center',
                    fontSize: '18px',
                    fontWeight: 'bold',
                    flexShrink: 0
                  }}>
                    4
                  </div>
                  <div>
                    <h3 style={{ margin: '0 0 8px 0' }}>Preparação da Lista de Estudantes</h3>
                    <p style={{ margin: '0', color: 'var(--gray-60)' }}>
                      Prepare a lista nominal e numerada de todos os estudantes que participarão da atividade. Esta lista deve ser anexada ao processo.
                    </p>
                  </div>
                </div>

                <div style={{
                  display: 'flex',
                  gap: '16px',
                  padding: '20px',
                  backgroundColor: 'var(--gray-5)',
                  borderRadius: '8px',
                  borderLeft: '4px solid var(--blue-50)'
                }}>
                  <div style={{
                    width: '40px',
                    height: '40px',
                    backgroundColor: 'var(--blue-50)',
                    color: 'var(--gray-0)',
                    borderRadius: '50%',
                    display: 'flex',
                    alignItems: 'center',
                    justifyContent: 'center',
                    fontSize: '18px',
                    fontWeight: 'bold',
                    flexShrink: 0
                  }}>
                    5
                  </div>
                  <div>
                    <h3 style={{ margin: '0 0 8px 0' }}>Criação do Processo no SEI</h3>
                    <p style={{ margin: '0', color: 'var(--gray-60)' }}>
                      Acesse o sistema SEI e crie um novo processo com <strong>nível de acesso RESTRITO</strong>. Anexe o requerimento e a lista de estudantes.
                    </p>
                  </div>
                </div>

                <div style={{
                  display: 'flex',
                  gap: '16px',
                  padding: '20px',
                  backgroundColor: 'var(--gray-5)',
                  borderRadius: '8px',
                  borderLeft: '4px solid var(--blue-50)'
                }}>
                  <div style={{
                    width: '40px',
                    height: '40px',
                    backgroundColor: 'var(--blue-50)',
                    color: 'var(--gray-0)',
                    borderRadius: '50%',
                    display: 'flex',
                    alignItems: 'center',
                    justifyContent: 'center',
                    fontSize: '18px',
                    fontWeight: 'bold',
                    flexShrink: 0
                  }}>
                    6
                  </div>
                  <div>
                    <h3 style={{ margin: '0 0 8px 0' }}>Envio para a UNIAE</h3>
                    <p style={{ margin: '0', color: 'var(--gray-60)' }}>
                      Encaminhe o processo completo para a UNIAE através do SEI, respeitando o prazo mínimo de 15 dias de antecedência.
                    </p>
                  </div>
                </div>
              </div>
            </section>

            {/* Documentos necessários */}
            <section style={{ marginBottom: '48px' }}>
              <h2 style={{ marginBottom: '24px' }}>📄 Documentos Necessários</h2>

              <div className="alert alert-info">
                <h3 style={{ marginBottom: '16px' }}>Checklist de Documentos</h3>
                <ul style={{ margin: '0', paddingLeft: '20px' }}>
                  <li style={{ marginBottom: '8px' }}>
                    ✅ Requerimento preenchido (gerado pelo sistema)
                  </li>
                  <li style={{ marginBottom: '8px' }}>
                    ✅ Lista nominal e numerada dos estudantes participantes
                  </li>
                  <li style={{ marginBottom: '8px' }}>
                    ✅ Justificativa pedagógica detalhada
                  </li>
                  <li style={{ marginBottom: '8px' }}>
                    ✅ Processo SEI com nível de acesso RESTRITO
                  </li>
                </ul>
              </div>
            </section>

            {/* Contato */}
            <section style={{ marginBottom: '32px' }}>
              <h2 style={{ marginBottom: '24px' }}>📞 Precisa de Mais Ajuda?</h2>

              <div style={{
                backgroundColor: 'var(--gray-5)',
                padding: '24px',
                borderRadius: '8px',
                textAlign: 'center'
              }}>
                <p style={{ margin: '0 0 16px 0', fontSize: '1.125rem' }}>
                  Para dúvidas específicas sobre o processo, entre em contato com a UNIAE através do sistema SEI.
                </p>
                <p style={{ margin: '0', color: 'var(--gray-60)' }}>
                  Lembre-se: este sistema é apenas para gerar o requerimento. O envio oficial deve ser feito via SEI.
                </p>
              </div>
            </section>

            {/* Botão para voltar */}
            <div style={{ textAlign: 'center' }}>
              <Link to="/formulario" className="btn btn-primary" style={{ marginRight: '16px' }}>
                📝 Fazer Requerimento
              </Link>
              <Link to="/" className="btn btn-secondary">
                🏠 Voltar ao Início
              </Link>
            </div>
          </div>
        </div>
      </div>
    </div>
  );
};

export default HelpPage;

// js/ui/filters.js

export function setupFilters() {
    const searchInput = document.querySelector(".search-input input");
    const filterSelects = document.querySelectorAll(".filter-group select");

    if (searchInput) {
        searchInput.addEventListener("input", debounce(handleSearch, 300));
    }

    filterSelects.forEach((select) => {
        select.addEventListener("change", handleFilterChange);
    });
}

export function handleSearch(event) {
    const query = event.target.value.toLowerCase();
    console.log("Pesquisando por:", query);

    // Simular busca
    if (query.length > 2) {
        // Aqui seria feita a busca real
        showSearchResults(query);
    }
}

export function handleFilterChange(event) {
    const filter = event.target.name;
    const value = event.target.value;
    console.log("Filtro alterado:", filter, value);

    // Aplicar filtros
    applyFilters();
}

export function applyFilters() {
    // Simular aplicação de filtros
    const tableRows = document.querySelectorAll(".data-table tbody tr");
    tableRows.forEach((row, index) => {
        // Animação de entrada escalonada
        row.style.animation = `slideInUp 0.3s ease ${index * 0.1}s forwards`;
    });
}

function showSearchResults(query) {
    console.log(`Exibindo resultados para: ${query}`);
    // Lógica para exibir resultados da busca
}

function debounce(func, delay) {
    let timeout;
    return function(...args) {
        const context = this;
        clearTimeout(timeout);
        timeout = setTimeout(() => func.apply(context, args), delay);
    };
}


import React from 'react';
import { Link } from 'react-router-dom';

const HomePage = () => {
  return (
    <div style={{ padding: '48px 0' }}>
      <div className="container">
        {/* Hero Section */}
        <section style={{ textAlign: 'center', marginBottom: '64px' }}>
          <div style={{
            maxWidth: '800px',
            margin: '0 auto',
            padding: '48px 24px',
            backgroundColor: 'var(--gray-0)',
            borderRadius: '8px',
            boxShadow: '0 4px 16px rgba(0, 0, 0, 0.1)'
          }}>
            <div style={{ fontSize: '64px', marginBottom: '24px' }}>🚌</div>
            <h1 style={{
              fontSize: '2.5rem',
              marginBottom: '24px',
              color: 'var(--blue-60)',
              fontWeight: '700'
            }}>
              Sistema de Requerimento de Transporte Escolar
            </h1>
            <p style={{
              fontSize: '1.25rem',
              marginBottom: '32px',
              color: 'var(--gray-60)',
              lineHeight: '1.6'
            }}>
              Facilite a solicitação de transporte escolar para atividades extracurriculares das unidades de ensino da SEDF
            </p>
            <Link
              to="/formulario"
              className="btn btn-primary"
              style={{
                fontSize: '1.125rem',
                padding: '16px 32px',
                textDecoration: 'none'
              }}
            >
              Fazer Novo Requerimento
            </Link>
          </div>
        </section>

        {/* Informações importantes */}
        <section style={{ marginBottom: '64px' }}>
          <h2 style={{ textAlign: 'center', marginBottom: '48px' }}>
            Informações Importantes
          </h2>

          <div className="grid grid-2">
            {/* Prazo */}
            <div className="card">
              <div style={{ display: 'flex', alignItems: 'flex-start', gap: '16px' }}>
                <div style={{
                  fontSize: '32px',
                  backgroundColor: 'var(--orange-vivid-20)',
                  padding: '12px',
                  borderRadius: '8px',
                  flexShrink: 0
                }}>
                  ⏰
                </div>
                <div>
                  <h3 style={{ color: 'var(--gray-90)', marginBottom: '12px' }}>
                    Antecedência Mínima
                  </h3>
                  <p style={{ margin: '0', color: 'var(--gray-60)' }}>
                    Solicitações devem ser encaminhadas à UNIAE via SEI com <strong>antecedência mínima de 15 dias</strong> em relação à data do evento.
                  </p>
                </div>
              </div>
            </div>

            {/* Horários */}
            <div className="card">
              <div style={{ display: 'flex', alignItems: 'flex-start', gap: '16px' }}>
                <div style={{
                  fontSize: '32px',
                  backgroundColor: 'var(--blue-50)',
                  color: 'var(--gray-0)',
                  padding: '12px',
                  borderRadius: '8px',
                  flexShrink: 0
                }}>
                  🕐
                </div>
                <div>
                  <h3 style={{ color: 'var(--gray-90)', marginBottom: '12px' }}>
                    Horários Disponíveis
                  </h3>
                  <p style={{ margin: '0', color: 'var(--gray-60)' }}>
                    <strong>Matutino:</strong> 9h às 11h<br />
                    <strong>Vespertino:</strong> 14h às 16h<br />
                    Não há serviço integral ou noturno.
                  </p>
                </div>
              </div>
            </div>

            {/* Documentação */}
            <div className="card">
              <div style={{ display: 'flex', alignItems: 'flex-start', gap: '16px' }}>
                <div style={{
                  fontSize: '32px',
                  backgroundColor: 'var(--green-50)',
                  color: 'var(--gray-0)',
                  padding: '12px',
                  borderRadius: '8px',
                  flexShrink: 0
                }}>
                  📋
                </div>
                <div>
                  <h3 style={{ color: 'var(--gray-90)', marginBottom: '12px' }}>
                    Documentação Obrigatória
                  </h3>
                  <p style={{ margin: '0', color: 'var(--gray-60)' }}>
                    É obrigatório o envio da <strong>lista nominal e numerada dos estudantes</strong> que utilizarão o transporte.
                  </p>
                </div>
              </div>
            </div>

            {/* LGPD */}
            <div className="card">
              <div style={{ display: 'flex', alignItems: 'flex-start', gap: '16px' }}>
                <div style={{
                  fontSize: '32px',
                  backgroundColor: 'var(--gray-60)',
                  color: 'var(--gray-0)',
                  padding: '12px',
                  borderRadius: '8px',
                  flexShrink: 0
                }}>
                  🔒
                </div>
                <div>
                  <h3 style={{ color: 'var(--gray-90)', marginBottom: '12px' }}>
                    Proteção de Dados
                  </h3>
                  <p style={{ margin: '0', color: 'var(--gray-60)' }}>
                    Em atendimento à LGPD, os processos devem ser gerados com <strong>nível de acesso RESTRITO</strong>.
                  </p>
                </div>
              </div>
            </div>
          </div>
        </section>

        {/* Alerta importante */}
        <section style={{ marginBottom: '64px' }}>
          <div className="alert alert-warning">
            <div style={{ display: 'flex', alignItems: 'flex-start', gap: '12px' }}>
              <div style={{ fontSize: '24px', flexShrink: 0 }}>⚠️</div>
              <div>
                <h3 style={{ margin: '0 0 8px 0', fontSize: '1.125rem' }}>
                  Atenção, Gestor!
                </h3>
                <p style={{ margin: '0' }}>
                  O deslocamento desnecessário do veículo (sem o cancelamento prévio da UE) gera despesa pública que poderá configurar dano ao erário, com possível responsabilização por ato comissivo ou omissivo, conforme art. 183 da Lei Complementar nº 840 de 23/12/2011.
                </p>
              </div>
            </div>
          </div>
        </section>

        {/* Como funciona */}
        <section>
          <h2 style={{ textAlign: 'center', marginBottom: '48px' }}>
            Como Funciona
          </h2>

          <div style={{
            display: 'grid',
            gridTemplateColumns: 'repeat(auto-fit, minmax(250px, 1fr))',
            gap: '32px',
            maxWidth: '900px',
            margin: '0 auto'
          }}>
            <div style={{ textAlign: 'center' }}>
              <div style={{
                width: '80px',
                height: '80px',
                backgroundColor: 'var(--blue-50)',
                color: 'var(--gray-0)',
                borderRadius: '50%',
                display: 'flex',
                alignItems: 'center',
                justifyContent: 'center',
                fontSize: '32px',
                margin: '0 auto 16px auto'
              }}>
                1
              </div>
              <h3 style={{ marginBottom: '12px' }}>Preencha o Formulário</h3>
              <p style={{ color: 'var(--gray-60)', margin: '0' }}>
                Complete todos os dados da atividade extracurricular e informações de transporte necessárias.
              </p>
            </div>

            <div style={{ textAlign: 'center' }}>
              <div style={{
                width: '80px',
                height: '80px',
                backgroundColor: 'var(--blue-50)',
                color: 'var(--gray-0)',
                borderRadius: '50%',
                display: 'flex',
                alignItems: 'center',
                justifyContent: 'center',
                fontSize: '32px',
                margin: '0 auto 16px auto'
              }}>
                2
              </div>
              <h3 style={{ marginBottom: '12px' }}>Revise os Dados</h3>
              <p style={{ color: 'var(--gray-60)', margin: '0' }}>
                Confira todas as informações preenchidas antes de finalizar o requerimento.
              </p>
            </div>

            <div style={{ textAlign: 'center' }}>
              <div style={{
                width: '80px',
                height: '80px',
                backgroundColor: 'var(--blue-50)',
                color: 'var(--gray-0)',
                borderRadius: '50%',
                display: 'flex',
                alignItems: 'center',
                justifyContent: 'center',
                fontSize: '32px',
                margin: '0 auto 16px auto'
              }}>
                3
              </div>
              <h3 style={{ marginBottom: '12px' }}>Envie via SEI</h3>
              <p style={{ color: 'var(--gray-60)', margin: '0' }}>
                Encaminhe o requerimento gerado para a UNIAE através do sistema SEI.
              </p>
            </div>
          </div>
        </section>
      </div>
    </div>
  );
};

export default HomePage;

// js/state.js

export let appState = {
    currentPage: 'dashboard',
    lastUpdate: new Date(),
    realTimeData: {
        students: 12847,
        vehicles: 156,
        occupancy: 87,
        kmMonth: 45678,
        incidents: 23,
        monthlyCost: 2847
    },
    alerts: [],
    vehicles: []
};

export function updateAppState(newState) {
    Object.assign(appState, newState);
}


